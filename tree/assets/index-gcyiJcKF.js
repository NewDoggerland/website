(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lu={exports:{}},Lo={},Ou={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),rp=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),sp=Symbol.for("react.provider"),ap=Symbol.for("react.context"),up=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),dp=Symbol.for("react.memo"),pp=Symbol.for("react.lazy"),Sa=Symbol.iterator;function fp(e){return e===null||typeof e!="object"?null:(e=Sa&&e[Sa]||e["@@iterator"],typeof e=="function"?e:null)}var qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wu=Object.assign,Uu={};function Tr(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||qu}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hu(){}Hu.prototype=Tr.prototype;function Rs(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||qu}var zs=Rs.prototype=new Hu;zs.constructor=Rs;Wu(zs,Tr.prototype);zs.isPureReactComponent=!0;var ja=Array.isArray,Vu=Object.prototype.hasOwnProperty,Ts={current:null},Gu={key:!0,ref:!0,__self:!0,__source:!0};function Yu(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Vu.call(t,r)&&!Gu.hasOwnProperty(r)&&(l[r]=t[r]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];l.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)l[r]===void 0&&(l[r]=u[r]);return{$$typeof:jl,type:e,key:o,ref:s,props:l,_owner:Ts.current}}function gp(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ps(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function hp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ca=/\/+/g;function si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hp(""+e.key):t.toString(36)}function no(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case jl:case rp:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+si(s,0):r,ja(l)?(n="",e!=null&&(n=e.replace(Ca,"$&/")+"/"),no(l,t,n,"",function(h){return h})):l!=null&&(Ps(l)&&(l=gp(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Ca,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",ja(e))for(var u=0;u<e.length;u++){o=e[u];var c=r+si(o,u);s+=no(o,t,n,c,l)}else if(c=fp(e),typeof c=="function")for(e=c.call(e),u=0;!(o=e.next()).done;)o=o.value,c=r+si(o,u++),s+=no(o,t,n,c,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Nl(e,t,n){if(e==null)return e;var r=[],l=0;return no(e,r,"","",function(o){return t.call(n,o,l++)}),r}function mp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},ro={transition:null},yp={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:ro,ReactCurrentOwner:Ts};function Xu(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Nl,forEach:function(e,t,n){Nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nl(e,function(){t++}),t},toArray:function(e){return Nl(e,function(t){return t})||[]},only:function(e){if(!Ps(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Tr;de.Fragment=lp;de.Profiler=ip;de.PureComponent=Rs;de.StrictMode=op;de.Suspense=cp;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yp;de.act=Xu;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wu({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Ts.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Vu.call(t,c)&&!Gu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:jl,type:e.type,key:l,ref:o,props:r,_owner:s}};de.createContext=function(e){return e={$$typeof:ap,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sp,_context:e},e.Consumer=e};de.createElement=Yu;de.createFactory=function(e){var t=Yu.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:up,render:e}};de.isValidElement=Ps;de.lazy=function(e){return{$$typeof:pp,_payload:{_status:-1,_result:e},_init:mp}};de.memo=function(e,t){return{$$typeof:dp,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=ro.transition;ro.transition={};try{e()}finally{ro.transition=t}};de.unstable_act=Xu;de.useCallback=function(e,t){return pt.current.useCallback(e,t)};de.useContext=function(e){return pt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};de.useEffect=function(e,t){return pt.current.useEffect(e,t)};de.useId=function(){return pt.current.useId()};de.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return pt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};de.useRef=function(e){return pt.current.useRef(e)};de.useState=function(e){return pt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return pt.current.useTransition()};de.version="18.3.1";Ou.exports=de;var x=Ou.exports;const ai=np(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=x,vp=Symbol.for("react.element"),kp=Symbol.for("react.fragment"),bp=Object.prototype.hasOwnProperty,wp=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_p={key:!0,ref:!0,__self:!0,__source:!0};function Qu(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)bp.call(t,r)&&!_p.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:vp,type:e,key:o,ref:s,props:l,_owner:wp.current}}Lo.Fragment=kp;Lo.jsx=Qu;Lo.jsxs=Qu;Lu.exports=Lo;var i=Lu.exports,Ku={exports:{}},Et={},Ju={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,ee){var K=P.length;P.push(ee);e:for(;0<K;){var le=K-1>>>1,ne=P[le];if(0<l(ne,ee))P[le]=ee,P[K]=ne,K=le;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var ee=P[0],K=P.pop();if(K!==ee){P[0]=K;e:for(var le=0,ne=P.length,Me=ne>>>1;le<Me;){var fe=2*(le+1)-1,Pe=P[fe],gt=fe+1,he=P[gt];if(0>l(Pe,K))gt<ne&&0>l(he,Pe)?(P[le]=he,P[gt]=K,le=gt):(P[le]=Pe,P[fe]=K,le=fe);else if(gt<ne&&0>l(he,K))P[le]=he,P[gt]=K,le=gt;else break e}}return ee}function l(P,ee){var K=P.sortIndex-ee.sortIndex;return K!==0?K:P.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],h=[],v=1,k=null,g=3,F=!1,E=!1,T=!1,B=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(P){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=P)r(h),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=n(h)}}function w(P){if(T=!1,f(P),!E)if(n(c)!==null)E=!0,ge($);else{var ee=n(h);ee!==null&&Ge(w,ee.startTime-P)}}function $(P,ee){E=!1,T&&(T=!1,m(q),q=-1),F=!0;var K=g;try{for(f(ee),k=n(c);k!==null&&(!(k.expirationTime>ee)||P&&!xe());){var le=k.callback;if(typeof le=="function"){k.callback=null,g=k.priorityLevel;var ne=le(k.expirationTime<=ee);ee=e.unstable_now(),typeof ne=="function"?k.callback=ne:k===n(c)&&r(c),f(ee)}else r(c);k=n(c)}if(k!==null)var Me=!0;else{var fe=n(h);fe!==null&&Ge(w,fe.startTime-ee),Me=!1}return Me}finally{k=null,g=K,F=!1}}var z=!1,I=null,q=-1,G=5,H=-1;function xe(){return!(e.unstable_now()-H<G)}function tt(){if(I!==null){var P=e.unstable_now();H=P;var ee=!0;try{ee=I(!0,P)}finally{ee?st():(z=!1,I=null)}}else z=!1}var st;if(typeof d=="function")st=function(){d(tt)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,te=we.port2;we.port1.onmessage=tt,st=function(){te.postMessage(null)}}else st=function(){B(tt,0)};function ge(P){I=P,z||(z=!0,st())}function Ge(P,ee){q=B(function(){P(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){E||F||(E=!0,ge($))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var K=g;g=ee;try{return P()}finally{g=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,ee){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=g;g=P;try{return ee()}finally{g=K}},e.unstable_scheduleCallback=function(P,ee,K){var le=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,P={id:v++,callback:ee,priorityLevel:P,startTime:K,expirationTime:ne,sortIndex:-1},K>le?(P.sortIndex=K,t(h,P),n(c)===null&&P===n(h)&&(T?(m(q),q=-1):T=!0,Ge(w,K-le))):(P.sortIndex=ne,t(c,P),E||F||(E=!0,ge($))),P},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(P){var ee=g;return function(){var K=g;g=ee;try{return P.apply(this,arguments)}finally{g=K}}}})(Zu);Ju.exports=Zu;var Sp=Ju.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=x,Ft=Sp;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ec=new Set,al={};function tr(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(al[e]=t,e=0;e<t.length;e++)ec.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bi=Object.prototype.hasOwnProperty,Cp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fa={},Ea={};function Fp(e){return Bi.call(Ea,e)?!0:Bi.call(Fa,e)?!1:Cp.test(e)?Ea[e]=!0:(Fa[e]=!0,!1)}function Ep(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mp(e,t,n,r){if(t===null||typeof t>"u"||Ep(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ds=/[\-:]([a-z])/g;function Ns(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ds,Ns);et[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ds,Ns);et[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ds,Ns);et[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Is(e,t,n,r){var l=et.hasOwnProperty(t)?et[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mp(t,n,l,r)&&(n=null),r||l===null?Fp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dn=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Il=Symbol.for("react.element"),sr=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),Bs=Symbol.for("react.strict_mode"),Ai=Symbol.for("react.profiler"),tc=Symbol.for("react.provider"),nc=Symbol.for("react.context"),As=Symbol.for("react.forward_ref"),$i=Symbol.for("react.suspense"),Li=Symbol.for("react.suspense_list"),$s=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),rc=Symbol.for("react.offscreen"),Ma=Symbol.iterator;function Lr(e){return e===null||typeof e!="object"?null:(e=Ma&&e[Ma]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,ui;function Yr(e){if(ui===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ui=t&&t[1]||""}return`
`+ui+e}var ci=!1;function di(e,t){if(!e||ci)return"";ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var l=h.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,u=o.length-1;1<=s&&0<=u&&l[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(l[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||l[s]!==o[u]){var c=`
`+l[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{ci=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yr(e):""}function Rp(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=di(e.type,!1),e;case 11:return e=di(e.type.render,!1),e;case 1:return e=di(e.type,!0),e;default:return""}}function Oi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case sr:return"Portal";case Ai:return"Profiler";case Bs:return"StrictMode";case $i:return"Suspense";case Li:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nc:return(e.displayName||"Context")+".Consumer";case tc:return(e._context.displayName||"Context")+".Provider";case As:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $s:return t=e.displayName||null,t!==null?t:Oi(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Oi(e(t))}catch{}}return null}function zp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oi(t);case 8:return t===Bs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tp(e){var t=lc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=Tp(e))}function oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qi(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ra(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ic(e,t){t=t.checked,t!=null&&Is(e,"checked",t,!1)}function Wi(e,t){ic(e,t);var n=Tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ui(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ui(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function za(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ui(e,t,n){(t!=="number"||mo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xr=Array.isArray;function vr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Hi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ta(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(Xr(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function sc(e,t){var n=Tn(t.value),r=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ac(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ac(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Al,uc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ul(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pp=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(e){Pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zr[t]=Zr[e]})});function cc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zr.hasOwnProperty(e)&&Zr[e]?(""+t).trim():t+"px"}function dc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=cc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Dp=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gi(e,t){if(t){if(Dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Yi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function Ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,kr=null,br=null;function Da(e){if(e=El(e)){if(typeof Qi!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Ho(t),Qi(e.stateNode,e.type,t))}}function pc(e){kr?br?br.push(e):br=[e]:kr=e}function fc(){if(kr){var e=kr,t=br;if(br=kr=null,Da(e),t)for(e=0;e<t.length;e++)Da(t[e])}}function gc(e,t){return e(t)}function hc(){}var pi=!1;function mc(e,t,n){if(pi)return e(t,n);pi=!0;try{return gc(e,t,n)}finally{pi=!1,(kr!==null||br!==null)&&(hc(),fc())}}function cl(e,t){var n=e.stateNode;if(n===null)return null;var r=Ho(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Ki=!1;if(sn)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Ki=!1}function Np(e,t,n,r,l,o,s,u,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(v){this.onError(v)}}var el=!1,yo=null,xo=!1,Ji=null,Ip={onError:function(e){el=!0,yo=e}};function Bp(e,t,n,r,l,o,s,u,c){el=!1,yo=null,Np.apply(Ip,arguments)}function Ap(e,t,n,r,l,o,s,u,c){if(Bp.apply(this,arguments),el){if(el){var h=yo;el=!1,yo=null}else throw Error(A(198));xo||(xo=!0,Ji=h)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Na(e){if(nr(e)!==e)throw Error(A(188))}function $p(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Na(l),e;if(o===r)return Na(l),t;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,u=l.child;u;){if(u===n){s=!0,n=l,r=o;break}if(u===r){s=!0,r=l,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=l;break}if(u===r){s=!0,r=o,n=l;break}u=u.sibling}if(!s)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function xc(e){return e=$p(e),e!==null?vc(e):null}function vc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vc(e);if(t!==null)return t;e=e.sibling}return null}var kc=Ft.unstable_scheduleCallback,Ia=Ft.unstable_cancelCallback,Lp=Ft.unstable_shouldYield,Op=Ft.unstable_requestPaint,Be=Ft.unstable_now,qp=Ft.unstable_getCurrentPriorityLevel,Os=Ft.unstable_ImmediatePriority,bc=Ft.unstable_UserBlockingPriority,vo=Ft.unstable_NormalPriority,Wp=Ft.unstable_LowPriority,wc=Ft.unstable_IdlePriority,Oo=null,Kt=null;function Up(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Oo,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Gp,Hp=Math.log,Vp=Math.LN2;function Gp(e){return e>>>=0,e===0?32:31-(Hp(e)/Vp|0)|0}var $l=64,Ll=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ko(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~l;u!==0?r=Qr(u):(o&=s,o!==0&&(r=Qr(o)))}else s=n&~l,s!==0?r=Qr(s):o!==0&&(r=Qr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),l=1<<n,r|=e[n],t&=~l;return r}function Yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Wt(o),u=1<<s,c=l[s];c===-1?(!(u&n)||u&r)&&(l[s]=Yp(u,t)):c<=t&&(e.expiredLanes|=u),o&=~u}}function Zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _c(){var e=$l;return $l<<=1,!($l&4194240)&&($l=64),e}function fi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function Qp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Wt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function qs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ve=0;function Sc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jc,Ws,Cc,Fc,Ec,es=!1,Ol=[],Sn=null,jn=null,Cn=null,dl=new Map,pl=new Map,kn=[],Kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(e,t){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(t.pointerId)}}function qr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=El(t),t!==null&&Ws(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Jp(e,t,n,r,l){switch(t){case"focusin":return Sn=qr(Sn,e,t,n,r,l),!0;case"dragenter":return jn=qr(jn,e,t,n,r,l),!0;case"mouseover":return Cn=qr(Cn,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return dl.set(o,qr(dl.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,pl.set(o,qr(pl.get(o)||null,e,t,n,r,l)),!0}return!1}function Mc(e){var t=Hn(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=yc(n),t!==null){e.blockedOn=t,Ec(e.priority,function(){Cc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ts(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xi=r,n.target.dispatchEvent(r),Xi=null}else return t=El(n),t!==null&&Ws(t),e.blockedOn=n,!1;t.shift()}return!0}function Aa(e,t,n){lo(e)&&n.delete(t)}function Zp(){es=!1,Sn!==null&&lo(Sn)&&(Sn=null),jn!==null&&lo(jn)&&(jn=null),Cn!==null&&lo(Cn)&&(Cn=null),dl.forEach(Aa),pl.forEach(Aa)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,es||(es=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Zp)))}function fl(e){function t(l){return Wr(l,e)}if(0<Ol.length){Wr(Ol[0],e);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sn!==null&&Wr(Sn,e),jn!==null&&Wr(jn,e),Cn!==null&&Wr(Cn,e),dl.forEach(t),pl.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)Mc(n),n.blockedOn===null&&kn.shift()}var wr=dn.ReactCurrentBatchConfig,bo=!0;function ef(e,t,n,r){var l=ve,o=wr.transition;wr.transition=null;try{ve=1,Us(e,t,n,r)}finally{ve=l,wr.transition=o}}function tf(e,t,n,r){var l=ve,o=wr.transition;wr.transition=null;try{ve=4,Us(e,t,n,r)}finally{ve=l,wr.transition=o}}function Us(e,t,n,r){if(bo){var l=ts(e,t,n,r);if(l===null)_i(e,t,r,wo,n),Ba(e,r);else if(Jp(l,e,t,n,r))r.stopPropagation();else if(Ba(e,r),t&4&&-1<Kp.indexOf(e)){for(;l!==null;){var o=El(l);if(o!==null&&jc(o),o=ts(e,t,n,r),o===null&&_i(e,t,r,wo,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else _i(e,t,r,null,n)}}var wo=null;function ts(e,t,n,r){if(wo=null,e=Ls(r),e=Hn(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wo=e,null}function Rc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qp()){case Os:return 1;case bc:return 4;case vo:case Wp:return 16;case wc:return 536870912;default:return 16}default:return 16}}var wn=null,Hs=null,oo=null;function zc(){if(oo)return oo;var e,t=Hs,n=t.length,r,l="value"in wn?wn.value:wn.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return oo=l.slice(e,1<r?1-r:void 0)}function io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function $a(){return!1}function Mt(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ql:$a,this.isPropagationStopped=$a,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=Mt(Pr),Fl=Te({},Pr,{view:0,detail:0}),nf=Mt(Fl),gi,hi,Ur,qo=Te({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(gi=e.screenX-Ur.screenX,hi=e.screenY-Ur.screenY):hi=gi=0,Ur=e),gi)},movementY:function(e){return"movementY"in e?e.movementY:hi}}),La=Mt(qo),rf=Te({},qo,{dataTransfer:0}),lf=Mt(rf),of=Te({},Fl,{relatedTarget:0}),mi=Mt(of),sf=Te({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),af=Mt(sf),uf=Te({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cf=Mt(uf),df=Te({},Pr,{data:0}),Oa=Mt(df),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gf[e])?!!t[e]:!1}function Gs(){return hf}var mf=Te({},Fl,{key:function(e){if(e.key){var t=pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ff[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yf=Mt(mf),xf=Te({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=Mt(xf),vf=Te({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),kf=Mt(vf),bf=Te({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wf=Mt(bf),_f=Te({},qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sf=Mt(_f),jf=[9,13,27,32],Ys=sn&&"CompositionEvent"in window,tl=null;sn&&"documentMode"in document&&(tl=document.documentMode);var Cf=sn&&"TextEvent"in window&&!tl,Tc=sn&&(!Ys||tl&&8<tl&&11>=tl),Wa=" ",Ua=!1;function Pc(e,t){switch(e){case"keyup":return jf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function Ff(e,t){switch(e){case"compositionend":return Dc(t);case"keypress":return t.which!==32?null:(Ua=!0,Wa);case"textInput":return e=t.data,e===Wa&&Ua?null:e;default:return null}}function Ef(e,t){if(ur)return e==="compositionend"||!Ys&&Pc(e,t)?(e=zc(),oo=Hs=wn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tc&&t.locale!=="ko"?null:t.data;default:return null}}var Mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mf[e.type]:t==="textarea"}function Nc(e,t,n,r){pc(r),t=_o(t,"onChange"),0<t.length&&(n=new Vs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nl=null,gl=null;function Rf(e){Vc(e,0)}function Wo(e){var t=pr(e);if(oc(t))return e}function zf(e,t){if(e==="change")return t}var Ic=!1;if(sn){var yi;if(sn){var xi="oninput"in document;if(!xi){var Va=document.createElement("div");Va.setAttribute("oninput","return;"),xi=typeof Va.oninput=="function"}yi=xi}else yi=!1;Ic=yi&&(!document.documentMode||9<document.documentMode)}function Ga(){nl&&(nl.detachEvent("onpropertychange",Bc),gl=nl=null)}function Bc(e){if(e.propertyName==="value"&&Wo(gl)){var t=[];Nc(t,gl,e,Ls(e)),mc(Rf,t)}}function Tf(e,t,n){e==="focusin"?(Ga(),nl=t,gl=n,nl.attachEvent("onpropertychange",Bc)):e==="focusout"&&Ga()}function Pf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(gl)}function Df(e,t){if(e==="click")return Wo(t)}function Nf(e,t){if(e==="input"||e==="change")return Wo(t)}function If(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:If;function hl(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Bi.call(t,l)||!Ht(e[l],t[l]))return!1}return!0}function Ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xa(e,t){var n=Ya(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ya(n)}}function Ac(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ac(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $c(){for(var e=window,t=mo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mo(e.document)}return t}function Xs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bf(e){var t=$c(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ac(n.ownerDocument.documentElement,n)){if(r!==null&&Xs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Xa(n,o);var s=Xa(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Af=sn&&"documentMode"in document&&11>=document.documentMode,cr=null,ns=null,rl=null,rs=!1;function Qa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rs||cr==null||cr!==mo(r)||(r=cr,"selectionStart"in r&&Xs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rl&&hl(rl,r)||(rl=r,r=_o(ns,"onSelect"),0<r.length&&(t=new Vs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function Wl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},vi={},Lc={};sn&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Uo(e){if(vi[e])return vi[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lc)return vi[e]=t[n];return e}var Oc=Uo("animationend"),qc=Uo("animationiteration"),Wc=Uo("animationstart"),Uc=Uo("transitionend"),Hc=new Map,Ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){Hc.set(e,t),tr(t,[e])}for(var ki=0;ki<Ka.length;ki++){var bi=Ka[ki],$f=bi.toLowerCase(),Lf=bi[0].toUpperCase()+bi.slice(1);Dn($f,"on"+Lf)}Dn(Oc,"onAnimationEnd");Dn(qc,"onAnimationIteration");Dn(Wc,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(Uc,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Of=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function Ja(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ap(r,t,void 0,e),e.currentTarget=null}function Vc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;Ja(l,u,h),o=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,h=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;Ja(l,u,h),o=c}}}if(xo)throw e=Ji,xo=!1,Ji=null,e}function Ce(e,t){var n=t[as];n===void 0&&(n=t[as]=new Set);var r=e+"__bubble";n.has(r)||(Gc(t,e,2,!1),n.add(r))}function wi(e,t,n){var r=0;t&&(r|=4),Gc(n,e,r,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function ml(e){if(!e[Ul]){e[Ul]=!0,ec.forEach(function(n){n!=="selectionchange"&&(Of.has(n)||wi(n,!1,e),wi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,wi("selectionchange",!1,t))}}function Gc(e,t,n,r){switch(Rc(t)){case 1:var l=ef;break;case 4:l=tf;break;default:l=Us}n=l.bind(null,t,n,e),l=void 0,!Ki||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function _i(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;s=s.return}for(;u!==null;){if(s=Hn(u),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}u=u.parentNode}}r=r.return}mc(function(){var h=o,v=Ls(n),k=[];e:{var g=Hc.get(e);if(g!==void 0){var F=Vs,E=e;switch(e){case"keypress":if(io(n)===0)break e;case"keydown":case"keyup":F=yf;break;case"focusin":E="focus",F=mi;break;case"focusout":E="blur",F=mi;break;case"beforeblur":case"afterblur":F=mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=La;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=kf;break;case Oc:case qc:case Wc:F=af;break;case Uc:F=wf;break;case"scroll":F=nf;break;case"wheel":F=Sf;break;case"copy":case"cut":case"paste":F=cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qa}var T=(t&4)!==0,B=!T&&e==="scroll",m=T?g!==null?g+"Capture":null:g;T=[];for(var d=h,f;d!==null;){f=d;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,m!==null&&(w=cl(d,m),w!=null&&T.push(yl(d,w,f)))),B)break;d=d.return}0<T.length&&(g=new F(g,E,null,n,v),k.push({event:g,listeners:T}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",g&&n!==Xi&&(E=n.relatedTarget||n.fromElement)&&(Hn(E)||E[an]))break e;if((F||g)&&(g=v.window===v?v:(g=v.ownerDocument)?g.defaultView||g.parentWindow:window,F?(E=n.relatedTarget||n.toElement,F=h,E=E?Hn(E):null,E!==null&&(B=nr(E),E!==B||E.tag!==5&&E.tag!==6)&&(E=null)):(F=null,E=h),F!==E)){if(T=La,w="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(T=qa,w="onPointerLeave",m="onPointerEnter",d="pointer"),B=F==null?g:pr(F),f=E==null?g:pr(E),g=new T(w,d+"leave",F,n,v),g.target=B,g.relatedTarget=f,w=null,Hn(v)===h&&(T=new T(m,d+"enter",E,n,v),T.target=f,T.relatedTarget=B,w=T),B=w,F&&E)t:{for(T=F,m=E,d=0,f=T;f;f=or(f))d++;for(f=0,w=m;w;w=or(w))f++;for(;0<d-f;)T=or(T),d--;for(;0<f-d;)m=or(m),f--;for(;d--;){if(T===m||m!==null&&T===m.alternate)break t;T=or(T),m=or(m)}T=null}else T=null;F!==null&&Za(k,g,F,T,!1),E!==null&&B!==null&&Za(k,B,E,T,!0)}}e:{if(g=h?pr(h):window,F=g.nodeName&&g.nodeName.toLowerCase(),F==="select"||F==="input"&&g.type==="file")var $=zf;else if(Ha(g))if(Ic)$=Nf;else{$=Pf;var z=Tf}else(F=g.nodeName)&&F.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&($=Df);if($&&($=$(e,h))){Nc(k,$,n,v);break e}z&&z(e,g,h),e==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&Ui(g,"number",g.value)}switch(z=h?pr(h):window,e){case"focusin":(Ha(z)||z.contentEditable==="true")&&(cr=z,ns=h,rl=null);break;case"focusout":rl=ns=cr=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,Qa(k,n,v);break;case"selectionchange":if(Af)break;case"keydown":case"keyup":Qa(k,n,v)}var I;if(Ys)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else ur?Pc(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(Tc&&n.locale!=="ko"&&(ur||q!=="onCompositionStart"?q==="onCompositionEnd"&&ur&&(I=zc()):(wn=v,Hs="value"in wn?wn.value:wn.textContent,ur=!0)),z=_o(h,q),0<z.length&&(q=new Oa(q,e,null,n,v),k.push({event:q,listeners:z}),I?q.data=I:(I=Dc(n),I!==null&&(q.data=I)))),(I=Cf?Ff(e,n):Ef(e,n))&&(h=_o(h,"onBeforeInput"),0<h.length&&(v=new Oa("onBeforeInput","beforeinput",null,n,v),k.push({event:v,listeners:h}),v.data=I))}Vc(k,t)})}function yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _o(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=cl(e,n),o!=null&&r.unshift(yl(e,o,l)),o=cl(e,t),o!=null&&r.push(yl(e,o,l))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Za(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,l?(c=cl(n,o),c!=null&&s.unshift(yl(n,c,u))):l||(c=cl(n,o),c!=null&&s.push(yl(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var qf=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(qf,`
`).replace(Wf,"")}function Hl(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(A(425))}function So(){}var ls=null,os=null;function is(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ss=typeof setTimeout=="function"?setTimeout:void 0,Uf=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,Hf=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(Vf)}:ss;function Vf(e){setTimeout(function(){throw e})}function Si(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),fl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);fl(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Dr,xl="__reactProps$"+Dr,an="__reactContainer$"+Dr,as="__reactEvents$"+Dr,Gf="__reactListeners$"+Dr,Yf="__reactHandles$"+Dr;function Hn(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[an]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nu(e);e!==null;){if(n=e[Qt])return n;e=nu(e)}return t}e=n,n=e.parentNode}return null}function El(e){return e=e[Qt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Ho(e){return e[xl]||null}var us=[],fr=-1;function Nn(e){return{current:e}}function Fe(e){0>fr||(e.current=us[fr],us[fr]=null,fr--)}function Se(e,t){fr++,us[fr]=e.current,e.current=t}var Pn={},it=Nn(Pn),xt=Nn(!1),Qn=Pn;function Cr(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function vt(e){return e=e.childContextTypes,e!=null}function jo(){Fe(xt),Fe(it)}function ru(e,t,n){if(it.current!==Pn)throw Error(A(168));Se(it,t),Se(xt,n)}function Yc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(A(108,zp(e)||"Unknown",l));return Te({},n,r)}function Co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Qn=it.current,Se(it,e),Se(xt,xt.current),!0}function lu(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Yc(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,Fe(xt),Fe(it),Se(it,e)):Fe(xt),Se(xt,n)}var nn=null,Vo=!1,ji=!1;function Xc(e){nn===null?nn=[e]:nn.push(e)}function Xf(e){Vo=!0,Xc(e)}function In(){if(!ji&&nn!==null){ji=!0;var e=0,t=ve;try{var n=nn;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,Vo=!1}catch(l){throw nn!==null&&(nn=nn.slice(e+1)),kc(Os,In),l}finally{ve=t,ji=!1}}return null}var gr=[],hr=0,Fo=null,Eo=0,zt=[],Tt=0,Kn=null,rn=1,ln="";function Wn(e,t){gr[hr++]=Eo,gr[hr++]=Fo,Fo=e,Eo=t}function Qc(e,t,n){zt[Tt++]=rn,zt[Tt++]=ln,zt[Tt++]=Kn,Kn=e;var r=rn;e=ln;var l=32-Wt(r)-1;r&=~(1<<l),n+=1;var o=32-Wt(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,rn=1<<32-Wt(t)+l|n<<l|r,ln=o+e}else rn=1<<o|n<<l|r,ln=e}function Qs(e){e.return!==null&&(Wn(e,1),Qc(e,1,0))}function Ks(e){for(;e===Fo;)Fo=gr[--hr],gr[hr]=null,Eo=gr[--hr],gr[hr]=null;for(;e===Kn;)Kn=zt[--Tt],zt[Tt]=null,ln=zt[--Tt],zt[Tt]=null,rn=zt[--Tt],zt[Tt]=null}var Ct=null,jt=null,Ee=!1,qt=null;function Kc(e,t){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ou(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,jt=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:rn,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,jt=null,!0):!1;default:return!1}}function cs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ds(e){if(Ee){var t=jt;if(t){var n=t;if(!ou(e,t)){if(cs(e))throw Error(A(418));t=Fn(n.nextSibling);var r=Ct;t&&ou(e,t)?Kc(r,n):(e.flags=e.flags&-4097|2,Ee=!1,Ct=e)}}else{if(cs(e))throw Error(A(418));e.flags=e.flags&-4097|2,Ee=!1,Ct=e}}}function iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Vl(e){if(e!==Ct)return!1;if(!Ee)return iu(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!is(e.type,e.memoizedProps)),t&&(t=jt)){if(cs(e))throw Jc(),Error(A(418));for(;t;)Kc(e,t),t=Fn(t.nextSibling)}if(iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=Fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Ct?Fn(e.stateNode.nextSibling):null;return!0}function Jc(){for(var e=jt;e;)e=Fn(e.nextSibling)}function Fr(){jt=Ct=null,Ee=!1}function Js(e){qt===null?qt=[e]:qt.push(e)}var Qf=dn.ReactCurrentBatchConfig;function Hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var u=l.refs;s===null?delete u[o]:u[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Gl(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function Zc(e){function t(m,d){if(e){var f=m.deletions;f===null?(m.deletions=[d],m.flags|=16):f.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function l(m,d){return m=zn(m,d),m.index=0,m.sibling=null,m}function o(m,d,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<d?(m.flags|=2,d):f):(m.flags|=2,d)):(m.flags|=1048576,d)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,d,f,w){return d===null||d.tag!==6?(d=Ti(f,m.mode,w),d.return=m,d):(d=l(d,f),d.return=m,d)}function c(m,d,f,w){var $=f.type;return $===ar?v(m,d,f.props.children,w,f.key):d!==null&&(d.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===xn&&su($)===d.type)?(w=l(d,f.props),w.ref=Hr(m,d,f),w.return=m,w):(w=go(f.type,f.key,f.props,null,m.mode,w),w.ref=Hr(m,d,f),w.return=m,w)}function h(m,d,f,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=Pi(f,m.mode,w),d.return=m,d):(d=l(d,f.children||[]),d.return=m,d)}function v(m,d,f,w,$){return d===null||d.tag!==7?(d=Xn(f,m.mode,w,$),d.return=m,d):(d=l(d,f),d.return=m,d)}function k(m,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ti(""+d,m.mode,f),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Il:return f=go(d.type,d.key,d.props,null,m.mode,f),f.ref=Hr(m,null,d),f.return=m,f;case sr:return d=Pi(d,m.mode,f),d.return=m,d;case xn:var w=d._init;return k(m,w(d._payload),f)}if(Xr(d)||Lr(d))return d=Xn(d,m.mode,f,null),d.return=m,d;Gl(m,d)}return null}function g(m,d,f,w){var $=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return $!==null?null:u(m,d,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Il:return f.key===$?c(m,d,f,w):null;case sr:return f.key===$?h(m,d,f,w):null;case xn:return $=f._init,g(m,d,$(f._payload),w)}if(Xr(f)||Lr(f))return $!==null?null:v(m,d,f,w,null);Gl(m,f)}return null}function F(m,d,f,w,$){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(f)||null,u(d,m,""+w,$);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Il:return m=m.get(w.key===null?f:w.key)||null,c(d,m,w,$);case sr:return m=m.get(w.key===null?f:w.key)||null,h(d,m,w,$);case xn:var z=w._init;return F(m,d,f,z(w._payload),$)}if(Xr(w)||Lr(w))return m=m.get(f)||null,v(d,m,w,$,null);Gl(d,w)}return null}function E(m,d,f,w){for(var $=null,z=null,I=d,q=d=0,G=null;I!==null&&q<f.length;q++){I.index>q?(G=I,I=null):G=I.sibling;var H=g(m,I,f[q],w);if(H===null){I===null&&(I=G);break}e&&I&&H.alternate===null&&t(m,I),d=o(H,d,q),z===null?$=H:z.sibling=H,z=H,I=G}if(q===f.length)return n(m,I),Ee&&Wn(m,q),$;if(I===null){for(;q<f.length;q++)I=k(m,f[q],w),I!==null&&(d=o(I,d,q),z===null?$=I:z.sibling=I,z=I);return Ee&&Wn(m,q),$}for(I=r(m,I);q<f.length;q++)G=F(I,m,q,f[q],w),G!==null&&(e&&G.alternate!==null&&I.delete(G.key===null?q:G.key),d=o(G,d,q),z===null?$=G:z.sibling=G,z=G);return e&&I.forEach(function(xe){return t(m,xe)}),Ee&&Wn(m,q),$}function T(m,d,f,w){var $=Lr(f);if(typeof $!="function")throw Error(A(150));if(f=$.call(f),f==null)throw Error(A(151));for(var z=$=null,I=d,q=d=0,G=null,H=f.next();I!==null&&!H.done;q++,H=f.next()){I.index>q?(G=I,I=null):G=I.sibling;var xe=g(m,I,H.value,w);if(xe===null){I===null&&(I=G);break}e&&I&&xe.alternate===null&&t(m,I),d=o(xe,d,q),z===null?$=xe:z.sibling=xe,z=xe,I=G}if(H.done)return n(m,I),Ee&&Wn(m,q),$;if(I===null){for(;!H.done;q++,H=f.next())H=k(m,H.value,w),H!==null&&(d=o(H,d,q),z===null?$=H:z.sibling=H,z=H);return Ee&&Wn(m,q),$}for(I=r(m,I);!H.done;q++,H=f.next())H=F(I,m,q,H.value,w),H!==null&&(e&&H.alternate!==null&&I.delete(H.key===null?q:H.key),d=o(H,d,q),z===null?$=H:z.sibling=H,z=H);return e&&I.forEach(function(tt){return t(m,tt)}),Ee&&Wn(m,q),$}function B(m,d,f,w){if(typeof f=="object"&&f!==null&&f.type===ar&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Il:e:{for(var $=f.key,z=d;z!==null;){if(z.key===$){if($=f.type,$===ar){if(z.tag===7){n(m,z.sibling),d=l(z,f.props.children),d.return=m,m=d;break e}}else if(z.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===xn&&su($)===z.type){n(m,z.sibling),d=l(z,f.props),d.ref=Hr(m,z,f),d.return=m,m=d;break e}n(m,z);break}else t(m,z);z=z.sibling}f.type===ar?(d=Xn(f.props.children,m.mode,w,f.key),d.return=m,m=d):(w=go(f.type,f.key,f.props,null,m.mode,w),w.ref=Hr(m,d,f),w.return=m,m=w)}return s(m);case sr:e:{for(z=f.key;d!==null;){if(d.key===z)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(m,d.sibling),d=l(d,f.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Pi(f,m.mode,w),d.return=m,m=d}return s(m);case xn:return z=f._init,B(m,d,z(f._payload),w)}if(Xr(f))return E(m,d,f,w);if(Lr(f))return T(m,d,f,w);Gl(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(n(m,d.sibling),d=l(d,f),d.return=m,m=d):(n(m,d),d=Ti(f,m.mode,w),d.return=m,m=d),s(m)):n(m,d)}return B}var Er=Zc(!0),ed=Zc(!1),Mo=Nn(null),Ro=null,mr=null,Zs=null;function ea(){Zs=mr=Ro=null}function ta(e){var t=Mo.current;Fe(Mo),e._currentValue=t}function ps(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _r(e,t){Ro=e,Zs=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Zs!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(Ro===null)throw Error(A(308));mr=e,Ro.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var Vn=null;function na(e){Vn===null?Vn=[e]:Vn.push(e)}function td(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,na(t)):(n.next=l.next,l.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vn=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,un(e,n)}return l=r.interleaved,l===null?(t.next=t,na(r)):(t.next=l.next,l.next=t),r.interleaved=t,un(e,n)}function so(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qs(e,n)}}function au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,r){var l=e.updateQueue;vn=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,h=c.next;c.next=null,s===null?o=h:s.next=h,s=c;var v=e.alternate;v!==null&&(v=v.updateQueue,u=v.lastBaseUpdate,u!==s&&(u===null?v.firstBaseUpdate=h:u.next=h,v.lastBaseUpdate=c))}if(o!==null){var k=l.baseState;s=0,v=h=c=null,u=o;do{var g=u.lane,F=u.eventTime;if((r&g)===g){v!==null&&(v=v.next={eventTime:F,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,T=u;switch(g=t,F=n,T.tag){case 1:if(E=T.payload,typeof E=="function"){k=E.call(F,k,g);break e}k=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,g=typeof E=="function"?E.call(F,k,g):E,g==null)break e;k=Te({},k,g);break e;case 2:vn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[u]:g.push(u))}else F={eventTime:F,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},v===null?(h=v=F,c=k):v=v.next=F,s|=g;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;g=u,u=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(v===null&&(c=k),l.baseState=c,l.firstBaseUpdate=h,l.lastBaseUpdate=v,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Zn|=s,e.lanes=s,e.memoizedState=k}}function uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(A(191,l));l.call(r)}}}var Ml={},Jt=Nn(Ml),vl=Nn(Ml),kl=Nn(Ml);function Gn(e){if(e===Ml)throw Error(A(174));return e}function la(e,t){switch(Se(kl,t),Se(vl,e),Se(Jt,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vi(t,e)}Fe(Jt),Se(Jt,t)}function Mr(){Fe(Jt),Fe(vl),Fe(kl)}function rd(e){Gn(kl.current);var t=Gn(Jt.current),n=Vi(t,e.type);t!==n&&(Se(vl,e),Se(Jt,n))}function oa(e){vl.current===e&&(Fe(Jt),Fe(vl))}var Re=Nn(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ci=[];function ia(){for(var e=0;e<Ci.length;e++)Ci[e]._workInProgressVersionPrimary=null;Ci.length=0}var ao=dn.ReactCurrentDispatcher,Fi=dn.ReactCurrentBatchConfig,Jn=0,ze=null,qe=null,He=null,Po=!1,ll=!1,bl=0,Kf=0;function rt(){throw Error(A(321))}function sa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,l,o){if(Jn=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=e===null||e.memoizedState===null?tg:ng,e=n(r,l),ll){o=0;do{if(ll=!1,bl=0,25<=o)throw Error(A(301));o+=1,He=qe=null,t.updateQueue=null,ao.current=rg,e=n(r,l)}while(ll)}if(ao.current=Do,t=qe!==null&&qe.next!==null,Jn=0,He=qe=ze=null,Po=!1,t)throw Error(A(300));return e}function ua(){var e=bl!==0;return bl=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?ze.memoizedState=He=e:He=He.next=e,He}function It(){if(qe===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=He===null?ze.memoizedState:He.next;if(t!==null)He=t,qe=e;else{if(e===null)throw Error(A(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},He===null?ze.memoizedState=He=e:He=He.next=e}return He}function wl(e,t){return typeof t=="function"?t(e):t}function Ei(e){var t=It(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=qe,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var u=s=null,c=null,h=o;do{var v=h.lane;if((Jn&v)===v)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var k={lane:v,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=k,s=r):c=c.next=k,ze.lanes|=v,Zn|=v}h=h.next}while(h!==null&&h!==o);c===null?s=r:c.next=u,Ht(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,ze.lanes|=o,Zn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mi(e){var t=It(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);Ht(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ld(){}function od(e,t){var n=ze,r=It(),l=t(),o=!Ht(r.memoizedState,l);if(o&&(r.memoizedState=l,yt=!0),r=r.queue,ca(ad.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,_l(9,sd.bind(null,n,r,l,t),void 0,null),Ve===null)throw Error(A(349));Jn&30||id(n,t,l)}return l}function id(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sd(e,t,n,r){t.value=n,t.getSnapshot=r,ud(t)&&cd(e)}function ad(e,t,n){return n(function(){ud(t)&&cd(e)})}function ud(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function cd(e){var t=un(e,1);t!==null&&Ut(t,e,1,-1)}function cu(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:e},t.queue=e,e=e.dispatch=eg.bind(null,ze,e),[t.memoizedState,e]}function _l(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dd(){return It().memoizedState}function uo(e,t,n,r){var l=Xt();ze.flags|=e,l.memoizedState=_l(1|t,n,void 0,r===void 0?null:r)}function Go(e,t,n,r){var l=It();r=r===void 0?null:r;var o=void 0;if(qe!==null){var s=qe.memoizedState;if(o=s.destroy,r!==null&&sa(r,s.deps)){l.memoizedState=_l(t,n,o,r);return}}ze.flags|=e,l.memoizedState=_l(1|t,n,o,r)}function du(e,t){return uo(8390656,8,e,t)}function ca(e,t){return Go(2048,8,e,t)}function pd(e,t){return Go(4,2,e,t)}function fd(e,t){return Go(4,4,e,t)}function gd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hd(e,t,n){return n=n!=null?n.concat([e]):null,Go(4,4,gd.bind(null,t,e),n)}function da(){}function md(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yd(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xd(e,t,n){return Jn&21?(Ht(n,t)||(n=_c(),ze.lanes|=n,Zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function Jf(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=Fi.transition;Fi.transition={};try{e(!1),t()}finally{ve=n,Fi.transition=r}}function vd(){return It().memoizedState}function Zf(e,t,n){var r=Rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kd(e))bd(t,n);else if(n=td(e,t,n,r),n!==null){var l=dt();Ut(n,e,r,l),wd(n,t,r)}}function eg(e,t,n){var r=Rn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kd(e))bd(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,u=o(s,n);if(l.hasEagerState=!0,l.eagerState=u,Ht(u,s)){var c=t.interleaved;c===null?(l.next=l,na(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=td(e,t,l,r),n!==null&&(l=dt(),Ut(n,e,r,l),wd(n,t,r))}}function kd(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function bd(e,t){ll=Po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qs(e,n)}}var Do={readContext:Nt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},tg={readContext:Nt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:du,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uo(4194308,4,gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return uo(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zf.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:cu,useDebugValue:da,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=cu(!1),t=e[0];return e=Jf.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,l=Xt();if(Ee){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Ve===null)throw Error(A(349));Jn&30||id(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,du(ad.bind(null,r,o,e),[e]),r.flags|=2048,_l(9,sd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Ve.identifierPrefix;if(Ee){var n=ln,r=rn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ng={readContext:Nt,useCallback:md,useContext:Nt,useEffect:ca,useImperativeHandle:hd,useInsertionEffect:pd,useLayoutEffect:fd,useMemo:yd,useReducer:Ei,useRef:dd,useState:function(){return Ei(wl)},useDebugValue:da,useDeferredValue:function(e){var t=It();return xd(t,qe.memoizedState,e)},useTransition:function(){var e=Ei(wl)[0],t=It().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:od,useId:vd,unstable_isNewReconciler:!1},rg={readContext:Nt,useCallback:md,useContext:Nt,useEffect:ca,useImperativeHandle:hd,useInsertionEffect:pd,useLayoutEffect:fd,useMemo:yd,useReducer:Mi,useRef:dd,useState:function(){return Mi(wl)},useDebugValue:da,useDeferredValue:function(e){var t=It();return qe===null?t.memoizedState=e:xd(t,qe.memoizedState,e)},useTransition:function(){var e=Mi(wl)[0],t=It().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:od,useId:vd,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yo={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),l=Rn(e),o=on(r,l);o.payload=t,n!=null&&(o.callback=n),t=En(e,o,l),t!==null&&(Ut(t,e,l,r),so(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),l=Rn(e),o=on(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=En(e,o,l),t!==null&&(Ut(t,e,l,r),so(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=Rn(e),l=on(n,r);l.tag=2,t!=null&&(l.callback=t),t=En(e,l,r),t!==null&&(Ut(t,e,r,n),so(t,e,r))}};function pu(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!hl(n,r)||!hl(l,o):!0}function _d(e,t,n){var r=!1,l=Pn,o=t.contextType;return typeof o=="object"&&o!==null?o=Nt(o):(l=vt(t)?Qn:it.current,r=t.contextTypes,o=(r=r!=null)?Cr(e,l):Pn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function fu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function gs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ra(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Nt(o):(o=vt(t)?Qn:it.current,l.context=Cr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fs(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Yo.enqueueReplaceState(l,l.state,null),zo(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=Rp(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Ri(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lg=typeof WeakMap=="function"?WeakMap:Map;function Sd(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Io||(Io=!0,js=r),hs(e,t)},n}function jd(e,t,n){n=on(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){hs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hs(e,t),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function gu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lg;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=xg.bind(null,e,t,n),t.then(e,e))}function hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e)}var og=dn.ReactCurrentOwner,yt=!1;function ct(e,t,n,r){t.child=e===null?ed(t,null,n,r):Er(t,e.child,n,r)}function yu(e,t,n,r,l){n=n.render;var o=t.ref;return _r(t,l),r=aa(e,t,n,r,o,l),n=ua(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cn(e,t,l)):(Ee&&n&&Qs(t),t.flags|=1,ct(e,t,r,l),t.child)}function xu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!va(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Cd(e,t,o,r,l)):(e=go(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(s,r)&&e.ref===t.ref)return cn(e,t,l)}return t.flags|=1,e=zn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Cd(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(hl(o,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,cn(e,t,l)}return ms(e,t,n,r,l)}function Fd(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(xr,_t),_t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(xr,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Se(xr,_t),_t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Se(xr,_t),_t|=r;return ct(e,t,l,n),t.child}function Ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ms(e,t,n,r,l){var o=vt(n)?Qn:it.current;return o=Cr(t,o),_r(t,l),n=aa(e,t,n,r,o,l),r=ua(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cn(e,t,l)):(Ee&&r&&Qs(t),t.flags|=1,ct(e,t,n,l),t.child)}function vu(e,t,n,r,l){if(vt(n)){var o=!0;Co(t)}else o=!1;if(_r(t,l),t.stateNode===null)co(e,t),_d(t,n,r),gs(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Nt(h):(h=vt(n)?Qn:it.current,h=Cr(t,h));var v=n.getDerivedStateFromProps,k=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";k||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==h)&&fu(t,s,r,h),vn=!1;var g=t.memoizedState;s.state=g,zo(t,r,s,l),c=t.memoizedState,u!==r||g!==c||xt.current||vn?(typeof v=="function"&&(fs(t,n,v,r),c=t.memoizedState),(u=vn||pu(t,n,u,r,g,c,h))?(k||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=h,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,nd(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:Lt(t.type,u),s.props=h,k=t.pendingProps,g=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=vt(n)?Qn:it.current,c=Cr(t,c));var F=n.getDerivedStateFromProps;(v=typeof F=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==k||g!==c)&&fu(t,s,r,c),vn=!1,g=t.memoizedState,s.state=g,zo(t,r,s,l);var E=t.memoizedState;u!==k||g!==E||xt.current||vn?(typeof F=="function"&&(fs(t,n,F,r),E=t.memoizedState),(h=vn||pu(t,n,h,r,g,E,c)||!1)?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),s.props=r,s.state=E,s.context=c,r=h):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ys(e,t,n,r,o,l)}function ys(e,t,n,r,l,o){Ed(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&lu(t,n,!1),cn(e,t,o);r=t.stateNode,og.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Er(t,e.child,null,o),t.child=Er(t,null,u,o)):ct(e,t,u,o),t.memoizedState=r.state,l&&lu(t,n,!0),t.child}function Md(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),la(e,t.containerInfo)}function ku(e,t,n,r,l){return Fr(),Js(l),t.flags|=256,ct(e,t,n,r),t.child}var xs={dehydrated:null,treeContext:null,retryLane:0};function vs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rd(e,t,n){var r=t.pendingProps,l=Re.current,o=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(Re,l&1),e===null)return ds(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ko(s,r,0,null),e=Xn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vs(n),t.memoizedState=xs,e):pa(t,s));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return ig(e,t,s,r,u,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,u=l.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=zn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?o=zn(u,o):(o=Xn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?vs(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=xs,r}return o=e.child,e=o.sibling,r=zn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pa(e,t){return t=Ko({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yl(e,t,n,r){return r!==null&&Js(r),Er(t,e.child,null,n),e=pa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ig(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Ri(Error(A(422))),Yl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Ko({mode:"visible",children:r.children},l,0,null),o=Xn(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Er(t,e.child,null,s),t.child.memoizedState=vs(s),t.memoizedState=xs,o);if(!(t.mode&1))return Yl(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(A(419)),r=Ri(o,r,void 0),Yl(e,t,s,r)}if(u=(s&e.childLanes)!==0,yt||u){if(r=Ve,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,un(e,l),Ut(r,e,l,-1))}return xa(),r=Ri(Error(A(421))),Yl(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=vg.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,jt=Fn(l.nextSibling),Ct=t,Ee=!0,qt=null,e!==null&&(zt[Tt++]=rn,zt[Tt++]=ln,zt[Tt++]=Kn,rn=e.id,ln=e.overflow,Kn=t),t=pa(t,r.children),t.flags|=4096,t)}function bu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ps(e.return,t,n)}function zi(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function zd(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(ct(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bu(e,n,t);else if(e.tag===19)bu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Re,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&To(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),zi(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&To(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}zi(t,!0,n,null,o);break;case"together":zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function co(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sg(e,t,n){switch(t.tag){case 3:Md(t),Fr();break;case 5:rd(t);break;case 1:vt(t.type)&&Co(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Se(Mo,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?Rd(e,t,n):(Se(Re,Re.current&1),e=cn(e,t,n),e!==null?e.sibling:null);Se(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,n)}return cn(e,t,n)}var Td,ks,Pd,Dd;Td=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ks=function(){};Pd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Gn(Jt.current);var o=null;switch(n){case"input":l=qi(e,l),r=qi(e,r),o=[];break;case"select":l=Te({},l,{value:void 0}),r=Te({},r,{value:void 0}),o=[];break;case"textarea":l=Hi(e,l),r=Hi(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=So)}Gi(n,r);var s;n=null;for(h in l)if(!r.hasOwnProperty(h)&&l.hasOwnProperty(h)&&l[h]!=null)if(h==="style"){var u=l[h];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(al.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var c=r[h];if(u=l!=null?l[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(al.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ce("scroll",e),o||u===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};Dd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ag(e,t,n){var r=t.pendingProps;switch(Ks(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return vt(t.type)&&jo(),lt(t),null;case 3:return r=t.stateNode,Mr(),Fe(xt),Fe(it),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Es(qt),qt=null))),ks(e,t),lt(t),null;case 5:oa(t);var l=Gn(kl.current);if(n=t.type,e!==null&&t.stateNode!=null)Pd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return lt(t),null}if(e=Gn(Jt.current),Vl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qt]=t,r[xl]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(l=0;l<Kr.length;l++)Ce(Kr[l],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Ra(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":Ta(r,o),Ce("invalid",r)}Gi(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Hl(r.textContent,u,e),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Hl(r.textContent,u,e),l=["children",""+u]):al.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Bl(r),za(r,o,!0);break;case"textarea":Bl(r),Pa(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=So)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ac(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Qt]=t,e[xl]=r,Td(e,t,!1,!1),t.stateNode=e;e:{switch(s=Yi(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),l=r;break;case"iframe":case"object":case"embed":Ce("load",e),l=r;break;case"video":case"audio":for(l=0;l<Kr.length;l++)Ce(Kr[l],e);l=r;break;case"source":Ce("error",e),l=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),l=r;break;case"details":Ce("toggle",e),l=r;break;case"input":Ra(e,r),l=qi(e,r),Ce("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Te({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":Ta(e,r),l=Hi(e,r),Ce("invalid",e);break;default:l=r}Gi(n,l),u=l;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?dc(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uc(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ul(e,c):typeof c=="number"&&ul(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(al.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ce("scroll",e):c!=null&&Is(e,o,c,s))}switch(n){case"input":Bl(e),za(e,r,!1);break;case"textarea":Bl(e),Pa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?vr(e,!!r.multiple,o,!1):r.defaultValue!=null&&vr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=So)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Dd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Gn(kl.current),Gn(Jt.current),Vl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(o=r.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:Hl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return lt(t),null;case 13:if(Fe(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&jt!==null&&t.mode&1&&!(t.flags&128))Jc(),Fr(),t.flags|=98560,o=!1;else if(o=Vl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Qt]=t}else Fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else qt!==null&&(Es(qt),qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?We===0&&(We=3):xa())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Mr(),ks(e,t),e===null&&ml(t.stateNode.containerInfo),lt(t),null;case 10:return ta(t.type._context),lt(t),null;case 17:return vt(t.type)&&jo(),lt(t),null;case 19:if(Fe(Re),o=t.memoizedState,o===null)return lt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Vr(o,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=To(e),s!==null){for(t.flags|=128,Vr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Re,Re.current&1|2),t.child}e=e.sibling}o.tail!==null&&Be()>zr&&(t.flags|=128,r=!0,Vr(o,!1),t.lanes=4194304)}else{if(!r)if(e=To(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ee)return lt(t),null}else 2*Be()-o.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,Vr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Be(),t.sibling=null,n=Re.current,Se(Re,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return ya(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function ug(e,t){switch(Ks(t),t.tag){case 1:return vt(t.type)&&jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(),Fe(xt),Fe(it),ia(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oa(t),null;case 13:if(Fe(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Re),null;case 4:return Mr(),null;case 10:return ta(t.type._context),null;case 22:case 23:return ya(),null;case 24:return null;default:return null}}var Xl=!1,ot=!1,cg=typeof WeakSet=="function"?WeakSet:Set,X=null;function yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function bs(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var wu=!1;function dg(e,t){if(ls=bo,e=$c(),Xs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,h=0,v=0,k=e,g=null;t:for(;;){for(var F;k!==n||l!==0&&k.nodeType!==3||(u=s+l),k!==o||r!==0&&k.nodeType!==3||(c=s+r),k.nodeType===3&&(s+=k.nodeValue.length),(F=k.firstChild)!==null;)g=k,k=F;for(;;){if(k===e)break t;if(g===n&&++h===l&&(u=s),g===o&&++v===r&&(c=s),(F=k.nextSibling)!==null)break;k=g,g=k.parentNode}k=F}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(os={focusedElem:e,selectionRange:n},bo=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,B=E.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?T:Lt(t.type,T),B);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Ne(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return E=wu,wu=!1,E}function ol(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&bs(t,n,o)}l=l.next}while(l!==r)}}function Xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ws(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nd(e){var t=e.alternate;t!==null&&(e.alternate=null,Nd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[xl],delete t[as],delete t[Gf],delete t[Yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Id(e){return e.tag===5||e.tag===3||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Id(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _s(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=So));else if(r!==4&&(e=e.child,e!==null))for(_s(e,t,n),e=e.sibling;e!==null;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ss(e,t,n),e=e.sibling;e!==null;)Ss(e,t,n),e=e.sibling}var Je=null,Ot=!1;function hn(e,t,n){for(n=n.child;n!==null;)Bd(e,t,n),n=n.sibling}function Bd(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Oo,n)}catch{}switch(n.tag){case 5:ot||yr(n,t);case 6:var r=Je,l=Ot;Je=null,hn(e,t,n),Je=r,Ot=l,Je!==null&&(Ot?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Ot?(e=Je,n=n.stateNode,e.nodeType===8?Si(e.parentNode,n):e.nodeType===1&&Si(e,n),fl(e)):Si(Je,n.stateNode));break;case 4:r=Je,l=Ot,Je=n.stateNode.containerInfo,Ot=!0,hn(e,t,n),Je=r,Ot=l;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bs(n,t,s),l=l.next}while(l!==r)}hn(e,t,n);break;case 1:if(!ot&&(yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ne(n,t,u)}hn(e,t,n);break;case 21:hn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,hn(e,t,n),ot=r):hn(e,t,n);break;default:hn(e,t,n)}}function Su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cg),t.forEach(function(r){var l=kg.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Je=u.stateNode,Ot=!1;break e;case 3:Je=u.stateNode.containerInfo,Ot=!0;break e;case 4:Je=u.stateNode.containerInfo,Ot=!0;break e}u=u.return}if(Je===null)throw Error(A(160));Bd(o,s,l),Je=null,Ot=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(h){Ne(l,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ad(t,e),t=t.sibling}function Ad(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Yt(e),r&4){try{ol(3,e,e.return),Xo(3,e)}catch(T){Ne(e,e.return,T)}try{ol(5,e,e.return)}catch(T){Ne(e,e.return,T)}}break;case 1:At(t,e),Yt(e),r&512&&n!==null&&yr(n,n.return);break;case 5:if(At(t,e),Yt(e),r&512&&n!==null&&yr(n,n.return),e.flags&32){var l=e.stateNode;try{ul(l,"")}catch(T){Ne(e,e.return,T)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&ic(l,o),Yi(u,s);var h=Yi(u,o);for(s=0;s<c.length;s+=2){var v=c[s],k=c[s+1];v==="style"?dc(l,k):v==="dangerouslySetInnerHTML"?uc(l,k):v==="children"?ul(l,k):Is(l,v,k,h)}switch(u){case"input":Wi(l,o);break;case"textarea":sc(l,o);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var F=o.value;F!=null?vr(l,!!o.multiple,F,!1):g!==!!o.multiple&&(o.defaultValue!=null?vr(l,!!o.multiple,o.defaultValue,!0):vr(l,!!o.multiple,o.multiple?[]:"",!1))}l[xl]=o}catch(T){Ne(e,e.return,T)}}break;case 6:if(At(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(A(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(T){Ne(e,e.return,T)}}break;case 3:if(At(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(T){Ne(e,e.return,T)}break;case 4:At(t,e),Yt(e);break;case 13:At(t,e),Yt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ha=Be())),r&4&&Su(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(h=ot)||v,At(t,e),ot=h):At(t,e),Yt(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!v&&e.mode&1)for(X=e,v=e.child;v!==null;){for(k=X=v;X!==null;){switch(g=X,F=g.child,g.tag){case 0:case 11:case 14:case 15:ol(4,g,g.return);break;case 1:yr(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(T){Ne(r,n,T)}}break;case 5:yr(g,g.return);break;case 22:if(g.memoizedState!==null){Cu(k);continue}}F!==null?(F.return=g,X=F):Cu(k)}v=v.sibling}e:for(v=null,k=e;;){if(k.tag===5){if(v===null){v=k;try{l=k.stateNode,h?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=k.stateNode,c=k.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=cc("display",s))}catch(T){Ne(e,e.return,T)}}}else if(k.tag===6){if(v===null)try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(T){Ne(e,e.return,T)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;v===k&&(v=null),k=k.return}v===k&&(v=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:At(t,e),Yt(e),r&4&&Su(e);break;case 21:break;default:At(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Id(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ul(l,""),r.flags&=-33);var o=_u(e);Ss(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,u=_u(e);_s(e,u,s);break;default:throw Error(A(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pg(e,t,n){X=e,$d(e)}function $d(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var l=X,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||Xl;if(!s){var u=l.alternate,c=u!==null&&u.memoizedState!==null||ot;u=Xl;var h=ot;if(Xl=s,(ot=c)&&!h)for(X=l;X!==null;)s=X,c=s.child,s.tag===22&&s.memoizedState!==null?Fu(l):c!==null?(c.return=s,X=c):Fu(l);for(;o!==null;)X=o,$d(o),o=o.sibling;X=l,Xl=u,ot=h}ju(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,X=o):ju(e)}}function ju(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Xo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&uu(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uu(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var v=h.memoizedState;if(v!==null){var k=v.dehydrated;k!==null&&fl(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}ot||t.flags&512&&ws(t)}catch(g){Ne(t,t.return,g)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Cu(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Fu(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xo(4,t)}catch(c){Ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Ne(t,l,c)}}var o=t.return;try{ws(t)}catch(c){Ne(t,o,c)}break;case 5:var s=t.return;try{ws(t)}catch(c){Ne(t,s,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){X=null;break}var u=t.sibling;if(u!==null){u.return=t.return,X=u;break}X=t.return}}var fg=Math.ceil,No=dn.ReactCurrentDispatcher,fa=dn.ReactCurrentOwner,Dt=dn.ReactCurrentBatchConfig,me=0,Ve=null,Le=null,Ze=0,_t=0,xr=Nn(0),We=0,Sl=null,Zn=0,Qo=0,ga=0,il=null,mt=null,ha=0,zr=1/0,tn=null,Io=!1,js=null,Mn=null,Ql=!1,_n=null,Bo=0,sl=0,Cs=null,po=-1,fo=0;function dt(){return me&6?Be():po!==-1?po:po=Be()}function Rn(e){return e.mode&1?me&2&&Ze!==0?Ze&-Ze:Qf.transition!==null?(fo===0&&(fo=_c()),fo):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Rc(e.type)),e):1}function Ut(e,t,n,r){if(50<sl)throw sl=0,Cs=null,Error(A(185));Cl(e,n,r),(!(me&2)||e!==Ve)&&(e===Ve&&(!(me&2)&&(Qo|=n),We===4&&bn(e,Ze)),kt(e,r),n===1&&me===0&&!(t.mode&1)&&(zr=Be()+500,Vo&&In()))}function kt(e,t){var n=e.callbackNode;Xp(e,t);var r=ko(e,e===Ve?Ze:0);if(r===0)n!==null&&Ia(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ia(n),t===1)e.tag===0?Xf(Eu.bind(null,e)):Xc(Eu.bind(null,e)),Hf(function(){!(me&6)&&In()}),n=null;else{switch(Sc(r)){case 1:n=Os;break;case 4:n=bc;break;case 16:n=vo;break;case 536870912:n=wc;break;default:n=vo}n=Gd(n,Ld.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ld(e,t){if(po=-1,fo=0,me&6)throw Error(A(327));var n=e.callbackNode;if(Sr()&&e.callbackNode!==n)return null;var r=ko(e,e===Ve?Ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ao(e,r);else{t=r;var l=me;me|=2;var o=qd();(Ve!==e||Ze!==t)&&(tn=null,zr=Be()+500,Yn(e,t));do try{mg();break}catch(u){Od(e,u)}while(!0);ea(),No.current=o,me=l,Le!==null?t=0:(Ve=null,Ze=0,t=We)}if(t!==0){if(t===2&&(l=Zi(e),l!==0&&(r=l,t=Fs(e,l))),t===1)throw n=Sl,Yn(e,0),bn(e,r),kt(e,Be()),n;if(t===6)bn(e,r);else{if(l=e.current.alternate,!(r&30)&&!gg(l)&&(t=Ao(e,r),t===2&&(o=Zi(e),o!==0&&(r=o,t=Fs(e,o))),t===1))throw n=Sl,Yn(e,0),bn(e,r),kt(e,Be()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:Un(e,mt,tn);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=ha+500-Be(),10<t)){if(ko(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ss(Un.bind(null,e,mt,tn),t);break}Un(e,mt,tn);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-Wt(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fg(r/1960))-r,10<r){e.timeoutHandle=ss(Un.bind(null,e,mt,tn),r);break}Un(e,mt,tn);break;case 5:Un(e,mt,tn);break;default:throw Error(A(329))}}}return kt(e,Be()),e.callbackNode===n?Ld.bind(null,e):null}function Fs(e,t){var n=il;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Ao(e,t),e!==2&&(t=mt,mt=n,t!==null&&Es(t)),e}function Es(e){mt===null?mt=e:mt.push.apply(mt,e)}function gg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Ht(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~ga,t&=~Qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Eu(e){if(me&6)throw Error(A(327));Sr();var t=ko(e,0);if(!(t&1))return kt(e,Be()),null;var n=Ao(e,t);if(e.tag!==0&&n===2){var r=Zi(e);r!==0&&(t=r,n=Fs(e,r))}if(n===1)throw n=Sl,Yn(e,0),bn(e,t),kt(e,Be()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Un(e,mt,tn),kt(e,Be()),null}function ma(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(zr=Be()+500,Vo&&In())}}function er(e){_n!==null&&_n.tag===0&&!(me&6)&&Sr();var t=me;me|=1;var n=Dt.transition,r=ve;try{if(Dt.transition=null,ve=1,e)return e()}finally{ve=r,Dt.transition=n,me=t,!(me&6)&&In()}}function ya(){_t=xr.current,Fe(xr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Uf(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Ks(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jo();break;case 3:Mr(),Fe(xt),Fe(it),ia();break;case 5:oa(r);break;case 4:Mr();break;case 13:Fe(Re);break;case 19:Fe(Re);break;case 10:ta(r.type._context);break;case 22:case 23:ya()}n=n.return}if(Ve=e,Le=e=zn(e.current,null),Ze=_t=t,We=0,Sl=null,ga=Qo=Zn=0,mt=il=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}Vn=null}return e}function Od(e,t){do{var n=Le;try{if(ea(),ao.current=Do,Po){for(var r=ze.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Po=!1}if(Jn=0,He=qe=ze=null,ll=!1,bl=0,fa.current=null,n===null||n.return===null){We=1,Sl=t,Le=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ze,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,v=u,k=v.tag;if(!(v.mode&1)&&(k===0||k===11||k===15)){var g=v.alternate;g?(v.updateQueue=g.updateQueue,v.memoizedState=g.memoizedState,v.lanes=g.lanes):(v.updateQueue=null,v.memoizedState=null)}var F=hu(s);if(F!==null){F.flags&=-257,mu(F,s,u,o,t),F.mode&1&&gu(o,h,t),t=F,c=h;var E=t.updateQueue;if(E===null){var T=new Set;T.add(c),t.updateQueue=T}else E.add(c);break e}else{if(!(t&1)){gu(o,h,t),xa();break e}c=Error(A(426))}}else if(Ee&&u.mode&1){var B=hu(s);if(B!==null){!(B.flags&65536)&&(B.flags|=256),mu(B,s,u,o,t),Js(Rr(c,u));break e}}o=c=Rr(c,u),We!==4&&(We=2),il===null?il=[o]:il.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Sd(o,c,t);au(o,m);break e;case 1:u=c;var d=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mn===null||!Mn.has(f)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=jd(o,u,t);au(o,w);break e}}o=o.return}while(o!==null)}Ud(n)}catch($){t=$,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function qd(){var e=No.current;return No.current=Do,e===null?Do:e}function xa(){(We===0||We===3||We===2)&&(We=4),Ve===null||!(Zn&268435455)&&!(Qo&268435455)||bn(Ve,Ze)}function Ao(e,t){var n=me;me|=2;var r=qd();(Ve!==e||Ze!==t)&&(tn=null,Yn(e,t));do try{hg();break}catch(l){Od(e,l)}while(!0);if(ea(),me=n,No.current=r,Le!==null)throw Error(A(261));return Ve=null,Ze=0,We}function hg(){for(;Le!==null;)Wd(Le)}function mg(){for(;Le!==null&&!Lp();)Wd(Le)}function Wd(e){var t=Vd(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?Ud(e):Le=t,fa.current=null}function Ud(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ug(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Le=null;return}}else if(n=ag(n,t,_t),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);We===0&&(We=5)}function Un(e,t,n){var r=ve,l=Dt.transition;try{Dt.transition=null,ve=1,yg(e,t,n,r)}finally{Dt.transition=l,ve=r}return null}function yg(e,t,n,r){do Sr();while(_n!==null);if(me&6)throw Error(A(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Qp(e,o),e===Ve&&(Le=Ve=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ql||(Ql=!0,Gd(vo,function(){return Sr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dt.transition,Dt.transition=null;var s=ve;ve=1;var u=me;me|=4,fa.current=null,dg(e,n),Ad(n,e),Bf(os),bo=!!ls,os=ls=null,e.current=n,pg(n),Op(),me=u,ve=s,Dt.transition=o}else e.current=n;if(Ql&&(Ql=!1,_n=e,Bo=l),o=e.pendingLanes,o===0&&(Mn=null),Up(n.stateNode),kt(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Io)throw Io=!1,e=js,js=null,e;return Bo&1&&e.tag!==0&&Sr(),o=e.pendingLanes,o&1?e===Cs?sl++:(sl=0,Cs=e):sl=0,In(),null}function Sr(){if(_n!==null){var e=Sc(Bo),t=Dt.transition,n=ve;try{if(Dt.transition=null,ve=16>e?16:e,_n===null)var r=!1;else{if(e=_n,_n=null,Bo=0,me&6)throw Error(A(331));var l=me;for(me|=4,X=e.current;X!==null;){var o=X,s=o.child;if(X.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(X=h;X!==null;){var v=X;switch(v.tag){case 0:case 11:case 15:ol(8,v,o)}var k=v.child;if(k!==null)k.return=v,X=k;else for(;X!==null;){v=X;var g=v.sibling,F=v.return;if(Nd(v),v===h){X=null;break}if(g!==null){g.return=F,X=g;break}X=F}}}var E=o.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var B=T.sibling;T.sibling=null,T=B}while(T!==null)}}X=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,X=s;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ol(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,X=m;break e}X=o.return}}var d=e.current;for(X=d;X!==null;){s=X;var f=s.child;if(s.subtreeFlags&2064&&f!==null)f.return=s,X=f;else e:for(s=d;X!==null;){if(u=X,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Xo(9,u)}}catch($){Ne(u,u.return,$)}if(u===s){X=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,X=w;break e}X=u.return}}if(me=l,In(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Oo,e)}catch{}r=!0}return r}finally{ve=n,Dt.transition=t}}return!1}function Mu(e,t,n){t=Rr(n,t),t=Sd(e,t,1),e=En(e,t,1),t=dt(),e!==null&&(Cl(e,1,t),kt(e,t))}function Ne(e,t,n){if(e.tag===3)Mu(e,e,n);else for(;t!==null;){if(t.tag===3){Mu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=Rr(n,e),e=jd(t,e,1),t=En(t,e,1),e=dt(),t!==null&&(Cl(t,1,e),kt(t,e));break}}t=t.return}}function xg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ze&n)===n&&(We===4||We===3&&(Ze&130023424)===Ze&&500>Be()-ha?Yn(e,0):ga|=n),kt(e,t)}function Hd(e,t){t===0&&(e.mode&1?(t=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):t=1);var n=dt();e=un(e,t),e!==null&&(Cl(e,t,n),kt(e,n))}function vg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hd(e,n)}function kg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Hd(e,n)}var Vd;Vd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,sg(e,t,n);yt=!!(e.flags&131072)}else yt=!1,Ee&&t.flags&1048576&&Qc(t,Eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;co(e,t),e=t.pendingProps;var l=Cr(t,it.current);_r(t,n),l=aa(null,t,r,e,l,n);var o=ua();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(o=!0,Co(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ra(t),l.updater=Yo,t.stateNode=l,l._reactInternals=t,gs(t,r,e,n),t=ys(null,t,r,!0,o,n)):(t.tag=0,Ee&&o&&Qs(t),ct(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(co(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=wg(r),e=Lt(r,e),l){case 0:t=ms(null,t,r,e,n);break e;case 1:t=vu(null,t,r,e,n);break e;case 11:t=yu(null,t,r,e,n);break e;case 14:t=xu(null,t,r,Lt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),ms(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),vu(e,t,r,l,n);case 3:e:{if(Md(t),e===null)throw Error(A(387));r=t.pendingProps,o=t.memoizedState,l=o.element,nd(e,t),zo(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Rr(Error(A(423)),t),t=ku(e,t,r,n,l);break e}else if(r!==l){l=Rr(Error(A(424)),t),t=ku(e,t,r,n,l);break e}else for(jt=Fn(t.stateNode.containerInfo.firstChild),Ct=t,Ee=!0,qt=null,n=ed(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fr(),r===l){t=cn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return rd(t),e===null&&ds(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,is(r,l)?s=null:o!==null&&is(r,o)&&(t.flags|=32),Ed(e,t),ct(e,t,s,n),t.child;case 6:return e===null&&ds(t),null;case 13:return Rd(e,t,n);case 4:return la(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Er(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),yu(e,t,r,l,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,Se(Mo,r._currentValue),r._currentValue=s,o!==null)if(Ht(o.value,s)){if(o.children===l.children&&!xt.current){t=cn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=on(-1,n&-n),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var v=h.pending;v===null?c.next=c:(c.next=v.next,v.next=c),h.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ps(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(A(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ps(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ct(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,_r(t,n),l=Nt(l),r=r(l),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,l=Lt(r,t.pendingProps),l=Lt(r.type,l),xu(e,t,r,l,n);case 15:return Cd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Lt(r,l),co(e,t),t.tag=1,vt(r)?(e=!0,Co(t)):e=!1,_r(t,n),_d(t,r,l),gs(t,r,l,n),ys(null,t,r,!0,e,n);case 19:return zd(e,t,n);case 22:return Fd(e,t,n)}throw Error(A(156,t.tag))};function Gd(e,t){return kc(e,t)}function bg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,n,r){return new bg(e,t,n,r)}function va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wg(e){if(typeof e=="function")return va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===As)return 11;if(e===$s)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=Pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function go(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")va(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ar:return Xn(n.children,l,o,t);case Bs:s=8,l|=8;break;case Ai:return e=Pt(12,n,t,l|2),e.elementType=Ai,e.lanes=o,e;case $i:return e=Pt(13,n,t,l),e.elementType=$i,e.lanes=o,e;case Li:return e=Pt(19,n,t,l),e.elementType=Li,e.lanes=o,e;case rc:return Ko(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tc:s=10;break e;case nc:s=9;break e;case As:s=11;break e;case $s:s=14;break e;case xn:s=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Pt(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Xn(e,t,n,r){return e=Pt(7,e,r,t),e.lanes=n,e}function Ko(e,t,n,r){return e=Pt(22,e,r,t),e.elementType=rc,e.lanes=n,e.stateNode={isHidden:!1},e}function Ti(e,t,n){return e=Pt(6,e,null,t),e.lanes=n,e}function Pi(e,t,n){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _g(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ka(e,t,n,r,l,o,s,u,c){return e=new _g(e,t,n,u,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(o),e}function Sg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yd(e){if(!e)return Pn;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(vt(n))return Yc(e,n,t)}return t}function Xd(e,t,n,r,l,o,s,u,c){return e=ka(n,r,!0,e,l,o,s,u,c),e.context=Yd(null),n=e.current,r=dt(),l=Rn(n),o=on(r,l),o.callback=t??null,En(n,o,l),e.current.lanes=l,Cl(e,l,r),kt(e,r),e}function Jo(e,t,n,r){var l=t.current,o=dt(),s=Rn(l);return n=Yd(n),t.context===null?t.context=n:t.pendingContext=n,t=on(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(l,t,s),e!==null&&(Ut(e,l,s,o),so(e,l,s)),s}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ba(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function jg(){return null}var Qd=typeof reportError=="function"?reportError:function(e){console.error(e)};function wa(e){this._internalRoot=e}Zo.prototype.render=wa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Jo(e,t,null,null)};Zo.prototype.unmount=wa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){Jo(null,e,null,null)}),t[an]=null}};function Zo(e){this._internalRoot=e}Zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&Mc(e)}};function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ei(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zu(){}function Cg(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var h=$o(s);o.call(h)}}var s=Xd(t,r,e,0,null,!1,!1,"",zu);return e._reactRootContainer=s,e[an]=s.current,ml(e.nodeType===8?e.parentNode:e),er(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var h=$o(c);u.call(h)}}var c=ka(e,0,!1,null,null,!1,!1,"",zu);return e._reactRootContainer=c,e[an]=c.current,ml(e.nodeType===8?e.parentNode:e),er(function(){Jo(t,c,n,r)}),c}function ti(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var u=l;l=function(){var c=$o(s);u.call(c)}}Jo(t,s,e,l)}else s=Cg(n,t,e,l,r);return $o(s)}jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(qs(t,n|1),kt(t,Be()),!(me&6)&&(zr=Be()+500,In()))}break;case 13:er(function(){var r=un(e,1);if(r!==null){var l=dt();Ut(r,e,1,l)}}),ba(e,1)}};Ws=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=dt();Ut(t,e,134217728,n)}ba(e,134217728)}};Cc=function(e){if(e.tag===13){var t=Rn(e),n=un(e,t);if(n!==null){var r=dt();Ut(n,e,t,r)}ba(e,t)}};Fc=function(){return ve};Ec=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Qi=function(e,t,n){switch(t){case"input":if(Wi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ho(r);if(!l)throw Error(A(90));oc(r),Wi(r,l)}}}break;case"textarea":sc(e,n);break;case"select":t=n.value,t!=null&&vr(e,!!n.multiple,t,!1)}};gc=ma;hc=er;var Fg={usingClientEntryPoint:!1,Events:[El,pr,Ho,pc,fc,ma]},Gr={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Eg={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xc(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||jg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Oo=Kl.inject(Eg),Kt=Kl}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fg;Et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_a(t))throw Error(A(200));return Sg(e,t,null,n)};Et.createRoot=function(e,t){if(!_a(e))throw Error(A(299));var n=!1,r="",l=Qd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ka(e,1,!1,null,null,n,!1,r,l),e[an]=t.current,ml(e.nodeType===8?e.parentNode:e),new wa(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=xc(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return er(e)};Et.hydrate=function(e,t,n){if(!ei(t))throw Error(A(200));return ti(null,e,t,!0,n)};Et.hydrateRoot=function(e,t,n){if(!_a(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=Qd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Xd(t,null,e,1,n??null,l,!1,o,s),e[an]=t.current,ml(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Zo(t)};Et.render=function(e,t,n){if(!ei(t))throw Error(A(200));return ti(null,e,t,!1,n)};Et.unmountComponentAtNode=function(e){if(!ei(e))throw Error(A(40));return e._reactRootContainer?(er(function(){ti(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};Et.unstable_batchedUpdates=ma;Et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ei(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return ti(e,t,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function Kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kd)}catch(e){console.error(e)}}Kd(),Ku.exports=Et;var Mg=Ku.exports,Jd,Tu=Mg;Jd=Tu.createRoot,Tu.hydrateRoot;const Jl=1;function ho(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Rg(e){if(!ho(e))throw new Error("state.json must be an object");return Array.isArray(e.nodes)||Array.isArray(e.repeatables)||ho(e.state)||ho(e.positions)?{...e,version:1}:Array.isArray(e.nodes)?{version:1,nodes:e.nodes,repeatables:[],oneTimes:[],categories:{},state:{nodeStatuses:{},repeatableCounts:{},oneTimeFunded:{},generalFund:{balance:0,goal:0}},positions:{},edgeNotes:{},phaseSeps:[]}:{...e,version:1}}function zg(e){if(!ho(e))throw new Error("state.json must be an object");let t=Number.isInteger(e.version)?e.version:0,n=e;for(;t<Jl;){if(t===0){n=Rg(n),t=1;continue}throw new Error(`No migration path from version ${t}`)}if(t!==Jl)throw new Error(`Unsupported state.json version ${t}. Expected ${Jl}.`);return{...n,version:Jl}}function ir(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Tg(e){return typeof e=="string"&&e.trim().length>0}function Pg(e){if(!ir(e))throw new Error("state.json must be an object");if(!Number.isInteger(e.version)||e.version<0)throw new Error("state.json.version must be a non-negative integer");if(!Array.isArray(e.nodes))throw new Error("state.json.nodes must be an array");for(let t=0;t<e.nodes.length;t++){const n=e.nodes[t];if(!ir(n))throw new Error(`nodes[${t}] must be an object`);if(!Tg(n.id))throw new Error(`nodes[${t}].id must be a non-empty string`);if("dependencies"in n&&!Array.isArray(n.dependencies))throw new Error(`nodes[${t}].dependencies must be an array when present`);if("unlocks"in n&&!Array.isArray(n.unlocks))throw new Error(`nodes[${t}].unlocks must be an array when present`)}if("repeatables"in e&&!Array.isArray(e.repeatables))throw new Error("state.json.repeatables must be an array when present");if("oneTimes"in e&&!Array.isArray(e.oneTimes))throw new Error("state.json.oneTimes must be an array when present");if("categories"in e&&!ir(e.categories))throw new Error("state.json.categories must be an object when present");if("state"in e&&!ir(e.state))throw new Error("state.json.state must be an object when present");if("positions"in e&&!ir(e.positions))throw new Error("state.json.positions must be an object when present");if("edgeNotes"in e&&!ir(e.edgeNotes))throw new Error("state.json.edgeNotes must be an object when present");if("phaseSeps"in e&&!Array.isArray(e.phaseSeps))throw new Error("state.json.phaseSeps must be an array when present");return!0}async function Zd(e){const t=await fetch(e,{cache:"no-store"});if(!t.ok)throw new Error(`state.json fetch failed: ${t.status} ${t.statusText}`);const n=await t.json(),r=zg(n);return Pg(r),r}const St={start:{label:"Origin",color:"#4ABB4A",glow:"#4ABB4A",order:0},infrastructure:{label:"Infrastructure",color:"#8B7355",glow:"#8B7355",order:1},sanctuary:{label:"Sanctuary",color:"#4A7C59",glow:"#4A7C59",order:2},cultural:{label:"Cultural",color:"#7B5EA7",glow:"#7B5EA7",order:3},community:{label:"Community",color:"#C17B2F",glow:"#C17B2F",order:4},enrichment:{label:"Enrichment",color:"#2F7B8C",glow:"#2F7B8C",order:5},resort:{label:"Resort",color:"#8C4A2F",glow:"#8C4A2F",order:6},revenue:{label:"Revenue",color:"#2F6B8C",glow:"#2F6B8C",order:8},legacy:{label:"Legacy",color:"#8C6B2F",glow:"#8C6B2F",order:9}},Pu=[{id:"land",label:"Acquire Land",category:"start",phase:0,cost:null,status:"locked",description:"300-400 acres of Southern Maine forested land.",dependencies:[],unlocks:["porta_potties"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"porta_potties",label:"Porta-Potties",category:"infrastructure",phase:0,cost:3e3,status:"locked",description:"First microphase. Mandatary before human presence. Monthly rental approx $270 per month.",dependencies:["land"],unlocks:["perimeter_fence","water_well","power_solar","access_road","master_waller_dwelling","tree_art"],generalFundMin:null,repeatableReqs:[],perk:"Sponsor sanitation for Month X acknowledgment on the public tree",emphasis:!0},{id:"perimeter_fence",label:"Fencing",category:"infrastructure",phase:1,cost:35e3,status:"locked",description:"Boundary fencing for various areas",dependencies:["porta_potties"],unlocks:["sanctuary_core","forest_dining"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"water_well",label:"Temporary Water",category:"infrastructure",phase:1,cost:2500,status:"locked",description:"IBS storage, water deliveries. $300 monthly",dependencies:["porta_potties"],unlocks:["aqua_fetch","node_5rnby5e","node_min2uja","node_b60pxf9"],generalFundMin:450,repeatableReqs:[],perk:"Founding Water Sponsor acknowledgment on the public tree",phaseEssential:!0},{id:"power_solar",label:"Power & Solar",category:"infrastructure",phase:1,cost:12e4,status:"locked",description:"Install a solar-primary electrical system sized to run the founder home and a volunteer staging area, with battery storage and a backup generator interface for outage conditions.",dependencies:["porta_potties"],unlocks:["basic_trails","node_min2uja","node_5mltlag"],generalFundMin:1e4,repeatableReqs:[],perk:"Founding Power System naming right (signage at the staging area power hub), plus a permanent donor plaque on the electrical room wall.",phaseEssential:!0},{id:"basic_trails",label:"Basic Trail Network",category:"infrastructure",phase:1,cost:6e4,status:"locked",description:"Primary trail network.",dependencies:["power_solar","node_b60pxf9","node_k2vimcu"],unlocks:["memory_lane_trail","extreme_fetch","ice_rink","tree_art","mood_meadow","sound_pads","matchmaking_walks","node_nxnzzqr","node_xy757nh","node_5rnby5e","node_aaji5ku","node_0p03fw9","node_37li943","node_8s8q8at","node_rfaxsc3","node_8k7m7qj","node_40jlnzf","chaga_program","node_p7dxajh"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0,emphasis:!0},{id:"access_road",label:"Access Road",category:"infrastructure",phase:1,cost:35e3,status:"locked",description:"Construct an all-weather access route suitable for deliveries, emergency access, and guest vehicles, scoped as paved access road in the file. Cost is a placeholder until land had been acquired.",dependencies:["porta_potties"],unlocks:["dutch_snackbar","node_mzsbyr5","node_coro4fa","node_ivc46ur","node_6j8nnxz","node_nxnzzqr","node_xy757nh","node_ijjcwty","node_min2uja","node_5mltlag","node_k2vimcu"],generalFundMin:null,repeatableReqs:[],perk:"Founding Road naming, or donor-named entry marker stone at the start of the road (non-intrusive, consistent with the aesthetic).",phaseEssential:!0},{id:"sanctuary_core",label:"Sanctuary Rescue Core",category:"sanctuary",phase:2,cost:25e4,status:"locked",description:"12 dog capacity",dependencies:["perimeter_fence","node_b60pxf9","node_5mltlag","node_dlhwug3","node_k2vimcu"],unlocks:["vet_facility","communication_boards","dog_daycare","scent_system","animal_adoption","node_nlp6pnm"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0,emphasis:!0},{id:"vet_facility",label:"Veterinary Facility",category:"infrastructure",phase:2,cost:18e4,status:"locked",description:"On-site vet clinic.",dependencies:["sanctuary_core","node_k2vimcu"],unlocks:["transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"communication_boards",label:"Communication Boards",category:"sanctuary",phase:2,cost:25e3,status:"locked",description:"24-button boards.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"dog_daycare",label:"Outdoor Dog Daycare",category:"revenue",phase:1,cost:23e3,status:"locked",description:"Outdoor dog daycare operation for up to 50 dogs, divided into 4 fenced play areas, staffed to supervision ratio guidance, with water provision, shade or shelter, waste stations, basic tick-control points, making use of trails and facilities, and controlled entry and exit handling.",dependencies:["perimeter_fence","node_b60pxf9","node_k2vimcu"],unlocks:[],generalFundMin:18e3,repeatableReqs:[],perk:"Naming right for the daycare, named yards (4 area plaques), named water stations, named shade or shelter structure, and a sponsor plaque at the entry control point.",incomeMin:18e4,incomeMax:69e4},{id:"matchmaking_walks",label:"Dog Matchmaking Walks",category:"sanctuary",phase:2,cost:2e3,status:"locked",description:"Staff-matched walks.",dependencies:["sanctuary_core","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"scent_system",label:"Scent Coding System",category:"enrichment",phase:2,cost:18e3,status:"locked",description:"Villa scent markers.",dependencies:["sanctuary_core","node_p7dxajh"],unlocks:["scent_menu"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"scent_menu",label:"Dog Scent Menu",category:"revenue",phase:3,cost:8e3,status:"locked",description:"Dog-friendly scent menu.",dependencies:["scent_system","node_wuyygx4"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"animal_adoption",label:"On-Site Animal Adoption",category:"sanctuary",phase:2,cost:5e3,status:"locked",description:"Zoo-style sponsorship.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"master_waller_dwelling",label:"Master Waller Dwelling",category:"infrastructure",phase:2,cost:175e3,status:"locked",description:"Home for the master waller.",dependencies:["perimeter_wall"],unlocks:["perimeter_wall"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"perimeter_wall",label:"Perimeter Wall (Begin)",category:"legacy",phase:1,cost:12e4,status:"locked",description:"Begin 3+ mile drystone wall. Includes first year of drywaller compensation at $55-85k and materials.",dependencies:["perimeter_fence"],unlocks:["hero_stones","memorial_urn_stones"],generalFundMin:27e3,repeatableReqs:[],perk:"Named wall segments and named stones (including Hero Stones); primary naming right for the wall program; plaque at the walls primary public-facing entry point."},{id:"hero_stones",label:"Hero Stones Programme",category:"revenue",phase:1,cost:5e3,status:"locked",description:"Inscribed donor stones.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:5e4,incomeMax:15e4},{id:"memorial_urn_stones",label:"Memorial Urn Stones",category:"revenue",phase:2,cost:5e3,status:"locked",description:"Patron dogs' ashes.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"dutch_snackbar",label:"Dutch Snackbar",category:"revenue",phase:1,cost:35e3,status:"locked",description:"Wood-fired pizza + patat.",dependencies:["access_road","node_b60pxf9","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:4e4,incomeMax:65e3},{id:"forest_dining",label:"Forest Dining",category:"revenue",phase:2,cost:45e3,status:"locked",description:"Distributed forest grill sites.",dependencies:["perimeter_fence","node_min2uja","node_k2vimcu"],unlocks:["slow_table"],generalFundMin:null,repeatableReqs:[{repeatableId:"picnic_bench",minCount:6}],perk:"",incomeMin:15e4,incomeMax:28e4},{id:"slow_table",label:"The Slow Table",category:"community",phase:4,cost:8e3,status:"locked",description:"Weekly communal dinner.",dependencies:["forest_dining"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"gingerworks",label:"Gingerworks",category:"community",phase:4,cost:35e4,status:"locked",description:"The pub and micro-brewery.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"repair_workshop",label:"Repair Workshop",category:"community",phase:4,cost:6e4,status:"locked",description:"Open-sided maker space.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"chapel",label:"Unitarian Chapel",category:"community",phase:4,cost:225e3,status:"locked",description:"Timber-frame chapel.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"extreme_fetch",label:"Extreme Fetch Field",category:"enrichment",phase:2,cost:2e4,status:"locked",description:"Fan-shaped outfield.",dependencies:["basic_trails"],unlocks:["aqua_fetch"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"aqua_fetch",label:"Aqua Fetch Bay",category:"resort",phase:3,cost:3e4,status:"locked",description:"Water-based Extreme Fetch.",dependencies:["extreme_fetch","water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"ice_rink",label:"Natural Ice Rink",category:"community",phase:2,cost:12e3,status:"locked",description:"Flooded uncooled rink.",dependencies:["basic_trails"],unlocks:["skating_trails"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"skating_trails",label:"Forest Skating Trails",category:"community",phase:2,cost:2e4,status:"locked",description:"Montreal-style trails.",dependencies:["ice_rink","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"tunnel_network",label:"Tunnel Network",category:"enrichment",phase:2,cost:12e3,status:"locked",description:"Buried tubes connecting dog park.",dependencies:["sanctuary_core","node_p7dxajh"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"mood_meadow",label:"Mood Meadow",category:"enrichment",phase:2,cost:2e3,status:"locked",description:"Canine herb sections.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"sound_pads",label:"Mechanical Sound Pads",category:"enrichment",phase:2,cost:6e3,status:"locked",description:"BONK/DING/CLONK.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"central_village",label:"Central Village",category:"infrastructure",phase:3,cost:8e5,status:"locked",description:"Central hub.",dependencies:["villas_phase1","node_5mltlag","node_938mdhr","node_dlhwug3","node_p7dxajh"],unlocks:["gingerworks","repair_workshop","kustom_kibble","villas_phase1","water_channels","rfid_system","node_wuyygx4"],generalFundMin:5e4,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"villas_phase1",label:"First 10 Villas",category:"revenue",phase:3,cost:25e5,status:"locked",description:"BOGO model.",dependencies:["node_mzsbyr5","node_7cjvxjl","node_p7dxajh"],unlocks:["villas_phase2","rfid_system","central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"villas_phase2",label:"Next 20 Villas",category:"revenue",phase:4,cost:5e6,status:"locked",description:"Scale to 30 villas.",dependencies:["central_village"],unlocks:["artisan_housing","villas_phase3"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"villas_phase3",label:"50+ Villas",category:"revenue",phase:4,cost:1e7,status:"locked",description:"Full villa estate.",dependencies:["villas_phase2"],unlocks:["the_jewel","transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"kustom_kibble",label:"Kustom Kibble",category:"revenue",phase:3,cost:65e3,status:"locked",description:"BOGO kibble dispensers.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:25e3,incomeMax:95e3},{id:"artisan_housing",label:"Artisan Housing",category:"infrastructure",phase:4,cost:15e5,status:"locked",description:"On-site housing.",dependencies:["villas_phase2"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"memory_lane_trail",label:"Memory Lane Trail",category:"resort",phase:3,cost:28e3,status:"locked",description:"Synced speaker trail.",dependencies:["basic_trails","power_solar","rfid_system"],unlocks:["rfid_system"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"rfid_system",label:"RFID Light & Sound",category:"resort",phase:3,cost:12e4,status:"locked",description:"Personal light/sound bubble.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"water_channels",label:"Water Channels",category:"resort",phase:3,cost:45e3,status:"locked",description:"Stone-lined water channels with misters",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"tree_art",label:"Arborsculpture / Living Tree Forms",category:"legacy",phase:1,cost:12e3,status:"locked",description:"An on-site artistic arborist trains selected living trees into deliberate long-term forms for future visitors, using repeat seasonal interventions over multiple years.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"Program naming right; sponsored individual trained trees with discreet tags; sponsor plaque at the entry to the tree-art walk; optional Founding Tree dedication for the first completed form."},{id:"firewood",label:"Firewood Sales",category:"revenue",phase:1,cost:8e3,status:"locked",description:"Produce and sell in-state firewood measured as a Maine legal cord (including the state-defined loose-thrown cord volumes for 1216 inch firewood). Annual output ceiling here is computed using a published woodland growth benchmark of about one-third cord per acre per year applied to 400 acres, and priced using 2026 Maine per-cord retail examples. Actual yield depends on stand conditions and harvest plan.",dependencies:["node_b60pxf9","node_k2vimcu"],unlocks:[],generalFundMin:5e3,repeatableReqs:[],perk:"Founding Woodheat Program naming right; donor plaque at the firewood bay; sponsor-tagged Season 2026 Firewood made possible by <Donor> on the public tree.",incomeMin:65e3,incomeMax:185e3},{id:"chaga_program",label:"Chaga Programme",category:"revenue",phase:1,cost:15e3,status:"locked",description:"Birch inoculation. No income until year 7, then recurring annually.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:2e5,incomeMax:3e5},{id:"transport_fleet",label:"Transport Fleet",category:"sanctuary",phase:4,cost:12e5,status:"locked",description:"Purpose-built rescue vehicles.",dependencies:["vet_facility","villas_phase3","node_e0ynnbc"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"the_jewel",label:"The Jewel",category:"resort",phase:4,cost:35e6,status:"locked",description:"Indoor water park. The crown.",dependencies:["villas_phase3","node_7aai9m0"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"node_mzsbyr5",label:"Disc Golf Course",category:"community",phase:1,cost:4e3,status:"locked",description:"",dependencies:["access_road","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:8e3,incomeMax:22e3},{id:"node_coro4fa",label:"Forest Golf Course",category:"community",phase:1,cost:18e3,status:"locked",description:"An 18-hole forest golf course routed like a disc golf course with minimal clearance. Each hole is a large metal bell suspended from a low wooden frame. Players complete a hole by striking the bell. Course can be reconfigured seasonally, with a basic roofed staging pavilion at the start. Play price is $12 per round, with optional club and ball rentals.",dependencies:["access_road","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:8e3,incomeMax:21e3},{id:"node_ivc46ur",label:"Public Dog Park",category:"enrichment",phase:1,cost:185e3,status:"locked",description:"Construct a public off-leash dog park on 0.5 acre with two separated activity zones, airlock entry fencing, mulch surfacing, shelter pavilion, multiple water stations, picnic benches/tables, waste bag/bin stations, required forest clearing, and built-in commercial agility equipment.",dependencies:["access_road"],unlocks:[],generalFundMin:6500,repeatableReqs:[],perk:"Park naming right (<Donor> Public Dog Park), donor plaque on the pavilion, named agility elements (e.g., <Donor> Weave Poles), and Founding Day first-use ceremony for the primary sponsor.",phaseEssential:!1},{id:"node_6j8nnxz",label:"Adventure Playground",category:"community",phase:1,cost:135e3,status:"locked",description:"Timber-built, 1990s-style adventure playground integrated into forest and terrain across 0.25 acre, with perimeter fencing, parent shelter pavilion, multiple water stations, mulch or safety surfacing in fall zones, tick-control points (tools + signage), and natural-feature-based play elements plus fixed adventure structures.",dependencies:["access_road"],unlocks:[],generalFundMin:9200,repeatableReqs:[],perk:"Park naming right (The <Donor> Adventure Playground), sponsor plaque on the parent shelter, and named major elements (e.g., <Donor> Timber Fort, <Donor> Rope Traverse, <Donor> Lookout Deck).",phaseEssential:!1},{id:"node_nxnzzqr",label:"SAR training area",category:"enrichment",phase:1,cost:36e3,status:"locked",description:"A designated SAR training area placed on the least mission-usable land, consisting of signage, a 6-car gravel parking lot, a simple staging area, and basic fencing enclosing a narrow acre.",dependencies:["access_road","basic_trails"],unlocks:[],generalFundMin:2500,repeatableReqs:[],perk:"Naming right for the training area entry sign, plus a donor plaque at the staging area.",phaseEssential:!1},{id:"node_xy757nh",label:"Archery field",category:"community",phase:1,cost:5e3,status:"locked",description:"",dependencies:["basic_trails","access_road","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:5e3,incomeMax:12e3},{id:"node_5rnby5e",label:"Food forest",category:"legacy",phase:1,cost:2e3,status:"locked",description:"",dependencies:["basic_trails","water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_aaji5ku",label:"Cross-country ski trails",category:"community",phase:1,cost:12e3,status:"locked",description:"",dependencies:["basic_trails","node_k2vimcu"],unlocks:["node_pgm840u"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_pgm840u",label:"Dog Skijoring",category:"enrichment",phase:2,cost:5e3,status:"locked",description:"",dependencies:["node_aaji5ku"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_0p03fw9",label:"Orienteering courses",category:"community",phase:1,cost:2500,status:"locked",description:"",dependencies:["basic_trails","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_ijjcwty",label:"Community BMX track",category:"community",phase:1,cost:16e3,status:"locked",description:"A dirt BMX track built with community volunteer labor where New Doggerland supplies the purchased inputs (imported fill or soil amendments if needed, erosion control, any rented equipment time, compaction, basic signage, and any minimal safety delineation).",dependencies:["access_road","node_k2vimcu"],unlocks:[],generalFundMin:2e3,repeatableReqs:[],perk:"Track naming right; named start hill or named feature zones; sponsor plaque at the entry sign.",phaseEssential:!1},{id:"node_37li943",label:"Off-leash trail",category:"revenue",phase:1,cost:74e3,status:"locked",description:"A 0.5 mile fenced off leash trail loop that is 50 ft wide (two parallel fence lines) with two double gate airlock entries to prevent escapes, plus rules signage and basic tick control points. Bookable for a fee.",dependencies:["basic_trails"],unlocks:[],generalFundMin:4800,repeatableReqs:[],perk:"Naming right for the loop, named airlock gates, and sponsor plaques at each entry sign.",phaseEssential:!1,incomeMin:15e3,incomeMax:32e3},{id:"node_55rktrk",label:"On-site Camping",category:"revenue",phase:2,cost:1e4,status:"locked",description:"Income per plot",dependencies:["node_min2uja","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[{repeatableId:"camping_pad",minCount:6}],perk:"",phaseEssential:!0,incomeMin:1e4},{id:"node_min2uja",label:"Basic Sanitation Block",category:"infrastructure",phase:2,cost:25e3,status:"locked",description:"",dependencies:["access_road","power_solar","node_5mltlag"],unlocks:["node_55rktrk","forest_dining","node_22draly"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"node_b60pxf9",label:"Founder dwelling",category:"infrastructure",phase:1,cost:172e3,status:"locked",description:"A temporary but fully functional founder residence suitable for a family of three, with a dedicated volunteer meeting area, mud room, internal capacity to foster 4 dogs while keeping 3 personal dogs, a securely fenced yard sized for extended unsupervised dog time, and an on-site sewage solution via a conventional septic system.",dependencies:["water_well"],unlocks:["dutch_snackbar","dog_daycare","firewood","sanctuary_core","basic_trails","node_3m4u27z","node_28axmgy"],generalFundMin:2e4,repeatableReqs:[],perk:"Naming right for the dwelling (Founder Base Cabin sponsored by <Donor>), plaque in the meeting area, and a named dog yard gate sign (<Donor> Canine Yard).",phaseEssential:!1,emphasis:!0},{id:"node_8s8q8at",label:"Culinary Mushrooms",category:"revenue",phase:1,cost:5600,status:"locked",description:"Inoculate suitable hardwood logs in forest conditions to produce culinary mushrooms (including lions mane) for harvest and sale as cultivated mushrooms.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"Mushroom Grove naming right for the inoculation area; sponsor-tagged log clusters; small plaque at the grove entry marker.",phaseEssential:!1,incomeMin:12480,incomeMax:32600},{id:"node_22draly",label:"Forest Daycare",category:"revenue",phase:2,cost:7500,status:"locked",description:"",dependencies:["node_min2uja","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_rfaxsc3",label:"Sledding Hill with Lift",category:"community",phase:2,cost:7500,status:"locked",description:"",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_8k7m7qj",label:"Treehouse Network",category:"resort",phase:3,cost:25e3,status:"locked",description:"",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_wuyygx4",label:"Restaurant #1",category:"revenue",phase:3,cost:25e4,status:"locked",description:"",dependencies:["central_village"],unlocks:["scent_menu"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_40jlnzf",label:"ADA Accessible Trails",category:"infrastructure",phase:1,cost:1e3,status:"locked",description:"",dependencies:["basic_trails","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:25e4},{id:"node_3m4u27z",label:"Rescue Goat Enclosure (Up to 12 Goats)",category:"sanctuary",phase:1,cost:20300,status:"locked",description:"Build a goat-safe enclosure sized for 12 goats using (a) indoor shelter space of 2025 sq ft per goat (target: ~300 sq ft) and (b) a contained activity yard, with goat-appropriate fencing, gates, water system, hay and mineral feeders, and an electric deterrent where needed.",dependencies:["node_b60pxf9"],unlocks:["node_6npt26r"],generalFundMin:5e3,repeatableReqs:[],perk:"Rescue Goat Enclosure naming right on the entry sign, plus a permanent plaque at the main gate; optional sponsor tags for the shelter and water station.",phaseEssential:!1},{id:"node_28axmgy",label:"Rescue Donkey facility",category:"sanctuary",phase:1,cost:55e3,status:"locked",description:"Establish initial donkey infrastructure sized for 8 donkeys, including at least 4 acres of grazing and at least 400 sq ft of covered bedded shelter, plus perimeter fencing, gates, and an all-season water setup.",dependencies:["node_b60pxf9"],unlocks:["node_uju2o5z"],generalFundMin:12e3,repeatableReqs:[],perk:"Facility naming right (The <Donor> Donkey Facility), donor plaque at the main gate, and optional named elements (shelter nameplate, water station plaque).",phaseEssential:!1},{id:"node_5mltlag",label:"Well and permanent water",category:"infrastructure",phase:1,cost:45e3,status:"locked",description:"",dependencies:["power_solar","access_road"],unlocks:["sanctuary_core","central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_7cjvxjl",label:"Villa Design Contest",category:"cultural",phase:2,cost:125e3,status:"locked",description:"",dependencies:[],unlocks:["villas_phase1"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_938mdhr",label:"Central Village Design Contest",category:"cultural",phase:2,cost:175e3,status:"locked",description:"",dependencies:[],unlocks:["central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_7aai9m0",label:"The Jewel design Contest",category:"cultural",phase:4,cost:2e5,status:"locked",description:"",dependencies:[],unlocks:["the_jewel"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_dlhwug3",label:"Power upgrade",category:"infrastructure",phase:2,cost:2e4,status:"locked",description:"",dependencies:[],unlocks:["sanctuary_core","central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_k2vimcu",label:"Parking Lot",category:"infrastructure",phase:1,cost:55e3,status:"locked",description:"Build an initial 3040 car compacted gravel parking lot with defined bays and a dedicated dog leashing post at every bay, suitable for early operations and public use.",dependencies:["access_road"],unlocks:["dutch_snackbar","dog_daycare","firewood","node_40jlnzf","node_coro4fa","node_ijjcwty","node_mzsbyr5","node_xy757nh","node_aaji5ku","node_0p03fw9","basic_trails","forest_dining","node_22draly","node_55rktrk","vet_facility","sanctuary_core"],generalFundMin:null,repeatableReqs:[],perk:"Lot naming right (<Donor> Parking), plaque at the entry, and optional Sponsor a Bay labels (bay-numbered recognition tied to leashing posts).",phaseEssential:!1},{id:"node_nlp6pnm",label:"Sanctuary Rescue Core upgrade",category:"sanctuary",phase:3,cost:25e4,status:"locked",description:"24 dog capacity",dependencies:["sanctuary_core"],unlocks:["node_e0ynnbc"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"node_e0ynnbc",label:"Sanctuary Rescue Core upgrade 2",category:"sanctuary",phase:4,cost:25e4,status:"locked",description:"100 dog capacity",dependencies:["node_nlp6pnm"],unlocks:["transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"node_6npt26r",label:"Rescue Goat Enclosure upgrade (Up to 24 Goats) ",category:"sanctuary",phase:2,cost:20300,status:"locked",description:"Build a goat-safe enclosure sized for 24 goats using (a) indoor shelter space of 2025 sq ft per goat (target: ~300 sq ft) and (b) a contained activity yard, with goat-appropriate fencing, gates, water system, hay and mineral feeders, and an electric deterrent where needed.",dependencies:["node_3m4u27z"],unlocks:[],generalFundMin:5e3,repeatableReqs:[],perk:"Rescue Goat Enclosure naming right on the entry sign, plus a permanent plaque at the main gate; optional sponsor tags for the shelter and water station.",phaseEssential:!1},{id:"node_uju2o5z",label:"Rescue Donkey facility upgrade",category:"sanctuary",phase:2,cost:55e3,status:"locked",description:"Establish initial donkey infrastructure sized for 16 donkeys, including at least 8 acres of grazing and at least 800 sq ft of covered bedded shelter, plus perimeter fencing, gates, and an all-season water setup.",dependencies:["node_28axmgy"],unlocks:[],generalFundMin:12e3,repeatableReqs:[],perk:"Facility naming right (The <Donor> Donkey Facility), donor plaque at the main gate, and optional named elements (shelter nameplate, water station plaque).",phaseEssential:!1},{id:"node_p7dxajh",label:"Upgraded Trail Network",category:"infrastructure",phase:2,cost:25e4,status:"locked",description:"Primary trail network.",dependencies:["basic_trails"],unlocks:["central_village","tunnel_network","scent_system","villas_phase1"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0}],Dg=[{id:"onetime_utv_trailer",label:"UTV and Trailer",cost:25e3,category:"infrastructure",icon:"",description:"Utility terrain vehicle with trailer for property maintenance and materials transport",funded:!1},{id:"onetime_truck",label:"Truck",cost:35e3,category:"infrastructure",icon:"",description:"Work truck for hauling, supplies, and property management",funded:!1},{id:"onetime_snowblower",label:"Snow Blower",cost:3500,category:"infrastructure",icon:"",description:"Heavy-duty snow blower for winter path and access maintenance",funded:!1},{id:"onetime_log_splitter",label:"Log Splitter",cost:2200,category:"infrastructure",icon:"",description:"Hydraulic log splitter for firewood and heating preparation",funded:!1},{id:"onetime_equipment",label:"General Equipment Fund",cost:15e3,category:"infrastructure",icon:"",description:"Miscellaneous tools, equipment, and maintenance supplies as needs arise",funded:!1}],Du=[{id:"picnic_bench",label:"Outdoor dining location",cost:2200,category:"community",icon:"",description:"Handcrafted bench on a concrete foundation. Wooden roof.",perk:"Small plaque",requiredNode:"basic_trails",fundedCount:0,targetCount:20},{id:"camping_pad",label:"Camping Site",cost:12e3,category:"revenue",icon:"",description:" 1/4 acre dog-safe, fenced, private camping area.",perk:"Complimentary first night",requiredNode:"basic_trails",fundedCount:0,targetCount:25},{id:"tick_station",label:"Tick Station",cost:350,category:"community",icon:"",description:"Cedar-post station with mirror, tick-spray, tick removal tools and topicals, and tick-tubes",perk:"",requiredNode:"basic_trails",fundedCount:0,targetCount:12},{id:"dog_water_station",label:"Dog Water Station",cost:8e3,category:"community",icon:"",description:"Combined dog/human water station",perk:"",requiredNode:"water_well",fundedCount:0,targetCount:10},{id:"fire_ring",label:"Fire Pit",cost:5e3,category:"community",icon:"",description:"Stone-set fire pit, with wooden or rock seating. Includes maintaining a cut-back for fire-safety.",perk:"Host the inaugural fire",requiredNode:"basic_trails",fundedCount:0,targetCount:8},{id:"trail_bench",label:"Trail Rest Bench",cost:450,category:"community",icon:"",description:"Timber bench at scenic point.",perk:"Location choice and attribution plaque",requiredNode:"basic_trails",fundedCount:0,targetCount:20},{id:"bird_feeder",label:"Bird Feeder Station",cost:500,category:"sanctuary",icon:"",description:"Cedar multi-feeder post.",perk:"Attribution plaque",requiredNode:"basic_trails",fundedCount:0,targetCount:15},{id:"bat_house",label:"Bat House",cost:580,category:"sanctuary",icon:"",description:"Multi-chamber bat house.",perk:"Base plate inscription",requiredNode:"basic_trails",fundedCount:0,targetCount:10},{id:"apple_tree",label:"Fruit Tree Planting",cost:580,category:"legacy",icon:"",description:"Heritage fruit varieties",perk:"Name the tree + first pick",requiredNode:"basic_trails",fundedCount:0,targetCount:12}],Ng={land:{x:750,y:140},porta_potties:{x:750,y:280},perimeter_fence:{x:750,y:770},water_well:{x:750,y:420},power_solar:{x:750,y:490},access_road:{x:750,y:560},basic_trails:{x:750,y:840},master_waller_dwelling:{x:750,y:1190},sanctuary_core:{x:450,y:1120},vet_facility:{x:750,y:1330},communication_boards:{x:450,y:1330},dog_daycare:{x:300,y:700},matchmaking_walks:{x:450,y:1260},scent_system:{x:900,y:1470},scent_menu:{x:300,y:1820},animal_adoption:{x:450,y:1190},perimeter_wall:{x:600,y:700},hero_stones:{x:300,y:840},memorial_urn_stones:{x:300,y:1260},dutch_snackbar:{x:300,y:770},forest_dining:{x:300,y:1120},slow_table:{x:600,y:2100},gingerworks:{x:600,y:2170},repair_workshop:{x:600,y:2030},chapel:{x:1050,y:2030},extreme_fetch:{x:900,y:1260},aqua_fetch:{x:1350,y:1610},ice_rink:{x:1050,y:1190},skating_trails:{x:1050,y:1260},tunnel_network:{x:900,y:1190},mood_meadow:{x:900,y:1330},sound_pads:{x:900,y:1400},central_village:{x:750,y:1610},villas_phase1:{x:300,y:1610},villas_phase2:{x:300,y:2030},villas_phase3:{x:300,y:2100},kustom_kibble:{x:300,y:1680},artisan_housing:{x:750,y:2030},memory_lane_trail:{x:1350,y:1820},rfid_system:{x:1350,y:1750},water_channels:{x:1350,y:1890},tree_art:{x:600,y:630},firewood:{x:300,y:630},chaga_program:{x:300,y:980},transport_fleet:{x:450,y:2100},the_jewel:{x:1350,y:2100},null:{x:620,y:1500},node_mzsbyr5:{x:1050,y:770},node_coro4fa:{x:1050,y:630},node_ivc46ur:{x:900,y:560},node_6j8nnxz:{x:1050,y:560},node_nxnzzqr:{x:900,y:630},node_xy757nh:{x:1050,y:840},node_5rnby5e:{x:600,y:560},node_aaji5ku:{x:1050,y:980},node_pgm840u:{x:900,y:1120},node_0p03fw9:{x:1050,y:910},node_ijjcwty:{x:1050,y:700},node_37li943:{x:300,y:910},node_55rktrk:{x:300,y:1190},node_min2uja:{x:750,y:1120},node_b60pxf9:{x:750,y:630},node_8s8q8at:{x:300,y:560},node_22draly:{x:300,y:1330},node_rfaxsc3:{x:1050,y:1120},node_8k7m7qj:{x:1350,y:1680},node_wuyygx4:{x:300,y:1750},node_40jlnzf:{x:750,y:980},node_3m4u27z:{x:450,y:560},node_28axmgy:{x:450,y:630},node_5mltlag:{x:750,y:910},node_7cjvxjl:{x:1200,y:1120},node_938mdhr:{x:1200,y:1190},node_7aai9m0:{x:1200,y:2030},node_dlhwug3:{x:750,y:1260},node_k2vimcu:{x:750,y:700},node_nlp6pnm:{x:450,y:1610},node_e0ynnbc:{x:450,y:2030},node_6npt26r:{x:450,y:1400},node_uju2o5z:{x:450,y:1470},node_p7dxajh:{x:750,y:1400}};function se(e){return e==null?null:e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}k`:`$${e}`}function ep(e,t,n,r=new Set){if(r.has(e))return new Set;r.add(e);const l=n[e];if(!l)return new Set;const o=new Set;for(const s of l.dependencies){const u=t[s];u==="built"||u==="funded"||(o.add(s),ep(s,t,n,r).forEach(c=>o.add(c)))}return o}function Ig(e,t,n=6){const r=new Map,l=[{id:e,depth:0}],o=new Set([e]);for(;l.length;){const{id:s,depth:u}=l.shift();if(u>=n)continue;const c=t[s];if(c)for(const h of c.unlocks||[])o.has(h)||(o.add(h),r.set(h,u+1),l.push({id:h,depth:u+1}))}return r}const Zl=[1,.55,.32,.18,.1],Bg=[2.5,1.8,1.2,.8,.5],ht=134,$t=50,Nu=[{label:"All",min:0,max:1/0},{label:"<$500",min:0,max:499},{label:"$500$2k",min:500,max:2e3},{label:"$2k$10k",min:2001,max:1e4},{label:"$10k$50k",min:10001,max:5e4},{label:"$50k+",min:50001,max:1/0}];function Ag({balance:e,goal:t,nodes:n,theme:r,showRequirements:l,onSelectNode:o}){const s=Math.min(1,e/t),u=ai.useRef(null),[c,h]=ai.useState(200);ai.useEffect(()=>{if(!u.current)return;const g=new ResizeObserver(F=>{for(const E of F)h(Math.max(60,E.contentRect.height-52))});return g.observe(u.current),()=>g.disconnect()},[]);const v=(n||[]).filter(g=>g.generalFundMin).map(g=>({id:g.id,label:g.label,min:g.generalFundMin,pct:Math.min(1,g.generalFundMin/t)})),k=r==="dark";return i.jsxs("div",{ref:u,style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",padding:"6px 0 4px",minHeight:0,overflow:"hidden"},children:[i.jsxs("div",{style:{position:"relative",width:24,flexShrink:0,height:c,margin:"0 auto"},children:[i.jsx("div",{style:{position:"absolute",left:4,top:0,width:16,height:c,background:k?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.08)",borderRadius:"8px 8px 0 0",border:`1px solid ${k?"rgba(255,255,255,0.12)":"rgba(0,0,0,0.15)"}`,overflow:"hidden"},children:i.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${Math.floor(s*100)}%`,background:"linear-gradient(180deg,#7FFF7F 0%,#4ABB4A 100%)",transition:"height 0.6s ease",borderRadius:"0 0 6px 6px"}})}),l&&v.map((g,F)=>{const E=c-Math.floor(g.pct*c),T=e>=g.min;return i.jsx("div",{role:"button",tabIndex:0,title:`${g.label}: ${se(g.min)}`,onClick:B=>{B.stopPropagation(),o&&o(g.id)},onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),o&&o(g.id))},style:{position:"absolute",left:-2,top:E,width:28,height:6,cursor:o?"pointer":"default"},children:i.jsx("div",{style:{position:"absolute",left:0,top:2,width:28,height:2,background:T?"#7FFF7F":k?"rgba(255,200,80,0.65)":"rgba(180,140,40,0.8)"}})},F)}),i.jsx("div",{style:{position:"absolute",bottom:-10,left:"50%",transform:"translateX(-50%)",width:20,height:20,borderRadius:"50%",background:s>0?"linear-gradient(135deg,#7FFF7F,#4ABB4A)":k?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.08)",border:`1px solid ${k?"rgba(255,255,255,0.18)":"rgba(0,0,0,0.2)"}`,boxShadow:s>0?"0 0 10px rgba(127,255,127,0.4)":"none"}})]}),i.jsxs("div",{style:{marginTop:18,color:k?"rgba(255,255,255,0.28)":"rgba(0,0,0,0.45)",fontSize:"7px",textAlign:"center",lineHeight:1.4,flexShrink:0},children:["Goal",i.jsx("br",{}),se(t)]}),i.jsxs("div",{style:{color:k?"rgba(255,255,255,0.22)":"rgba(0,0,0,0.35)",fontSize:"7px",textAlign:"center",marginTop:2,flexShrink:0},children:[Math.round(s*100),"%"]}),l&&v.length>0&&i.jsx("div",{style:{width:"100%",padding:"4px 6px 0",marginTop:4,flexShrink:0},children:v.map((g,F)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:3,marginBottom:2},children:[i.jsx("div",{style:{width:6,height:1.5,background:e>=g.min?"#7FFF7F":k?"rgba(255,200,80,0.6)":"rgba(180,140,40,0.8)",flexShrink:0}}),i.jsx("span",{style:{color:e>=g.min?"rgba(127,255,127,0.7)":k?"rgba(255,200,80,0.6)":"rgba(180,140,40,0.9)",fontSize:"6px",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:g.label.slice(0,11)})]},F))})]})}function $g({nodes:e,nodeStatuses:t,onClose:n}){const[r,l]=x.useState(""),[o,s]=x.useState("all"),u=parseFloat(r.replace(/[^0-9.]/g,""))||0,c={all:null,animals:["sanctuary","enrichment"],longevity:["revenue","infrastructure"],public:["community","resort","cultural"]},h=x.useMemo(()=>Object.fromEntries(e.map(d=>[d.id,d])),[e]),v=x.useMemo(()=>{const d=new Set(e.filter(f=>{const w=t[f.id]??f.status;return w==="built"||w==="funded"}).map(f=>f.id));return d.add("land"),d},[e,t]),k=x.useCallback(d=>{const f=t[d.id]??d.status;return f==="built"||f==="funded"},[t]),g=x.useCallback((d,f)=>e.some(w=>w.phaseEssential&&w.phase<d.phase&&!f.has(w.id)&&!k(w)),[e,k]);x.useCallback((d,f)=>{const w=new Set(d),$=[];let z=f,I=!0;for(;I;){I=!1;for(const q of e)if(!w.has(q.id)&&!(q.cost==null||q.cost>z)&&!k(q)&&q.dependencies.every(G=>w.has(G))&&!g(q,w)){w.add(q.id),$.push(q),z-=q.cost,I=!0;break}}return{added:$,rem:z}},[e,k,g]);const F=x.useMemo(()=>{if(u<=0)return[];const d=e.filter(z=>v.has(z.id)||k(z)||z.cost==null||z.cost>u||g(z,v)?!1:z.dependencies.every(I=>v.has(I))),f=[];for(const z of d){const I=new Set([...v,z.id]),q=u-z.cost,G=new Set([z.id]);let H=!0;for(;H;){H=!1;for(const te of e)G.has(te.id)||te.dependencies.some(ge=>G.has(ge))&&(G.add(te.id),H=!0)}G.delete(z.id);const xe=new Set(I),tt=[];let st=q;for(H=!0;H;){H=!1;for(const te of e)if(G.has(te.id)&&!xe.has(te.id)&&!(te.cost==null||te.cost>st)&&!k(te)&&te.dependencies.every(ge=>xe.has(ge))&&!g(te,xe)){xe.add(te.id),tt.push(te),st-=te.cost,H=!0;break}}f.push({root:z,unlocked:[z,...tt],totalCost:[z,...tt].reduce((te,ge)=>te+(ge.cost||0),0),level:1});const we=e.filter(te=>k(te)||te.cost==null||te.cost>q||g(te,I)?!1:te.dependencies.every(ge=>I.has(ge)));for(const te of we){const ge=new Set([...I,te.id]),Ge=q-te.cost,P=new Set([te.id]);let ee=!0;for(;ee;){ee=!1;for(const fe of e)P.has(fe.id)||fe.dependencies.some(Pe=>P.has(Pe))&&(P.add(fe.id),ee=!0)}P.delete(te.id);const K=new Set(ge),le=[];let ne=Ge,Me=!0;for(;Me;){Me=!1;for(const fe of e)if(P.has(fe.id)&&!K.has(fe.id)&&!(fe.cost==null||fe.cost>ne)&&!k(fe)&&fe.dependencies.every(Pe=>K.has(Pe))&&!g(fe,K)){K.add(fe.id),le.push(fe),ne-=fe.cost,Me=!0;break}}f.push({root:te,prefix:z,unlocked:[te,...le],totalCost:[te,...le].reduce((fe,Pe)=>fe+(Pe.cost||0),0),level:2})}}const w=new Map;for(const z of f){const I=`${z.level}:${z.root.id}`;(!w.has(I)||z.unlocked.length>w.get(I).unlocked.length)&&w.set(I,z)}const $=c[o];return[...w.values()].sort((z,I)=>{if($){const q=z.unlocked.filter(H=>$.includes(H.category)).length,G=I.unlocked.filter(H=>$.includes(H.category)).length;if(G!==q)return G-q}return z.level-I.level||I.unlocked.length-z.unlocked.length||I.totalCost-z.totalCost}).slice(0,15)},[u,e,t,v,k,g]),E=x.useMemo(()=>{if(u<=0)return[];const d=new Set(F.map(f=>{var w;return(w=f.root)==null?void 0:w.id}).filter(Boolean));return e.filter(f=>v.has(f.id)||k(f)||d.has(f.id)||(f.cost||0)>u?!1:f.dependencies.filter($=>!v.has($)).length===1).map(f=>{const w=f.dependencies.find($=>!v.has($));return{node:f,blocker:h[w]}}).filter(f=>f.blocker&&f.blocker.id!=="land"&&f.blocker.cost!=null).slice(0,3)},[e,t,v,k,h,u,F]),T=F[0],B=(T==null?void 0:T.unlocked.length)||0,m=(T==null?void 0:T.totalCost)||0;return i.jsx("div",{style:{position:"absolute",inset:0,zIndex:50,background:"rgba(0,0,0,0.88)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:n,children:i.jsxs("div",{style:{background:"#0d1a0d",border:"1px solid rgba(196,168,130,0.3)",borderRadius:"6px",padding:"24px",maxWidth:600,width:"92%",height:"90vh",maxHeight:"90vh",overflowY:"auto",display:"flex",flexDirection:"column"},onClick:d=>d.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8px",letterSpacing:"0.3em",textTransform:"uppercase",marginBottom:"3px"},children:"New Doggerland"}),i.jsx("div",{style:{color:"#F5EFE0",fontSize:"16px"},children:"Your Impact Calculator"})]}),i.jsx("button",{onClick:n,style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",fontSize:"20px",cursor:"pointer",lineHeight:1},children:""})]}),i.jsxs("div",{style:{marginBottom:"16px"},children:[i.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"9px",letterSpacing:"0.15em",textTransform:"uppercase",display:"block",marginBottom:"6px"},children:"Enter a gift amount ($)"}),i.jsx("input",{value:r,onChange:d=>l(d.target.value),placeholder:"e.g. 50000",autoFocus:!0,style:{width:"100%",boxSizing:"border-box",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(196,168,130,0.3)",borderRadius:"4px",padding:"8px 12px",color:"#F5EFE0",fontSize:"18px",fontFamily:"system-ui,sans-serif",outline:"none"}})]}),i.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"16px",flexWrap:"wrap"},children:[i.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px",alignSelf:"center",marginRight:"2px"},children:"Show impact on:"}),[{id:"all",label:"All areas"},{id:"animals",label:"Animal welfare"},{id:"longevity",label:"Project longevity"},{id:"public",label:"Public benefit"}].map(d=>i.jsx("button",{onClick:()=>s(d.id),style:{padding:"3px 10px",background:o===d.id?"rgba(196,168,130,0.18)":"transparent",border:`1px solid ${o===d.id?"rgba(196,168,130,0.5)":"rgba(255,255,255,0.12)"}`,borderRadius:"20px",color:o===d.id?"#C4A882":"rgba(255,255,255,0.4)",fontSize:"8.5px",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:d.label},d.id))]}),u>0?i.jsxs(i.Fragment,{children:[T&&i.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"},children:[{label:"Best outcome: nodes funded",value:B,color:"#7FFF7F"},{label:"Capital deployed",value:se(m)||"$0",color:"#C4A882"},...u-m>=0?[{label:" General Fund",value:u-m>0?se(u-m):"$0",color:u-m>0?"rgba(127,255,127,0.7)":"rgba(255,255,255,0.2)"}]:[]].map(d=>i.jsxs("div",{style:{flex:"1 1 auto",minWidth:110,background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:"4px",padding:"8px 12px"},children:[i.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"7.5px",letterSpacing:"0.12em",textTransform:"uppercase",marginBottom:"2px"},children:d.label}),i.jsx("div",{style:{color:d.color,fontSize:"16px",fontWeight:"bold"},children:d.value})]},d.label))}),F.map((d,f)=>{var q;const w=d.unlocked.reduce((G,H)=>G+(H.incomeMin||0),0),$=f===0,z=d.root,I=z?d.unlocked.filter(G=>G.id!==z.id):d.unlocked;return i.jsxs("div",{style:{marginBottom:"10px",background:$?"rgba(196,168,130,0.04)":"rgba(255,255,255,0.015)",border:`1px solid ${$?"rgba(196,168,130,0.2)":"rgba(255,255,255,0.06)"}`,borderRadius:"5px",padding:"12px 14px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[i.jsxs("span",{style:{color:$?"#C4A882":"rgba(255,255,255,0.32)",fontSize:"8px",letterSpacing:"0.12em",textTransform:"uppercase"},children:["Starting with ",z.label]}),i.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[w>0&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.6)",fontSize:"8px"},children:["+",se(w),"/yr"]}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px"},children:[d.unlocked.length," node",d.unlocked.length!==1?"s":""]}),i.jsxs("span",{style:{color:"#C4A882",fontSize:"8px",fontWeight:"bold"},children:["Total: ",se(d.level===2?d.totalCost+(((q=d.prefix)==null?void 0:q.cost)||0):d.totalCost)]})]})]}),d.prefix&&(()=>{const G=St[d.prefix.category]||St.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"3px 0 5px",marginBottom:"4px",borderBottom:"1px solid rgba(255,255,255,0.05)",opacity:.45},children:[i.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:G.color,flexShrink:0}}),i.jsxs("span",{style:{flex:1,color:"rgba(255,255,255,0.6)",fontSize:"9px",fontStyle:"italic"},children:[d.prefix.label," ",i.jsx("span",{style:{opacity:.7},children:"(prerequisite)"})]}),i.jsx("span",{style:{color:"#C4A882",fontSize:"9px"},children:se(d.prefix.cost)})]})})(),z&&(()=>{const G=St[z.category]||St.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",borderBottom:I.length>0?"1px solid rgba(196,168,130,0.1)":"none",marginBottom:I.length>0?"4px":"0"},children:[i.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:G.color,flexShrink:0}}),i.jsx("span",{style:{flex:1,color:"#F5EFE0",fontSize:"10px",fontWeight:"bold"},children:z.label}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:["Ph ",z.phase]}),z.incomeMin&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.45)",fontSize:"8px"},children:["+",se(z.incomeMin),"/yr"]}),i.jsx("span",{style:{color:"#C4A882",fontSize:"10px",fontWeight:"bold"},children:se(z.cost)})]})})(),I.map((G,H)=>{const xe=St[G.category]||St.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0",borderTop:H>0?"1px solid rgba(255,255,255,0.03)":"none"},children:[z&&i.jsx("span",{style:{color:"rgba(255,255,255,0.1)",fontSize:"9px",width:10,flexShrink:0},children:""}),i.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:xe.color,flexShrink:0}}),i.jsx("span",{style:{flex:1,color:"rgba(255,255,255,0.78)",fontSize:"9.5px"},children:G.label}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"8px"},children:["Ph ",G.phase]}),G.incomeMin&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.45)",fontSize:"8px"},children:["+",se(G.incomeMin),"/yr"]}),i.jsx("span",{style:{color:"#C4A882",fontSize:"9.5px",fontWeight:"bold",minWidth:40,textAlign:"right"},children:se(G.cost)})]},G.id)}),(()=>{var xe;const G=d.level===2?d.totalCost+(((xe=d.prefix)==null?void 0:xe.cost)||0):d.totalCost,H=u-G;return H<1?null:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 0 2px",borderTop:"1px solid rgba(127,255,127,0.1)",marginTop:"4px"},children:[i.jsx("span",{style:{color:"rgba(127,255,127,0.25)",fontSize:"9px",width:10,flexShrink:0},children:""}),i.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:"rgba(127,255,127,0.4)",flexShrink:0}}),i.jsx("span",{style:{flex:1,color:"rgba(127,255,127,0.55)",fontSize:"9px",fontStyle:"italic"},children:"General Fund"}),i.jsx("span",{style:{color:"rgba(127,255,127,0.7)",fontSize:"9.5px",fontWeight:"bold",minWidth:40,textAlign:"right"},children:se(H)})]})})()]},f)}),F.length===0&&i.jsxs("div",{style:{textAlign:"center",padding:"24px 0"},children:[i.jsxs("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",marginBottom:"12px"},children:["No reachable nodes fit within ",se(u),"."]}),E.length>0&&i.jsxs("div",{style:{color:"rgba(196,168,130,0.4)",fontSize:"9px",lineHeight:1.8},children:["Almost in reach:"," ",E.map(({node:d,blocker:f},w)=>i.jsxs("span",{children:[d.label," ",i.jsxs("span",{style:{opacity:.6},children:["(needs ",f.label," first)"]}),w<E.length-1?", ":""]},d.id))]})]}),F.length>0&&E.length>0&&i.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"10px",marginTop:"4px",color:"rgba(255,255,255,0.2)",fontSize:"8.5px",lineHeight:1.6},children:["Almost in reach:"," ",E.map(({node:d,blocker:f},w)=>i.jsxs("span",{children:[d.label," ",i.jsxs("span",{style:{opacity:.6},children:["(needs ",f.label,")"]}),w<E.length-1?", ":""]},d.id))]})]}):i.jsx("div",{style:{color:"rgba(255,255,255,0.2)",fontSize:"9.5px",textAlign:"center",padding:"20px 0"},children:"Enter any amount to see what your gift would unlock"})]})})}function Lg({nodes:e,nodeStatuses:t,exportedAt:n,onClose:r}){const l=[...new Set(e.map(g=>g.phase))].sort((g,F)=>g-F),o={built:0,funded:1,under_construction:2,available:3,locked:4},s={built:"Complete",funded:"Fully Funded",under_construction:"Under Construction",available:"Open for Funding",locked:"Planned"},u={built:"#FFD700",funded:"#7FFF7F",under_construction:"#55CCFF",available:"#FFAA44",locked:"rgba(255,255,255,0.22)"},c=e.reduce((g,F)=>g+(F.cost||0),0),h=e.filter(g=>t[g.id]==="built"||t[g.id]==="funded").reduce((g,F)=>g+(F.cost||0),0),v=e.filter(g=>t[g.id]==="built"||t[g.id]==="funded").length,k={0:"Foundation",1:"Phase 1 - Core Infrastructure",2:"Phase 2 - Sanctuary & Culture",3:"Phase 3 - Guest Experience",4:"Phase 4 - Full Vision"};return i.jsx("div",{style:{position:"absolute",inset:0,zIndex:50,background:"rgba(0,0,0,0.92)",display:"flex",alignItems:"flex-start",justifyContent:"center",overflowY:"auto",padding:"24px 0"},onClick:r,children:i.jsxs("div",{style:{background:"#0a150a",border:"1px solid rgba(196,168,130,0.2)",borderRadius:"6px",maxWidth:640,width:"90%",fontFamily:"system-ui,sans-serif"},onClick:g=>g.stopPropagation(),children:[i.jsxs("div",{style:{padding:"28px 32px 20px",borderBottom:"1px solid rgba(196,168,130,0.12)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8px",letterSpacing:"0.4em",textTransform:"uppercase",marginBottom:"5px"},children:"New Doggerland"}),i.jsx("div",{style:{color:"#F5EFE0",fontSize:"20px",letterSpacing:"0.04em",marginBottom:"3px"},children:"Development Roadmap"}),n&&i.jsxs("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:["As of ",n.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),i.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"rgba(255,255,255,0.3)",fontSize:"20px",cursor:"pointer"},children:""})]}),i.jsx("div",{style:{display:"flex",gap:"24px",marginTop:"16px",flexWrap:"wrap"},children:[{label:"Total Project Cost",value:se(c)},{label:"Capital Deployed",value:se(h)},{label:"Nodes Complete / Funded",value:`${v} of ${e.length}`}].map(g=>i.jsxs("div",{children:[i.jsx("div",{style:{color:"rgba(255,255,255,0.28)",fontSize:"7.5px",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"2px"},children:g.label}),i.jsx("div",{style:{color:"#C4A882",fontSize:"13px"},children:g.value})]},g.label))})]}),l.map(g=>{const F=[...e].filter(T=>T.phase===g).sort((T,B)=>(o[t[T.id]]??4)-(o[t[B.id]]??4));if(!F.length)return null;const E=F.reduce((T,B)=>T+(B.cost||0),0);return i.jsxs("div",{style:{padding:"14px 32px",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"8px"},children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"9px",letterSpacing:"0.2em",textTransform:"uppercase"},children:k[g]||`Phase ${g}`}),i.jsx("div",{style:{color:"rgba(196,168,130,0.35)",fontSize:"8.5px"},children:se(E)})]}),F.map(T=>{const B=t[T.id]||"locked",m=St[T.category]||St.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"4px 0",borderBottom:"1px solid rgba(255,255,255,0.025)"},children:[i.jsx("div",{style:{width:3,height:3,borderRadius:"50%",background:m.color,flexShrink:0,opacity:B==="locked"?.4:1}}),i.jsx("span",{style:{flex:1,color:B==="locked"?"rgba(255,255,255,0.38)":"rgba(255,255,255,0.85)",fontSize:"9.5px"},children:T.label}),(T.incomeMin||T.incomeMax)&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.5)",fontSize:"8px"},children:["",T.incomeMin&&T.incomeMax?`${se(T.incomeMin)}${se(T.incomeMax)}`:se(T.incomeMin||T.incomeMax),"/yr"]}),T.cost&&i.jsx("span",{style:{color:"rgba(196,168,130,0.5)",fontSize:"8.5px",minWidth:42,textAlign:"right"},children:se(T.cost)}),i.jsx("span",{style:{fontSize:"7.5px",color:u[B],minWidth:90,textAlign:"right"},children:s[B]})]},T.id)})]},g)}),i.jsxs("div",{style:{padding:"14px 32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{color:"rgba(255,255,255,0.12)",fontSize:"8px"},children:"newdoggerland.org"}),i.jsx("button",{onClick:()=>window.print(),style:{padding:"5px 14px",background:"rgba(196,168,130,0.08)",border:"1px solid rgba(196,168,130,0.25)",color:"#C4A882",borderRadius:"3px",cursor:"pointer",fontSize:"8.5px",fontFamily:"system-ui,sans-serif"},children:"Print / Save as PDF"})]})]})})}function Og(){const[e,t]=x.useState(Pu),[n,r]=x.useState(Du),[l,o]=x.useState(Dg),[s,u]=x.useState(()=>({...Ng})),[c,h]=x.useState(null),[v,k]=x.useState(null),[g,F]=x.useState(null),[E,T]=x.useState(()=>Object.fromEntries(Pu.map(p=>[p.id,p.status]))),[B,m]=x.useState(()=>Object.fromEntries(Du.map(p=>[p.id,p.fundedCount]))),[d,f]=x.useState({balance:0,goal:5e5}),[w,$]=x.useState(!1),[z,I]=x.useState({}),[q,G]=x.useState(null),[H,xe]=x.useState([]),[tt,st]=x.useState(!1),[we,te]=x.useState(!1),[ge,Ge]=x.useState(0),[P,ee]=x.useState(null),[K,le]=x.useState(null),[ne,Me]=x.useState(!0),[fe,Pe]=x.useState([]),[gt,he]=x.useState(!0),Bt=x.useRef(null),[Rt,Bn]=x.useState(154),[D,Ye]=x.useState(()=>{var p;try{const j=localStorage.getItem("nd-theme");return j||(((p=window.matchMedia)==null?void 0:p.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light")}catch{return"light"}}),[Vt,Gt]=x.useState(()=>{var p,j;try{const _=(p=window.matchMedia)==null?void 0:p.call(window,"(max-width: 900px)").matches,M=(j=window.matchMedia)==null?void 0:j.call(window,"(pointer: coarse)").matches;return!!(_||M)}catch{return!1}}),[An,Oe]=x.useState({x:null,y:null}),[pn,$n]=x.useState(!1),R=x.useRef(null),[C,N]=x.useState(null),L=x.useRef(null),[W,J]=x.useState({x:60,y:-56,w:1220,h:712}),ae=x.useRef(!1),[oe,ke]=x.useState(!1),Ae=x.useRef(null),_e=x.useRef(null),Xe=x.useRef({});x.useEffect(()=>{if(!ne)return;const p=Bt.current;if(!p)return;const j=()=>{const M=Math.round(p.getBoundingClientRect().width);Number.isFinite(M)&&M>0&&M!==Rt&&Bn(M)};j();const _=window.ResizeObserver?new ResizeObserver(j):null;return _&&_.observe(p),window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),_&&_.disconnect()}},[ne,Rt]);const Z=x.useMemo(()=>D==="dark"?{bg:"linear-gradient(160deg,#060c06 0%,#0c160c 50%,#060a06 100%)",headerBg:"linear-gradient(180deg,rgba(0,0,0,0.95) 0%,transparent 100%)",text:"#F5EFE0",textDim:"rgba(255,255,255,0.28)",textFaint:"rgba(255,255,255,0.12)",gold:"#C4A882",panelBg:"rgba(0,0,0,0.55)",panelBorder:"rgba(255,255,255,0.08)",modalBg:"rgba(0,0,0,0.88)",buttonBg:"rgba(255,255,255,0.04)",buttonBorder:"rgba(255,255,255,0.1)",nodeBg:"#090f09",nodeText:"#F5EFE0",edgeDim:"rgba(255,255,255,0.065)",phaseSep:"rgba(196,168,130,0.02)",nodeAlpha:{built:"44",underConstruction:"38",funded:"2a",locked:"15"}}:{bg:"linear-gradient(160deg,#d8e0d8 0%,#e4ebe4 50%,#d8e0d8 100%)",headerBg:"linear-gradient(180deg,rgba(245,248,245,0.98) 0%,rgba(245,248,245,0.85) 100%)",text:"#0a1a0a",textDim:"rgba(0,0,0,0.6)",textFaint:"rgba(0,0,0,0.25)",gold:"#6B5010",panelBg:"rgba(248,250,248,0.98)",panelBorder:"rgba(0,0,0,0.18)",modalBg:"rgba(250,252,250,0.98)",buttonBg:"rgba(0,0,0,0.06)",buttonBorder:"rgba(0,0,0,0.18)",nodeBg:"#f8faf8",nodeText:"#000000",edgeDim:"rgba(0,0,0,0.12)",phaseSep:"rgba(139,105,20,0.05)",nodeAlpha:{built:"99",underConstruction:"80",funded:"68",locked:"42"}},[D]);x.useEffect(()=>{if(ae.current||!s||Object.keys(s).length===0||!s.land)return;const j=Object.values(s).map(ye=>ye.x),_=Object.values(s).map(ye=>ye.y),M=67,U=40,Q=Math.min(...j)-M-U,ce=Math.max(...j)+M+U,pe=Math.min(..._)-M-U,ie=ce-Q,Ke=()=>{var lr,Dl;const ye=(Dl=(lr=_e.current)==null?void 0:lr.getBoundingClientRect)==null?void 0:Dl.call(lr),bt=(ye==null?void 0:ye.width)??0,fn=(ye==null?void 0:ye.height)??0;if(!(bt>10&&fn>10&&ie>1))return;const nt=ne?Rt:0,at=bt-nt-84;if(!(at>50))return;const gn=at/ie,Tl=bt/Math.max(1e-6,gn),$r=Tl*(fn/Math.max(1e-6,bt)),ut=(Q+ce)/2,Pl=nt+at/2,ii=ut-Pl/Math.max(1e-6,gn);J({x:ii,y:pe,w:Tl,h:$r}),ae.current=!0};requestAnimationFrame(()=>requestAnimationFrame(Ke))},[s,ne,Rt]),x.useEffect(()=>{const p=_=>{_.nodeStatuses&&Object.keys(_.nodeStatuses).length>0&&T(_.nodeStatuses),_.repeatableCounts&&m(_.repeatableCounts),_.generalFund&&f(_.generalFund),_.positions&&Object.keys(_.positions).length>0&&u(_.positions),typeof _.allowDrag=="boolean"&&$(_.allowDrag)};(async()=>{try{const _=await Zd(`/tree/state.json?v=${Date.now()}`);ae.current=!1,_.state&&p(_.state),_.positions&&Object.keys(_.positions).length>0&&u(_.positions),_.nodes&&_.nodes.length>0&&t(_.nodes),_.repeatables&&_.repeatables.length>0&&r(_.repeatables),_.oneTimes&&_.oneTimes.length>0&&o(_.oneTimes),_.edgeNotes&&I(_.edgeNotes),_.phaseSeps&&xe(_.phaseSeps),_.exportedAt&&G(new Date(_.exportedAt));return}catch{}try{if(window.storage){const[_,M]=await Promise.all([window.storage.get("nd_state").catch(()=>null),window.storage.get("nd_data").catch(()=>null)]);if(_!=null&&_.value){const U=JSON.parse(_.value);p(U),U.positions&&Object.keys(U.positions).length>0&&u(U.positions)}if(M!=null&&M.value){const U=JSON.parse(M.value);U.nodes&&U.nodes.length>0&&t(U.nodes),U.repeatables&&U.repeatables.length>0&&r(U.repeatables),U.edgeNotes&&I(U.edgeNotes),U.phaseSeps&&xe(U.phaseSeps)}}}catch{}})()},[]);const $e=x.useMemo(()=>Object.fromEntries(e.map(p=>[p.id,p])),[e]),Ie=x.useMemo(()=>Object.fromEntries(n.map(p=>[p.id,p])),[n]),Zt=x.useMemo(()=>Object.fromEntries(l.map(p=>[p.id,p])),[l]),Ln=x.useMemo(()=>({...Zt,...Ie}),[Ie,Zt]),Rl=x.useMemo(()=>new Set(l.map(p=>p.id)),[l]),ni=x.useCallback(p=>{const j=$e[p];j&&(k(null),F(null),h(j))},[$e]),On=x.useCallback((p,j)=>{const _=_e.current;if(!_)return{x:0,y:0};const M=_.getBoundingClientRect();return{x:(p-M.left)*(W.w/M.width)+W.x,y:(j-M.top)*(W.h/M.height)+W.y}},[W]),Nr=x.useRef(null),Ir=x.useCallback((p,j)=>{var M,U;if(p.button!==0||(p.stopPropagation(),Nr.current=j,!w))return;const _=On(p.clientX,p.clientY);L.current={sx:_.x,sy:_.y,ox:((M=s[j])==null?void 0:M.x)??0,oy:((U=s[j])==null?void 0:U.y)??0,moved:!1},N(j)},[w,On,s]),zl=x.useCallback((p,j)=>{var _;if(p.button===0){if(p.stopPropagation(),Nr.current===j&&!((_=L.current)!=null&&_.moved)){const M=$e[j];M&&(h(U=>(U==null?void 0:U.id)===j?null:M),k(null),Oe({x:null,y:null}))}Nr.current=null,N(null),L.current=null}},[$e]),ri=x.useCallback(p=>{if(C&&L.current){const j=On(p.clientX,p.clientY),_=j.x-L.current.sx,M=j.y-L.current.sy;(Math.abs(_)>2||Math.abs(M)>2)&&(L.current.moved=!0);const U=L.current.oy+M;u(Q=>({...Q,[C]:{x:L.current.ox+_,y:U}}))}else if(oe&&Ae.current){const j=(Ae.current.cx-p.clientX)*(W.w/window.innerWidth),_=(Ae.current.cy-p.clientY)*(W.h/window.innerHeight);J(M=>({...M,x:Ae.current.vx+j,y:Ae.current.vy+_}))}else if(pn&&R.current){const j=R.current;Oe({x:j.ox+p.clientX-j.sx,y:j.oy+p.clientY-j.sy})}},[C,oe,pn,On,W,H]),li=x.useCallback(p=>{C&&(N(null),L.current=null),ke(!1),$n(!1)},[C]),rr=x.useCallback(p=>{(p.target===_e.current||p.target.tagName==="svg")&&(ke(!0),Ae.current={cx:p.clientX,cy:p.clientY,vx:W.x,vy:W.y},h(null),k(null))},[W]),Br=x.useCallback(p=>{if(p.preventDefault(),p.ctrlKey||p.metaKey){const j=_e.current;if(!j)return;const _=j.getBoundingClientRect(),M=p.deltaY>0?1.12:.88;J(U=>{const Q=U.x+(p.clientX-_.left)*(U.w/_.width),ce=U.y+(p.clientY-_.top)*(U.h/_.height);return{x:Q-(Q-U.x)*M,y:ce-(ce-U.y)*M,w:Math.max(400,Math.min(3e3,U.w*M)),h:Math.max(300,Math.min(2500,U.h*M))}})}else{const j=_e.current;if(!j)return;const _=j.getBoundingClientRect(),M=W.w/_.width,U=p.shiftKey?p.deltaY*M*.6:0,Q=p.shiftKey?0:p.deltaY*M*.6;J(ce=>({...ce,x:ce.x+U,y:ce.y+Q}))}},[W]);x.useEffect(()=>{const p=_e.current;if(p)return p.addEventListener("wheel",Br,{passive:!1}),()=>p.removeEventListener("wheel",Br)},[Br]);const Ue=Nu[ge],en=Ue.min>0||Ue.max<1/0||P!==null||K!==null,oi=x.useMemo(()=>new Set(e.filter(p=>!(P!==null&&p.category!==P||K!==null&&p.phase!==K||(Ue.min>0||Ue.max<1/0)&&(p.cost===null||p.cost<Ue.min||p.cost>Ue.max))).map(p=>p.id)),[e,Ue,P,K]),be=x.useMemo(()=>en?n.filter(p=>p.cost>=Ue.min&&p.cost<=Ue.max):n,[n,Ue,en]),Qe=x.useMemo(()=>g?Ig(g.id,$e):new Map,[g,$e]),ue=x.useMemo(()=>c?ep(c.id,E,$e):new Set,[c,E,$e]),De=x.useMemo(()=>c?c.dependencies.filter(p=>E[p]==="built"||E[p]==="funded"):[],[c,E]),Ar=x.useMemo(()=>{if(!c)return 0;let p=c.cost||0;return ue.forEach(j=>{var _;p+=((_=$e[j])==null?void 0:_.cost)||0}),p},[c,ue,$e]),a=x.useCallback(p=>{if(p.generalFundMin&&d.balance<p.generalFundMin)return!1;for(const j of p.repeatableReqs||[])if((B[j.repeatableId]||0)<j.minCount)return!1;return!0},[d,B]);x.useEffect(()=>{if(!c||!ne){Pe([]);return}const p=c.repeatableReqs||[];if(p.length===0){Pe([]);return}let j=requestAnimationFrame(()=>{const _=_e.current;if(!_){Pe([]);return}const M=_.getBoundingClientRect();if(!M.width){Pe([]);return}const U=W.h/M.height,Q=p.map((ce,pe)=>{const ie=s[c.id];if(!ie)return null;const Ke=Xe.current[ce.repeatableId];if(!Ke)return null;const ye=Ke.getBoundingClientRect();if(!ye.width)return null;const fn=(ye.top+ye.height/2-M.top)*U+W.y,nt=Math.max(W.y+10,Math.min(W.y+W.h-10,fn)),wt=W.x+18,at=Ln[ce.repeatableId],ut=(Rl.has(ce.repeatableId)?at!=null&&at.funded?1:0:B[ce.repeatableId]||0)>=ce.minCount?"rgba(127,255,127,0.9)":"rgba(255,180,40,0.95)",Pl=ie.x-80,ii=`M${wt},${nt} C${Pl},${nt} ${Pl},${ie.y} ${ie.x-62},${ie.y}`,lr=at?at.label.length>20?at.label.slice(0,18)+"":at.label:ce.repeatableId,Dl=wt+(ie.x-wt)*.38,tp=nt+(ie.y-nt)*.38-8;return{key:`rep-edge-${pe}`,d:ii,color:ut,startX:wt,itemSvgY:nt,lbl:lr,labelX:Dl,labelY:tp}}).filter(Boolean);Pe(Q)});return()=>cancelAnimationFrame(j)},[c,ne,W,s,B,Ln]);const y=x.useMemo(()=>{const p=[];return e.forEach(j=>{j.dependencies.forEach(_=>{const M=s[_],U=s[j.id];M&&U&&p.push({id:`${_}${j.id}`,from:M,to:U,fromId:_,toId:j.id})})}),p},[e,s]),S=x.useCallback(p=>{if(c){if(ue.has(p.fromId)&&(ue.has(p.toId)||p.toId===c.id))return{color:"rgba(255,80,20,0.85)",width:2,marker:"arr-red"};if(De.includes(p.fromId)&&p.toId===c.id)return{color:"rgba(127,255,127,0.55)",width:1.5,marker:"arr-green"}}if(g){const _=p.fromId===g.id,M=Qe.get(p.fromId),U=Qe.get(p.toId);if((_||M!==void 0)&&U!==void 0){const Q=Math.min((U??1)-1,Zl.length-1);return{color:`rgba(68,200,255,${Zl[Q]})`,width:Bg[Q],marker:"arr-blue"}}}const j=c||g||en;return{color:Z.edgeDim,width:.7,marker:"arr-dim",opacity:j?.18:1}},[c,g,ue,De,Qe,en]),b=`${W.x} ${W.y} ${W.w} ${W.h}`,O=84,Y=300,je=An.x??(typeof window<"u"?Math.max(10,window.innerWidth-310):900),V=An.y??82,re=typeof window<"u"?Math.min(je,window.innerWidth-O-Y-8):je;return i.jsxs("div",{style:{width:"100%",height:"100vh",background:Z.bg,fontFamily:"system-ui,sans-serif",overflow:"hidden",position:"relative",userSelect:"none"},onMouseMove:ri,onMouseUp:li,children:[Vt&&i.jsxs("div",{style:{position:"absolute",left:(ne?Rt:0)+10,top:66,zIndex:30,background:D==="dark"?"rgba(0,0,0,0.55)":"rgba(255,255,255,0.70)",border:`1px solid ${D==="dark"?"rgba(255,255,255,0.10)":"rgba(0,0,0,0.12)"}`,color:D==="dark"?"rgba(255,255,255,0.70)":"rgba(0,0,0,0.70)",padding:"6px 10px",borderRadius:"6px",fontSize:"10px",backdropFilter:"blur(6px)",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:"This interface is optimized for larger screens."}),i.jsx("button",{onClick:()=>Gt(!1),style:{background:"transparent",border:"none",color:"inherit",cursor:"pointer",fontSize:"14px",lineHeight:1,opacity:.7},children:""})]}),i.jsx("div",{style:{position:"absolute",top:8,left:8,zIndex:25,width:54,height:54},children:i.jsx("img",{src:"https://newdoggerland.org/ND001.png",alt:"ND",style:{width:"100%",height:"100%",objectFit:"contain",opacity:.92,filter:"drop-shadow(0 0 6px rgba(255,215,0,0.3))"}})}),i.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,background:Z.headerBg,zIndex:10,padding:`8px 90px 10px ${(ne?Rt:0)+10}px`},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",gap:"8px"},children:[i.jsxs("div",{style:{flex:"0 0 auto",display:"flex",alignItems:"center",gap:"12px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{color:Z.gold,fontSize:"8px",letterSpacing:"0.38em",textTransform:"uppercase",fontFamily:"Georgia,serif"},children:"New Doggerland"}),i.jsx("div",{style:{color:Z.text,fontSize:"16px",letterSpacing:"0.06em"},children:"Development Skill Tree"})]}),i.jsx("button",{onClick:()=>st(!0),style:{padding:"5px 14px",background:D==="dark"?"rgba(127,255,127,0.08)":"rgba(75,180,75,0.12)",border:`1px solid ${D==="dark"?"rgba(127,255,127,0.35)":"rgba(75,180,75,0.5)"}`,color:D==="dark"?"rgba(127,255,127,0.75)":"rgba(40,120,40,0.95)",borderRadius:"3px",cursor:"pointer",fontSize:"10px",fontFamily:"system-ui,sans-serif",letterSpacing:"0.03em",fontWeight:"500",transition:"all 0.2s"},children:"Measure Your Impact"})]}),i.jsxs("div",{style:{flex:"1 1 auto",display:"flex",gap:"7px",alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end"},children:[i.jsx("span",{style:{color:Z.textDim,fontSize:"8px",letterSpacing:"0.1em"},children:"SHOW:"}),Nu.map((p,j)=>i.jsx("button",{onClick:()=>Ge(j),style:{padding:"3px 7px",background:ge===j?"rgba(196,168,130,0.2)":Z.buttonBg,border:`1px solid ${ge===j?Z.gold:Z.buttonBorder}`,color:ge===j?Z.gold:Z.textDim,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:p.label},j)),i.jsxs("button",{onClick:()=>Me(p=>!p),style:{padding:"3px 8px",background:ne?"rgba(68,180,255,0.1)":Z.buttonBg,border:`1px solid ${ne?"rgba(68,180,255,0.4)":Z.buttonBorder}`,color:ne?"rgba(68,200,255,0.85)":Z.textDim,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:[ne?"":""," Sponsor Items"]}),i.jsx("div",{style:{width:"1px",height:"16px",background:Z.textFaint}}),i.jsx("button",{onClick:()=>te(!0),style:{padding:"3px 8px",background:"rgba(196,168,130,0.05)",border:`1px solid ${Z.buttonBorder}`,color:Z.gold,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:" Share"}),i.jsx("button",{onClick:()=>{window.location.href="https://newdoggerland.org/governance-discovery.html"},style:{padding:"3px 8px",background:"rgba(196,168,130,0.05)",border:`1px solid ${Z.buttonBorder}`,color:Z.gold,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:" Governance"}),i.jsx("button",{onClick:()=>{const p=D==="dark"?"light":"dark";Ye(p);try{localStorage.setItem("nd-theme",p)}catch{}},style:{padding:"4px 12px",background:Z.buttonBg,border:`1px solid ${Z.buttonBorder}`,color:Z.text,borderRadius:"3px",cursor:"pointer",fontSize:"9px",fontFamily:"system-ui,sans-serif",fontWeight:"bold",letterSpacing:"0.08em"},children:D==="dark"?"Light":"Dark"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[Object.entries(St).map(([p,j])=>{const _=(g==null?void 0:g.category)===p;return i.jsxs("div",{onClick:()=>ee(P===p?null:p),style:{display:"flex",alignItems:"center",gap:"3px",cursor:"pointer",padding:"2px 6px",borderRadius:"3px",background:P===p?D==="dark"?"rgba(255,255,255,0.07)":"rgba(0,0,0,0.1)":"transparent",border:`1px solid ${P===p?j.color:"transparent"}`,transition:"all 0.15s"},children:[i.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:j.color,opacity:P&&P!==p?.35:1}}),i.jsx("span",{style:{color:P===p?j.color:_?j.glow:Z.textDim,fontSize:"7.5px",fontWeight:D==="light"?"600":"normal",textShadow:_?`0 0 8px ${j.glow}`:"none",transition:"all 0.2s"},children:j.label})]},p)}),i.jsx("div",{style:{width:"1px",height:"12px",background:Z.textFaint,margin:"0 2px"}}),[1,2,3,4].map(p=>i.jsx("div",{onClick:()=>le(K===p?null:p),style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"2px 7px",borderRadius:"3px",background:K===p?D==="dark"?"rgba(196,168,130,0.12)":"rgba(139,105,20,0.15)":"transparent",border:`1px solid ${K===p?Z.gold:"transparent"}`,transition:"all 0.15s"},children:i.jsxs("span",{style:{color:K===p?Z.gold:Z.textDim,fontSize:"7.5px",fontWeight:D==="light"?"500":"normal"},children:["Phase ",p]})},p)),(P||K)&&i.jsx("div",{onClick:()=>{ee(null),le(null)},style:{cursor:"pointer",color:D==="dark"?"rgba(255,100,100,0.6)":"rgba(200,60,60,0.8)",fontSize:"7.5px",padding:"2px 4px"},children:" clear"}),q&&i.jsxs("div",{style:{marginLeft:"auto",color:"rgba(255,255,255,0.2)",fontSize:"7px",letterSpacing:"0.06em",whiteSpace:"nowrap"},children:["Updated ",q.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),i.jsxs("div",{style:{position:"absolute",bottom:12,left:ne?Rt+10:12,zIndex:10,background:"rgba(0,0,0,0.5)",padding:"5px 9px",borderRadius:"3px",border:"1px solid rgba(255,255,255,0.05)",transition:"bottom 0.2s"},children:[i.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[{color:"#252525",label:"Planned"},{color:"#FFAA44",label:"Open for Funding"},{color:"#7FFF7F",label:"Fully Funded"},{color:"#55CCFF",label:"Under Construction"},{color:"#FFD700",label:"Complete"},{color:"#7FFF7F",label:"Priority",glow:!0}].map(({color:p,label:j,glow:_})=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:p,border:`1px solid ${_?"#7FFF7F":"rgba(255,255,255,0.2)"}`,flexShrink:0,boxShadow:_?"0 0 6px #7FFF7F":"none"}}),i.jsx("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"7.5px"},children:j})]},j))}),i.jsxs("div",{children:[i.jsx("span",{style:{color:"rgba(255,100,50,0.75)",fontSize:"8px"},children:"Click"}),i.jsx("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:" full unfulfilled chain | "}),i.jsx("span",{style:{color:"rgba(68,221,255,0.75)",fontSize:"8px"},children:"Hover"}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:[" downstream | ",w?"Drag  ":"","Scroll  Shift+Scroll  Ctrl+Scroll to zoom"]})]})]}),i.jsxs("svg",{ref:_e,width:"100%",height:"100%",viewBox:b,style:{cursor:oe?"grabbing":"default"},onMouseDown:rr,children:[i.jsxs("defs",{children:[[["arr-red","rgba(255,80,20,0.9)"],["arr-blue","rgba(68,221,255,0.9)"],["arr-green","rgba(127,255,127,0.8)"],["arr-dim","rgba(255,255,255,0.14)"]].map(([p,j])=>i.jsx("marker",{id:p,markerWidth:"5",markerHeight:"5",refX:"4",refY:"2.5",orient:"auto",children:i.jsx("path",{d:"M0,0 L5,2.5 L0,5z",fill:j})},p)),i.jsxs("filter",{id:"gs",children:[i.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),i.jsxs("feMerge",{children:[i.jsx("feMergeNode",{in:"b"}),i.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),i.jsxs("filter",{id:"gst",children:[i.jsx("feGaussianBlur",{stdDeviation:"8",result:"b"}),i.jsxs("feMerge",{children:[i.jsx("feMergeNode",{in:"b"}),i.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),H&&H.map((p,j)=>{const _=Object.values(s).map(Q=>Q.x),M=Math.min(..._,0)-60,U=Math.max(..._,0)+160;return w?i.jsxs("g",{style:{pointerEvents:"none"},children:[i.jsx("rect",{x:M,y:p.y-45,width:U-M,height:90,fill:Z.phaseSep}),i.jsx("line",{x1:M,y1:p.y,x2:U,y2:p.y,stroke:"rgba(196,168,130,0.22)",strokeWidth:"0.8",strokeDasharray:"8,6"}),i.jsxs("text",{x:M+8,y:p.y-6,fill:"rgba(196,168,130,0.35)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",p.fromPhase]}),i.jsxs("text",{x:M+8,y:p.y+13,fill:"rgba(196,168,130,0.35)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",p.toPhase]})]},`sep-${j}`):i.jsxs("g",{style:{pointerEvents:"none"},children:[i.jsx("line",{x1:M,y1:p.y,x2:U,y2:p.y,stroke:D==="dark"?"rgba(196,168,130,0.18)":"rgba(120,80,20,0.12)",strokeWidth:"0.9",strokeDasharray:"8,6"}),i.jsxs("text",{x:M+8,y:p.y-6,fill:D==="dark"?"rgba(196,168,130,0.25)":"rgba(120,80,20,0.20)",fontSize:"7",fontFamily:"Georgia,serif",children:["Phase ",p.fromPhase]}),i.jsxs("text",{x:M+8,y:p.y+12,fill:D==="dark"?"rgba(196,168,130,0.25)":"rgba(120,80,20,0.20)",fontSize:"7",fontFamily:"Georgia,serif",children:["Phase ",p.toPhase]})]},`sep-${j}`)}),i.jsxs("g",{style:{pointerEvents:"none"},children:[e.map(p=>{const j=s[p.id];return j?p.category==="start"?i.jsx("polygon",{points:`${j.x},${j.y-46} ${j.x+46},${j.y} ${j.x},${j.y+46} ${j.x-46},${j.y}`,fill:Z.nodeBg,style:{pointerEvents:"none"}},`bg-${p.id}`):i.jsx("rect",{x:j.x-ht/2-1,y:j.y-$t/2-1,width:ht+2,height:$t+2,rx:"4",fill:Z.nodeBg,style:{pointerEvents:"none"}},`bg-${p.id}`):null}),y.map(p=>{const j=S(p),_=(p.from.x+p.to.x)/2;return i.jsx("path",{d:`M${p.from.x},${p.from.y} C${_},${p.from.y} ${_},${p.to.y} ${p.to.x},${p.to.y}`,stroke:j.color,strokeWidth:j.width,fill:"none",markerEnd:`url(#${j.marker})`,opacity:j.opacity??1},p.id)}),fe.map(p=>{const j=p.lbl.length*5.2+12;return i.jsxs("g",{children:[i.jsx("path",{d:p.d,stroke:p.color,strokeWidth:2.5,fill:"none",strokeDasharray:"7,4",opacity:.95}),i.jsx("circle",{cx:p.startX,cy:p.itemSvgY,r:5,fill:p.color,opacity:.9}),i.jsxs("g",{transform:`translate(${p.labelX},${p.labelY})`,style:{pointerEvents:"none"},children:[i.jsx("rect",{x:-j/2,y:-9,width:j,height:14,rx:3,fill:D==="light"?"rgba(255,255,255,0.92)":"rgba(0,0,0,0.75)",stroke:p.color,strokeWidth:1}),i.jsx("text",{x:0,y:2,textAnchor:"middle",fill:p.color,fontSize:"8",fontFamily:"system-ui,sans-serif",fontWeight:"700",children:p.lbl})]})]},p.key)})]}),e.map(p=>{const j=s[p.id];if(!j)return null;const _=St[p.category],M=E[p.id],U=p.category==="start",Q=!en||oi.has(p.id),ce=(c==null?void 0:c.id)===p.id,pe=!!c&&ue.has(p.id),ie=g?Qe.get(p.id):void 0,Ke=ie!==void 0,ye=(g==null?void 0:g.id)===p.id,bt=a(p),nt=!U&&(en&&!Q||(c||g)&&!ce&&!pe&&!Ke&&!ye)?.07:M==="locked"?.5:1,wt=ce?"#FFD700":pe?"#FF501A":Ke?`rgba(68,200,255,${Zl[Math.min((ie??1)-1,Zl.length-1)]})`:ye?_.glow:_.color,at=ce||pe?2:Ke?1.5:ye?1.8:p.emphasis?2:.7,gn=p.emphasis&&!ce&&!pe&&!Ke&&!ye,$r=p.dependencies.every(ut=>E[ut]==="built"||E[ut]==="funded"||E[ut]==="under_construction")&&!bt&&M==="locked";return U?i.jsxs("g",{transform:`translate(${j.x},${j.y})`,style:{cursor:w?"grab":"default"},onMouseDown:ut=>Ir(ut,p.id),onMouseUp:ut=>zl(ut,p.id),onMouseEnter:()=>!C&&F(p),onMouseLeave:()=>F(null),children:[i.jsx("polygon",{points:"0,-44 44,0 0,44 -44,0",fill:"rgba(255,215,0,0.12)",stroke:"#FFD700",strokeWidth:"1.5",filter:"url(#gst)"}),i.jsx("text",{y:"-4",textAnchor:"middle",fill:"#FFD700",fontSize:"8",fontWeight:"bold",children:p.label.split(" ").slice(0,2).join(" ")}),i.jsx("text",{y:"8",textAnchor:"middle",fill:"#FFD700",fontSize:"8",fontWeight:"bold",children:p.label.split(" ").slice(2).join(" ")})]},p.id):i.jsxs("g",{transform:`translate(${j.x-ht/2},${j.y-$t/2})`,style:{cursor:C===p.id?"grabbing":w?"grab":"pointer",opacity:nt},onMouseDown:ut=>Ir(ut,p.id),onMouseUp:ut=>zl(ut,p.id),onMouseEnter:()=>!C&&F(p),onMouseLeave:()=>F(null),children:[(ce||pe||Ke||ye||gn)&&i.jsx("rect",{x:"-3",y:"-3",width:ht+6,height:$t+6,rx:"5",fill:"none",stroke:gn?"#7FFF7F":wt,strokeWidth:gn?"2":".8",opacity:gn?".8":".3",filter:"url(#gs)"}),$r&&i.jsx("rect",{x:"-2",y:"-2",width:ht+4,height:$t+4,rx:"4",fill:"none",stroke:"rgba(255,200,50,0.6)",strokeWidth:"1",strokeDasharray:"4,3"}),D==="light"&&i.jsx("rect",{x:"0",y:"0",width:ht,height:$t,rx:"3",fill:`${_.color}15`}),i.jsx("rect",{x:"0",y:"0",width:ht,height:$t,rx:"3",fill:M==="built"?`${_.color}${Z.nodeAlpha.built}`:M==="under_construction"?`${_.color}${Z.nodeAlpha.underConstruction}`:M==="funded"?`${_.color}${Z.nodeAlpha.funded}`:`${_.color}${Z.nodeAlpha.locked}`,stroke:wt,strokeWidth:at,strokeOpacity:".85"}),M==="funded"&&i.jsx("rect",{x:"0",y:"0",width:ht,height:$t,rx:"3",fill:"rgba(255,255,255,0.09)"}),i.jsx("rect",{x:"0",y:"0",width:ht,height:"2.5",rx:"1",fill:_.color,opacity:".8"}),se(p.cost)&&i.jsxs(i.Fragment,{children:[i.jsx("rect",{x:ht-37,y:"5",width:"32",height:p.costMonthly?"17":"11",rx:"2",fill:D==="light"?"rgba(255,255,255,0.85)":"rgba(0,0,0,0.42)"}),i.jsx("text",{x:ht-21,y:"13.5",textAnchor:"middle",fill:D==="light"?"#4a3c0a":_.glow,fontSize:"7.5",fontWeight:D==="light"?"600":"400",children:se(p.cost)}),p.costMonthly&&i.jsxs("text",{x:ht-21,y:"20",textAnchor:"middle",fill:D==="light"?"rgba(180,100,0,0.7)":"rgba(255,170,60,0.7)",fontSize:"5.5",children:["+",se(p.costMonthly),"/mo"]})]}),i.jsx("text",{x:ht/2,y:$t/2+4,textAnchor:"middle",fill:Z.nodeText,fontSize:"9.5",fontWeight:ce?"bold":"normal",children:p.label.length>19?p.label.slice(0,18)+"":p.label}),i.jsx("circle",{cx:"8",cy:$t-8,r:"3",fill:M==="built"?"#FFD700":M==="under_construction"?"#55CCFF":M==="funded"?"#7FFF7F":M==="available"?"#FFAA44":"#252525",stroke:"rgba(0,0,0,0.5)",strokeWidth:".5"}),$r&&i.jsx("text",{x:ht-8,y:$t-6,textAnchor:"middle",fill:"rgba(255,200,50,0.9)",fontSize:"9",children:""}),i.jsxs("text",{x:"7",y:"12",fill:_.color,fontSize:"6",opacity:".55",children:["P",p.phase]})]},p.id)})]}),i.jsx("div",{style:{position:"absolute",bottom:10,right:90,zIndex:12,pointerEvents:"none",textAlign:"right"},children:i.jsx("span",{style:{color:D==="light"?"rgba(0,0,0,0.7)":"rgba(255,255,255,0.72)",fontSize:"8.5px",fontStyle:"normal",fontFamily:"system-ui,sans-serif",fontWeight:"600",letterSpacing:"0.1em",textTransform:"uppercase",textShadow:D==="light"?"none":"0 1px 4px rgba(0,0,0,0.6)"},children:"New Doggerland is in preformation and is not currently soliciting donations."})}),ne&&i.jsxs("div",{ref:Bt,style:{position:"absolute",left:0,top:72,bottom:0,width:"fit-content",minWidth:154,maxWidth:260,zIndex:15,display:"flex",flexDirection:"column",background:Z.panelBg,borderRight:`1px solid ${Z.panelBorder}`},children:[i.jsxs("div",{style:{padding:"8px 10px 5px",borderBottom:`1px solid ${Z.panelBorder}`,flexShrink:0},children:[i.jsx("div",{style:{color:Z.gold,fontSize:"7.5px",letterSpacing:"0.22em",textTransform:"uppercase",marginBottom:"1px"},children:"Sponsor Items"}),i.jsx("div",{style:{color:Z.textDim,fontSize:"6.5px"},children:"Named inaugural use"})]}),i.jsx("div",{style:{flex:1,overflowY:"auto",padding:"4px 6px 10px",display:"flex",flexDirection:"column",gap:"4px"},children:[...l.map(p=>({...p,_isOneTime:!0})),...n].map(p=>{const j=St[p.category]||St.infrastructure,_=p._isOneTime||!1,M=_?p.funded?1:0:B[p.id]||0,U=_?1:p.targetCount||1,Q=_?null:E[p.requiredNode],ce=_||Q==="built"||Q==="funded",pe=_?p.funded||!1:M>=U,ie=(v==null?void 0:v.id)===p.id,Ke=e.filter(nt=>(nt.repeatableReqs||[]).some(wt=>wt.repeatableId===p.id)),ye=Ke.length>0?Math.max(...Ke.map(nt=>{var wt;return((wt=nt.repeatableReqs.find(at=>at.repeatableId===p.id))==null?void 0:wt.minCount)||0})):0,bt=ye>0,fn=ye>1?`${ye} needed`:_?"one-time":"";return i.jsxs("div",{ref:nt=>Xe.current[p.id]=nt,onClick:()=>{k(ie?null:p),h(null),Oe({x:Rt+10,y:82})},style:{background:ie?`${j.color}${D==="dark"?"22":"35"}`:pe?D==="dark"?"rgba(127,255,127,0.05)":"rgba(0,150,0,0.05)":D==="dark"?"rgba(255,255,255,0.025)":"rgba(0,0,0,0.04)",border:`1px solid ${ie?j.color:pe?"rgba(127,255,127,0.3)":D==="dark"?"rgba(255,255,255,0.07)":"rgba(0,0,0,0.1)"}`,borderRadius:"3px",padding:"5px 8px",cursor:"pointer",opacity:en&&!_&&!be.includes(p)?.28:ce?1:D==="dark"?.42:.55,flexShrink:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"2px"},children:[i.jsx("span",{style:{color:Z.text,fontSize:"8.5px",lineHeight:1.25,flex:1,fontWeight:D==="light"?"500":"normal"},children:p.label}),fn&&i.jsx("span",{style:{color:D==="dark"?"rgba(255,200,80,0.55)":"rgba(140,100,0,0.7)",fontSize:"6.5px",flexShrink:0},children:fn}),pe&&i.jsx("span",{style:{color:"rgba(127,255,127,0.8)",fontSize:"8px",flexShrink:0},children:""})]}),i.jsx("div",{style:{color:pe?"rgba(127,255,127,0.65)":j.glow,fontSize:"11px",fontWeight:"bold",marginBottom:bt?"3px":0},children:se(p.cost)}),bt&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px"},children:[i.jsx("span",{style:{color:D==="dark"?"rgba(255,200,80,0.6)":"rgba(160,110,0,0.8)",fontSize:"6.5px"},children:"progress"}),i.jsxs("span",{style:{color:D==="dark"?"rgba(255,200,80,0.9)":"rgba(140,90,0,1)",fontSize:"6.5px"},children:[M,"/",ye]})]}),i.jsx("div",{style:{height:"3px",background:D==="dark"?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.12)",borderRadius:"2px",overflow:"hidden"},children:i.jsx("div",{style:{height:"100%",width:`${Math.min(1,M/ye)*100}%`,background:D==="dark"?"rgba(255,200,80,0.7)":"rgba(160,110,0,0.7)",borderRadius:"2px",transition:"width 0.3s"}})})]})]},p.id)})})]}),i.jsxs("div",{style:{position:"absolute",right:0,top:72,bottom:0,width:84,zIndex:15,background:Z.panelBg,borderLeft:`1px solid ${Z.panelBorder}`,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[i.jsxs("div",{style:{color:Z.gold,fontSize:"7px",letterSpacing:"0.18em",textTransform:"uppercase",textAlign:"center",padding:"8px 4px 3px",borderBottom:`1px solid ${Z.panelBorder}`,width:"100%",flexShrink:0},children:["General",i.jsx("br",{}),"Fund"]}),i.jsx("div",{style:{color:Z.text,fontSize:"11px",fontWeight:"bold",padding:"5px 4px 8px",textAlign:"center",flexShrink:0},children:se(d.balance)}),i.jsx(Ag,{balance:d.balance,goal:d.goal,nodes:e,theme:D,showRequirements:!0,onSelectNode:ni})]}),(c||g||v)&&(()=>{var ce;const p=c||g||v,j=!!(c||g),_=(ce=c||g)==null?void 0:ce.id,M=p,U=St[M.category],Q={position:"absolute",top:V,left:re,width:Y,maxHeight:"calc(100vh - 96px)",overflow:"auto",background:Z.modalBg,border:`1px solid ${U.color}`,borderRadius:"6px",zIndex:30,boxShadow:`0 0 28px ${U.color}22`};return i.jsxs("div",{style:Q,children:[i.jsxs("div",{style:{padding:"7px 12px",borderBottom:`1px solid ${Z.panelBorder}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{color:U.glow,fontSize:"8px",letterSpacing:"0.25em",textTransform:"uppercase"},children:j?`${U.label}  Phase ${M.phase}`:" Repeatable Sponsor Item"}),i.jsx("button",{onClick:()=>{c&&h(null),c||F(null),k(null)},style:{background:"transparent",border:"none",color:Z.textDim,cursor:"pointer",fontSize:"12px",lineHeight:1,padding:0},children:""})]}),i.jsxs("div",{style:{padding:"12px"},children:[i.jsx("div",{style:{color:Z.text,fontSize:"14px",fontWeight:"600",marginBottom:"6px",lineHeight:1.3},children:M.label}),i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"10px"},children:[se(M.cost)&&i.jsxs("div",{children:[i.jsx("div",{style:{color:D==="light"?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)",fontSize:"6.5px",letterSpacing:"0.14em",textTransform:"uppercase",marginBottom:"1px"},children:"Capital"}),i.jsx("div",{style:{color:U.color,fontSize:"18px",fontWeight:"bold",lineHeight:1},children:se(M.cost)})]}),j&&M.costMonthly&&i.jsxs("div",{children:[i.jsx("div",{style:{color:D==="light"?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)",fontSize:"6.5px",letterSpacing:"0.14em",textTransform:"uppercase",marginBottom:"1px"},children:"Monthly"}),i.jsxs("div",{style:{color:D==="light"?"rgba(180,100,0,0.9)":"rgba(255,170,60,0.9)",fontSize:"15px",fontWeight:"bold",lineHeight:1},children:[se(M.costMonthly),i.jsx("span",{style:{fontSize:"9px",fontWeight:"normal"},children:"/mo"})]})]}),j&&M.costMonthly&&i.jsxs("div",{children:[i.jsx("div",{style:{color:D==="light"?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)",fontSize:"6.5px",letterSpacing:"0.14em",textTransform:"uppercase",marginBottom:"1px"},children:"Annual"}),i.jsxs("div",{style:{color:D==="light"?"rgba(160,90,0,0.85)":"rgba(255,155,50,0.85)",fontSize:"13px",fontWeight:"bold",lineHeight:1},children:[se(M.costMonthly*12),i.jsx("span",{style:{fontSize:"9px",fontWeight:"normal"},children:"/yr"})]})]})]}),i.jsx("div",{style:{color:D==="light"?"rgba(0,0,0,0.72)":"rgba(255,255,255,0.6)",fontSize:"10.5px",lineHeight:1.7,marginBottom:"12px"},children:M.description}),j&&M.generalFundMin&&i.jsxs("div",{style:{marginBottom:"10px",background:D==="light"?"rgba(0,140,0,0.05)":"rgba(127,255,127,0.04)",border:`1px solid ${D==="light"?"rgba(0,130,0,0.25)":"rgba(127,255,127,0.15)"}`,borderRadius:"4px",padding:"8px 10px"},children:[i.jsx("div",{style:{color:D==="light"?"#1a7a1a":"rgba(127,255,127,0.95)",fontSize:"7.5px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"6px",fontWeight:"700"},children:"General Fund Requirement"}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[i.jsx("span",{style:{color:D==="light"?"rgba(0,0,0,0.65)":"rgba(255,255,255,0.7)",fontSize:"10px"},children:"Minimum balance"}),i.jsx("span",{style:{color:d.balance>=M.generalFundMin?D==="light"?"#1a7a1a":"#7FFF7F":D==="light"?"#a05000":"rgba(255,200,80,0.9)",fontSize:"11px",fontWeight:"bold"},children:se(M.generalFundMin)})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[i.jsx("span",{style:{color:D==="light"?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)",fontSize:"9.5px"},children:"Current balance"}),i.jsx("span",{style:{color:D==="light"?"rgba(0,0,0,0.75)":"rgba(255,255,255,0.75)",fontSize:"10px",fontWeight:"600"},children:se(d.balance)})]}),d.balance<M.generalFundMin&&i.jsxs("div",{style:{color:D==="light"?"#8B3A00":"rgba(255,200,80,1)",fontSize:"10px",marginTop:"2px",fontWeight:"700",background:D==="light"?"rgba(200,100,0,0.08)":"rgba(255,200,80,0.06)",padding:"4px 6px",borderRadius:"3px",border:`1px solid ${D==="light"?"rgba(200,100,0,0.2)":"rgba(255,200,80,0.2)"}`},children:[" General fund needs ",se(M.generalFundMin-d.balance)," more"]})]}),j&&(M.incomeMin||M.incomeMax)&&i.jsxs("div",{style:{marginBottom:"10px",background:D==="light"?"rgba(0,120,0,0.05)":"rgba(127,255,127,0.04)",border:`1px solid ${D==="light"?"rgba(0,120,0,0.2)":"rgba(127,255,127,0.18)"}`,borderRadius:"4px",padding:"8px 10px"},children:[i.jsx("div",{style:{color:D==="light"?"#1a7a1a":"rgba(127,255,127,0.75)",fontSize:"7.5px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"4px",fontWeight:"700"},children:"Projected Annual Income"}),i.jsxs("div",{style:{color:D==="light"?"#0f5f0f":"#7FFF7F",fontSize:"14px",fontWeight:"bold"},children:[M.incomeMin&&M.incomeMax?`${se(M.incomeMin)}  ${se(M.incomeMax)}`:M.incomeMin?`From ${se(M.incomeMin)}`:`Up to ${se(M.incomeMax)}`,i.jsx("span",{style:{color:D==="light"?"rgba(0,100,0,0.6)":"rgba(127,255,127,0.5)",fontSize:"10px",fontWeight:"normal"},children:" / yr"})]})]}),j&&(M.repeatableReqs||[]).length>0&&i.jsxs("div",{style:{marginBottom:"10px",background:D==="light"?"rgba(150,100,0,0.05)":"rgba(255,200,80,0.04)",border:`1px solid ${D==="light"?"rgba(150,100,0,0.2)":"rgba(255,200,80,0.18)"}`,borderRadius:"4px",padding:"8px 10px"},children:[i.jsx("div",{style:{color:D==="light"?"#6b4400":"rgba(255,200,80,0.9)",fontSize:"7.5px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"6px",fontWeight:"700"},children:"Requires Sponsor Items"}),M.repeatableReqs.map(pe=>{const ie=Ln[pe.repeatableId],ye=Rl.has(pe.repeatableId)?ie!=null&&ie.funded?1:0:B[pe.repeatableId]||0,bt=ye>=pe.minCount;return ie?i.jsxs("div",{style:{marginBottom:"7px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[i.jsx("span",{style:{color:D==="light"?"rgba(0,0,0,0.75)":"rgba(255,255,255,0.75)",fontSize:"10px",fontWeight:"500"},children:ie.label}),i.jsxs("span",{style:{color:bt?D==="light"?"#1a7a1a":"#7FFF7F":D==="light"?"#a05000":"rgba(255,200,80,0.9)",fontSize:"10px",fontWeight:"bold"},children:[ye," / ",pe.minCount]})]}),i.jsx("div",{style:{height:"5px",background:D==="light"?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.1)",borderRadius:"3px",overflow:"hidden"},children:i.jsx("div",{style:{height:"100%",width:`${Math.min(1,ye/pe.minCount)*100}%`,background:bt?D==="light"?"#2a9a2a":"rgba(127,255,127,0.7)":D==="light"?"#c07000":"rgba(255,200,80,0.6)",borderRadius:"3px",transition:"width 0.3s"}})})]},pe.repeatableId):null})]}),j&&ue.size>0&&i.jsxs("div",{style:{marginBottom:"10px",background:D==="light"?"rgba(200,60,0,0.05)":"transparent",border:D==="light"?"1px solid rgba(200,60,0,0.15)":"none",borderRadius:"4px",padding:D==="light"?"8px 10px":"0"},children:[i.jsxs("div",{style:{color:D==="light"?"#b03000":"#FF501A",fontSize:"7.5px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"5px",fontWeight:"700"},children:[" Unfulfilled chain (",ue.size,")"]}),[...ue].map(pe=>{const ie=$e[pe];return ie?i.jsxs("div",{style:{color:D==="light"?"rgba(160,40,0,0.9)":"rgba(255,80,26,0.85)",fontSize:"10px",marginBottom:"3px",fontWeight:"500"},children:[" ",ie.label,ie.cost?` (${se(ie.cost)})`:"","  "]},pe):null})]}),j&&De.length>0&&i.jsxs("div",{style:{marginBottom:"10px"},children:[i.jsx("div",{style:{color:D==="light"?"#1a7a1a":"#7FFF7F",fontSize:"7.5px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"4px",fontWeight:"700"},children:" Dependencies Met"}),De.map(pe=>{const ie=$e[pe];return ie?i.jsxs("div",{style:{color:D==="light"?"rgba(0,100,0,0.8)":"rgba(127,255,127,0.7)",fontSize:"10px",marginBottom:"3px"},children:[" ",ie.label]},pe):null})]}),j&&Ar>0&&!["built","funded"].includes(_?E[_]:void 0)&&i.jsxs("div",{style:{color:D==="light"?"#7a4a00":"rgba(255,200,80,0.85)",fontSize:"11px",fontWeight:"800",letterSpacing:"0.04em",marginBottom:"12px",textTransform:"uppercase",padding:"8px 10px",background:D==="light"?"rgba(180,100,0,0.06)":"rgba(255,200,80,0.04)",borderRadius:"4px",border:`1px solid ${D==="light"?"rgba(180,100,0,0.15)":"rgba(255,200,80,0.12)"}`},children:["Fund Full Chain: ",i.jsx("span",{style:{color:D==="light"?"#6b3a00":"#FFD700",fontWeight:"900"},children:se(Ar)})]}),!j&&M.requiredNode&&$e[M.requiredNode]&&i.jsxs("div",{style:{color:D==="light"?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)",fontSize:"8.5px",marginBottom:"6px"},children:["Unlocked by: ",i.jsx("span",{style:{color:D==="light"?"rgba(0,0,0,0.65)":"rgba(255,255,255,0.55)",fontWeight:"500"},children:$e[M.requiredNode].label})]}),j&&M.dependencies.length>0&&M.dependencies.some(pe=>z[`${pe}|${M.id}`])&&i.jsxs("div",{style:{marginBottom:"9px"},children:[i.jsx("div",{style:{color:D==="light"?"rgba(0,0,0,0.45)":"rgba(255,255,255,0.35)",fontSize:"7.5px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"4px",fontWeight:"600"},children:"Why these dependencies?"}),M.dependencies.map(pe=>{const ie=z[`${pe}|${M.id}`],Ke=$e[pe];return ie&&Ke?i.jsxs("div",{style:{marginBottom:"5px",paddingLeft:"8px",borderLeft:`1px solid ${D==="light"?"rgba(0,0,0,0.15)":"rgba(255,255,255,0.12)"}`},children:[i.jsx("div",{style:{color:D==="light"?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.45)",fontSize:"8px",marginBottom:"1px",fontWeight:"500"},children:Ke.label}),i.jsx("div",{style:{color:D==="light"?"rgba(0,0,0,0.75)":"rgba(255,255,255,0.65)",fontSize:"9px",lineHeight:1.5},children:ie})]},pe):null})]}),j&&i.jsxs("div",{style:{paddingTop:"8px",borderTop:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("span",{style:{color:D==="light"?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)",fontSize:"8px"},children:["Phase ",M.phase]}),(()=>{const pe=_?E[_]:void 0,ie={locked:{label:"Planned",color:D==="light"?"rgba(0,0,0,0.45)":"rgba(255,255,255,0.3)",bg:D==="light"?"rgba(0,0,0,0.06)":"rgba(255,255,255,0.05)"},available:{label:"Open for Funding",color:D==="light"?"rgba(160,100,0,1)":"#FFAA44",bg:D==="light"?"rgba(160,100,0,0.1)":"rgba(255,170,68,0.1)"},funded:{label:"Fully Funded",color:D==="light"?"rgba(20,120,20,1)":"#7FFF7F",bg:D==="light"?"rgba(20,120,20,0.1)":"rgba(127,255,127,0.1)"},under_construction:{label:"Under Construction",color:D==="light"?"rgba(0,80,160,1)":"#55CCFF",bg:D==="light"?"rgba(0,80,160,0.08)":"rgba(85,204,255,0.1)"},built:{label:"Complete",color:D==="light"?"rgba(140,90,0,1)":"#FFD700",bg:D==="light"?"rgba(140,90,0,0.1)":"rgba(255,215,0,0.1)"}}[pe]||{label:"Planned",color:D==="light"?"rgba(0,0,0,0.45)":"rgba(255,255,255,0.3)",bg:D==="light"?"rgba(0,0,0,0.06)":"rgba(255,255,255,0.05)"};return i.jsx("div",{style:{padding:"2px 10px",borderRadius:"9px",fontSize:"8px",letterSpacing:"0.08em",border:`1px solid ${ie.color}`,color:ie.color,background:ie.bg},children:ie.label})})()]})]})]})})(),tt&&i.jsx($g,{nodes:e,nodeStatuses:E,onClose:()=>st(!1)}),we&&i.jsx(Lg,{nodes:e,nodeStatuses:E,exportedAt:q,onClose:()=>te(!1)})]})}const Jr={start:{label:"Origin",color:"#FFD700",order:0},infrastructure:{label:"Infrastructure",color:"#8B7355",order:1},sanctuary:{label:"Sanctuary",color:"#4A7C59",order:2},cultural:{label:"Cultural",color:"#7B5EA7",order:3},community:{label:"Community",color:"#C17B2F",order:4},enrichment:{label:"Enrichment",color:"#2F7B8C",order:5},resort:{label:"Resort",color:"#8C4A2F",order:6},revenue:{label:"Revenue",color:"#2F6B8C",order:8},legacy:{label:"Legacy",color:"#8C6B2F",order:9}},qg=["locked","available","funded","under_construction","built"],mn={locked:{label:"Planned",color:"rgba(255,255,255,0.26)",bg:"rgba(255,255,255,0.05)"},available:{label:"Open for Funding",color:"#FFAA44",bg:"rgba(255,170,68,0.1)"},funded:{label:"Fully Funded",color:"#7FFF7F",bg:"rgba(127,255,127,0.1)"},under_construction:{label:"Under Construction",color:"#55CCFF",bg:"rgba(85,204,255,0.1)"},built:{label:"Complete",color:"#FFD700",bg:"rgba(255,215,0,0.1)"}};function eo(e){return e==null||e===""?"-":e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}k`:`$${e}`}function Di(){return Math.random().toString(36).slice(2,9)}function Wg(e){if(e.length===0)return{};const t=["start","infrastructure","sanctuary","cultural","community","enrichment","resort","experience","revenue","legacy"],n={};t.forEach(h=>{n[h]=[]}),e.forEach(h=>{const v=h.category||"community";n[v]||(n[v]=[]),n[v].push(h)}),Object.keys(n).forEach(h=>{n[h].sort((v,k)=>{if(v.phase!==k.phase)return v.phase-k.phase;const g=(v.dependencies||[]).length,F=(k.dependencies||[]).length;return g-F})});const r=150,l=150,o=100,s=70,u={};let c=0;return t.forEach(h=>{const v=n[h];if(v.length===0)return;const k=l+c*r;v.forEach((g,F)=>{u[g.id]={x:k,y:o+F*s}}),c++}),u}const Ug=25;function Hg({nodes:e,nodeStatuses:t,positions:n,onPositionsChange:r,onNodeSelect:l,onEdgeSelect:o,selectedId:s,showPhaseSep:u,phaseSeps:c,onPhaseSepsChange:h,onNodePhaseChange:v,showGrid:k,gridSize:g,selectedNodes:F,onSelectedNodesChange:E,onNodeCategoryChange:T,categories:B}){const m=B||Jr,d=x.useRef(null),f=x.useRef({dragging:null,dragOffset:{x:0,y:0},panning:!1,panStart:{x:0,y:0},panVb:null,didDrag:!1,draggingSep:null,groupDragOffsets:null,rubber:null,draggingBoundary:null,draggingColumn:null}),[w,$]=x.useState(null),z=134,I=50,q=x.useCallback((R,C,N,L)=>{for(const[J,ae]of Object.entries(L)){if(J===R)continue;const oe=Math.abs(C-ae.x),ke=Math.abs(N-ae.y);if(oe<z+8&&ke<I+8)return!0}return!1},[]),G=150,H=70,xe=Object.values(n),tt=xe.map(R=>R.x),st=xe.map(R=>R.y),we=Math.min(...tt,0)-80,te=Math.max(...tt,0)+160,ge=Math.min(...st,0)-60,Ge=Math.max(...st,0)+80,[P,ee]=x.useState({x:we,y:ge,w:te-we,h:Ge-ge}),[K,le]=x.useState(null),ne=x.useMemo(()=>{var J,ae;const C=e.map(oe=>({...oe,pos:n[oe.id]})).filter(oe=>oe.pos).sort((oe,ke)=>oe.pos.x-ke.pos.x),N=[];let L=[],W=null;for(const oe of C)if(W===null||Math.abs(oe.pos.x-W)<75)L.push(oe),W=oe.pos.x;else{if(L.length>0){const ke={};L.forEach(_e=>ke[_e.category]=(ke[_e.category]||0)+1);const Ae=((J=Object.entries(ke).sort((_e,Xe)=>Xe[1]-_e[1])[0])==null?void 0:J[0])||"community";N.push({nodes:L,centerX:L.reduce((_e,Xe)=>_e+Xe.pos.x,0)/L.length,category:Ae})}L=[oe],W=oe.pos.x}if(L.length>0){const oe={};L.forEach(Ae=>oe[Ae.category]=(oe[Ae.category]||0)+1);const ke=((ae=Object.entries(oe).sort((Ae,_e)=>_e[1]-Ae[1])[0])==null?void 0:ae[0])||"community";N.push({nodes:L,centerX:L.reduce((Ae,_e)=>Ae+_e.pos.x,0)/L.length,category:ke})}return N},[e,n]),Me=x.useCallback((R,C)=>{const N=d.current;if(!N)return{x:0,y:0};const L=N.getBoundingClientRect();return{x:P.x+(R-L.left)*(P.w/L.width),y:P.y+(C-L.top)*(P.h/L.height)}},[P]),fe=x.useCallback((R,C)=>{if(!C||C.length===0)return null;const N=[...C].sort((W,J)=>W.y-J.y);let L=N[0].fromPhase;for(const W of N)R>W.y&&(L=W.toPhase);return L},[]),Pe=x.useCallback((R,C)=>k?{x:Math.round(R/150)*150,y:Math.round(C/70)*70}:{x:Math.round(R),y:Math.round(C)},[k]),gt=x.useCallback((R,C)=>{if(R.stopPropagation(),R.button===2){R.preventDefault(),f.current.panning=!0,f.current.panStart={x:R.clientX,y:R.clientY},f.current.panVb={...P},f.current.rubber=null;return}const N=Me(R.clientX,R.clientY);if(F&&F.size>1&&F.has(C)){const W={};F.forEach(J=>{const ae=n[J]||{x:0,y:0};W[J]={x:N.x-ae.x,y:N.y-ae.y}}),f.current.dragging=C,f.current.groupDragOffsets=W}else{const W=n[C]||{x:0,y:0};f.current.dragging=C,f.current.dragOffset={x:N.x-W.x,y:N.y-W.y},f.current.groupDragOffsets=null}f.current.panning=!1,f.current.didDrag=!1},[Me,n,F,P]),he=x.useCallback((R,C)=>{if(R.stopPropagation(),!f.current.didDrag)E==null||E(new Set),l==null||l(C);else if(!f.current.groupDragOffsets&&c&&c.length>0){const N=n[C];if(N){const L=fe(N.y,c);L!==null&&(v==null||v(C,L))}}f.current.dragging=null,f.current.groupDragOffsets=null,f.current.panning=!1},[l,E,n,c,fe,v]),Bt=x.useCallback((R,C)=>{R.stopPropagation(),f.current.draggingSep=C,f.current.didDrag=!1,f.current.panning=!1},[]),Rt=x.useCallback(R=>{if(R.stopPropagation(),f.current.didDrag&&f.current.draggingSep!==null){const C=c;e.forEach(N=>{const L=n[N.id];if(!L)return;const W=fe(L.y,C);W!==null&&W!==N.phase&&(v==null||v(N.id,W))})}f.current.draggingSep=null,f.current.panning=!1,f.current.didDrag=!1},[c,e,n,fe,v]),Bn=x.useCallback(R=>{if(f.current.dragging||f.current.draggingSep!==null)return;if(R.button===2){R.preventDefault(),f.current.panning=!0,f.current.panStart={x:R.clientX,y:R.clientY},f.current.panVb={...P},f.current.rubber=null,f.current.didDrag=!1;return}const C=Me(R.clientX,R.clientY);f.current.rubber={startX:C.x,startY:C.y},f.current.panning=!1,f.current.didDrag=!1,$({x:C.x,y:C.y,w:0,h:0})},[Me,P]),D=x.useCallback(R=>{const C=f.current;if(C.dragging){C.didDrag=!0;const N=Me(R.clientX,R.clientY);if(C.groupDragOffsets)r(L=>{const W={...L};return Object.entries(C.groupDragOffsets).forEach(([J,ae])=>{const oe=Pe(N.x-ae.x,N.y-ae.y);W[J]=oe}),W});else{const{x:L,y:W}=Pe(N.x-C.dragOffset.x,N.y-C.dragOffset.y);q(C.dragging,L,W,n)||r(J=>({...J,[C.dragging]:{x:L,y:W}}))}}else if(C.draggingSep!==null){C.didDrag=!0;const N=Me(R.clientX,R.clientY),L=Math.round(N.y);h(W=>W.map((J,ae)=>ae===C.draggingSep?{...J,y:L}:J))}else if(C.draggingBoundary!==null){if(!ne||!ne[C.draggingBoundary])return;C.didDrag=!0;const N=Me(R.clientX,R.clientY),L=N.x-C.boundaryDragStart.baseX;r(W=>{const J={...W},ae=ne[C.draggingBoundary];return!ae||!ae.nodes?W:(ae.nodes.forEach(oe=>{const ke=W[oe.id];ke&&(J[oe.id]={x:ke.x+L,y:ke.y})}),J)}),C.boundaryDragStart.baseX=N.x}else if(C.draggingColumn!==null){if(!ne||!ne[C.draggingColumn])return;C.didDrag=!0;const L=Me(R.clientX,R.clientY).x-C.columnDragStart.x;r(W=>{const J={...W},ae=ne[C.draggingColumn];return!ae||!ae.nodes?W:(ae.nodes.forEach(oe=>{if(W[oe.id]&&C.columnDragStart.nodeOffsets){const ke=C.columnDragStart.nodeOffsets[oe.id];ke!==void 0&&(J[oe.id]={x:C.columnDragStart.centerX+L+ke,y:W[oe.id].y})}}),J)})}else if(C.rubber){C.didDrag=!0;const N=Me(R.clientX,R.clientY),L=Math.min(N.x,C.rubber.startX),W=Math.min(N.y,C.rubber.startY),J=Math.abs(N.x-C.rubber.startX),ae=Math.abs(N.y-C.rubber.startY);$({x:L,y:W,w:J,h:ae})}else if(C.panning&&C.panVb){const N=d.current;if(!N)return;const L=N.getBoundingClientRect(),W=(R.clientX-C.panStart.x)*(C.panVb.w/L.width),J=(R.clientY-C.panStart.y)*(C.panVb.h/L.height);ee({...C.panVb,x:C.panVb.x-W,y:C.panVb.y-J})}},[Me,Pe,r,h,c,e,ne,n,q]),Ye=x.useCallback(R=>{const C=f.current;if(C.rubber&&C.didDrag){const N=w;if(N&&N.w>4&&N.h>4){const L=new Set;e.forEach(W=>{const J=n[W.id];J&&J.x>=N.x&&J.x<=N.x+N.w&&J.y>=N.y&&J.y<=N.y+N.h&&L.add(W.id)}),E==null||E(L)}else E==null||E(new Set),C.panning=!0,C.panStart={x:0,y:0},C.panVb={...P}}else C.rubber&&!C.didDrag&&(E==null||E(new Set));C.dragging=null,C.groupDragOffsets=null,C.draggingSep=null,C.draggingBoundary=null,C.draggingColumn=null,C.panning=!1,C.didDrag=!1,C.rubber=null,$(null)},[e,n,w,E,P,ne,T]),Vt=x.useCallback(R=>{R.preventDefault();const C=d.current;if(!C)return;const N=C.getBoundingClientRect(),L=P.x+(R.clientX-N.left)*(P.w/N.width),W=P.y+(R.clientY-N.top)*(P.h/N.height),J=R.deltaY>0?1.12:.89;ee(ae=>({x:L-(L-ae.x)*J,y:W-(W-ae.y)*J,w:ae.w*J,h:ae.h*J}))},[P]),Gt=[];e.forEach(R=>{R.dependencies.forEach(C=>{const N=n[C],L=n[R.id];N&&L&&Gt.push({key:`${C}-${R.id}`,fromId:C,toId:R.id,from:N,to:L})})});const An=`${P.x} ${P.y} ${P.w} ${P.h}`,Oe=we+20,pn=te-20,$n=(we+te)/2;return i.jsxs("svg",{ref:d,width:"100%",height:"100%",viewBox:An,style:{background:"rgba(0,0,0,0.4)",borderRadius:"4px",display:"block",userSelect:"none"},onMouseDown:Bn,onMouseMove:D,onMouseUp:Ye,onMouseLeave:Ye,onContextMenu:R=>R.preventDefault(),onWheel:Vt,children:[(()=>{const R=ne==null?void 0:ne.find(L=>(L==null?void 0:L.category)==="infrastructure"),C=(R==null?void 0:R.centerX)!=null?Math.round(R.centerX/G)*G:690,N=80;return i.jsxs("g",{style:{pointerEvents:"none"},children:[i.jsx("line",{x1:C,y1:ge,x2:C,y2:Ge,stroke:"rgba(85,200,255,0.25)",strokeWidth:"0.8",strokeDasharray:"6,5"}),i.jsx("text",{x:C+4,y:ge+14,fill:"rgba(85,200,255,0.4)",fontSize:"8",fontFamily:"Georgia,serif",children:"centre"}),i.jsx("line",{x1:we,y1:N,x2:te,y2:N,stroke:"rgba(255,200,80,0.25)",strokeWidth:"0.8",strokeDasharray:"6,5"}),i.jsx("text",{x:we+6,y:N-4,fill:"rgba(255,200,80,0.4)",fontSize:"8",fontFamily:"Georgia,serif",children:"top guide"})]})})(),k&&i.jsxs("g",{style:{pointerEvents:"none"},children:[Array.from({length:Math.ceil((te-we)/G)+3},(R,C)=>{const N=Math.floor((we-G)/G)*G+C*G;return N<we-G||N>te+G?null:i.jsx("line",{x1:N,y1:ge-50,x2:N,y2:Ge,stroke:"rgba(255,255,255,0.12)",strokeWidth:"0.8"},`vg-${C}`)}),Array.from({length:Math.ceil((Ge-ge)/H)+3},(R,C)=>{const N=Math.floor((ge-H)/H)*H+C*H;return N<ge-H||N>Ge+H?null:i.jsx("line",{x1:we,y1:N,x2:te,y2:N,stroke:"rgba(255,255,255,0.12)",strokeWidth:"0.8"},`hg-${C}`)}),Array.from({length:Math.ceil((te-we)/G)+3},(R,C)=>Array.from({length:Math.ceil((Ge-ge)/H)+3},(N,L)=>{const W=Math.floor((we-G)/G)*G+C*G,J=Math.floor((ge-H)/H)*H+L*H;return W<we-G||W>te+G||J<ge-H||J>Ge+H?null:i.jsx("circle",{cx:W,cy:J,r:"2",fill:"rgba(255,255,255,0.2)"},`snap-${C}-${L}`)}))]}),u&&c&&c.map((R,C)=>i.jsxs("g",{style:{cursor:"ns-resize"},onMouseDown:N=>Bt(N,C),onMouseUp:N=>Rt(N),children:[i.jsx("line",{x1:Oe,y1:R.y,x2:pn,y2:R.y,stroke:"transparent",strokeWidth:"20"}),i.jsx("line",{x1:Oe,y1:R.y,x2:pn,y2:R.y,stroke:"rgba(196,168,130,0.3)",strokeWidth:"0.8",strokeDasharray:"8,6"}),i.jsxs("text",{x:Oe+6,y:R.y-6,fill:"rgba(196,168,130,0.45)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",R.fromPhase]}),i.jsxs("text",{x:Oe+6,y:R.y+13,fill:"rgba(196,168,130,0.45)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",R.toPhase]}),i.jsx("rect",{x:$n-22,y:R.y-7,width:"44",height:"14",rx:"7",fill:"rgba(196,168,130,0.1)",stroke:"rgba(196,168,130,0.3)",strokeWidth:"0.6"}),i.jsx("text",{x:$n,y:R.y+2,textAnchor:"middle",fill:"rgba(196,168,130,0.6)",fontSize:"7",fontFamily:"Georgia,serif",children:" drag"})]},`sep-${C}`)),Gt.map(R=>{const C=(R.from.x+R.to.x)/2,N=`M${R.from.x},${R.from.y} C${C},${R.from.y} ${C},${R.to.y} ${R.to.x},${R.to.y}`,L=s===`edge:${R.key}`,W=K&&(R.fromId===K.id||R.toId===K.id);return i.jsxs("g",{onMouseDown:J=>{J.stopPropagation(),f.current.didDrag=!1},onMouseUp:J=>{J.stopPropagation(),f.current.didDrag||o==null||o(R.fromId,R.toId)},style:{cursor:"pointer"},children:[i.jsx("path",{d:N,stroke:"transparent",strokeWidth:"10",fill:"none"}),i.jsx("path",{d:N,stroke:L?"#FFD700":W?"rgba(136,204,255,0.4)":"rgba(255,255,255,0.12)",strokeWidth:L?"1.8":W?"1.5":"1",fill:"none"})]},R.key)}),e.map(R=>{const C=n[R.id];if(!C)return null;const N=m[R.category]||m.community||{color:"#888"},L=t[R.id]||"locked",W=L==="built"?`${N.color}55`:L==="under_construction"?`${N.color}44`:L==="funded"?`${N.color}33`:L==="available"?`${N.color}22`:`${N.color}0f`,J=f.current.dragging===R.id,ae=s===R.id,oe=F&&F.has(R.id),ke=J||ae||oe,Ae=oe?"#88CCFF":"#FFD700",_e=c&&c.some(Xe=>Math.abs(C.y-Xe.y)<Ug);return i.jsxs("g",{transform:`translate(${C.x-z/2},${C.y-I/2})`,style:{cursor:"grab"},title:_e?" Node overlaps phase line - drag to clear it":void 0,onMouseDown:Xe=>gt(Xe,R.id),onMouseUp:Xe=>he(Xe,R.id),onMouseEnter:()=>!f.current.dragging&&le(R),onMouseLeave:()=>le(null),children:[_e&&i.jsx("rect",{x:"-5",y:"-5",width:z+10,height:I+10,rx:"6",fill:"rgba(255,30,30,0.12)",stroke:"#FF2020",strokeWidth:"3",style:{pointerEvents:"none"}}),ke&&i.jsx("rect",{x:"-3",y:"-3",width:z+6,height:I+6,rx:"4",fill:oe?"rgba(136,204,255,0.07)":"none",stroke:Ae,strokeWidth:"1.2",opacity:".85"}),i.jsx("rect",{x:"0",y:"0",width:z,height:I,rx:"2",fill:W,stroke:_e?"#FF2020":ke?Ae:N.color,strokeWidth:_e?"2.5":ke?"1.2":".6",strokeOpacity:".95"}),L==="funded"&&i.jsx("rect",{x:"0",y:"0",width:z,height:I,rx:"2",fill:"rgba(255,255,255,0.09)"}),i.jsx("text",{x:z/2,y:I/2+3,textAnchor:"middle",fill:"rgba(255,255,255,0.8)",fontSize:"9.5",fontFamily:"Georgia,serif",children:R.label.length>19?R.label.slice(0,18)+"":R.label}),(()=>{const Xe=c&&c.length>0?(()=>{const $e=[...c].sort((Zt,Ln)=>Zt.y-Ln.y);let Ie=$e[0].fromPhase;for(const Zt of $e)C.y>Zt.y&&(Ie=Zt.toPhase);return Ie})():R.phase,Z=Xe!==R.phase;return i.jsxs("text",{x:"4",y:"10",fill:Z?"#FFAA44":"rgba(255,255,255,0.28)",fontSize:"7",fontFamily:"Georgia,serif",children:["Ph",Xe,Z?"!":""]})})()]},R.id)}),w&&w.w>2&&w.h>2&&i.jsx("rect",{x:w.x,y:w.y,width:w.w,height:w.h,fill:"rgba(136,204,255,0.06)",stroke:"rgba(136,204,255,0.5)",strokeWidth:"0.8",strokeDasharray:"6,4",rx:"2",style:{pointerEvents:"none"}})]})}const Iu=[{id:"land",label:"Secure Land",category:"start",phase:0,cost:null,status:"locked",description:"300-400 acres of Southern Maine forested land.",dependencies:[],unlocks:["porta_potties"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"porta_potties",label:"Porta-Potties",category:"infrastructure",phase:0,cost:3e3,status:"locked",description:"First microphase. Mandatary before human presence. Monthly rental approx $270 per month.",dependencies:["land"],unlocks:["perimeter_fence","water_well","power_solar","access_road","master_waller_dwelling","tree_art"],generalFundMin:null,repeatableReqs:[],perk:"Sponsor sanitation for Month X acknowledgment on the public tree",emphasis:!0},{id:"perimeter_fence",label:"Fencing",category:"infrastructure",phase:1,cost:35e3,status:"locked",description:"Boundary fencing for various areas",dependencies:["porta_potties"],unlocks:["sanctuary_core","forest_dining"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"water_well",label:"Temporary Water",category:"infrastructure",phase:1,cost:2500,status:"locked",description:"IBS storage, water deliveries. $300 monthly",dependencies:["porta_potties"],unlocks:["aqua_fetch","node_5rnby5e","node_min2uja","node_b60pxf9"],generalFundMin:450,repeatableReqs:[],perk:"Founding Water Sponsor acknowledgment on the public tree",phaseEssential:!0},{id:"power_solar",label:"Power & Solar",category:"infrastructure",phase:1,cost:12e4,status:"locked",description:"Install a solar-primary electrical system sized to run the founder home and a volunteer staging area, with battery storage and a backup generator interface for outage conditions.",dependencies:["porta_potties"],unlocks:["basic_trails","node_min2uja","node_5mltlag"],generalFundMin:1e4,repeatableReqs:[],perk:"Founding Power System naming right (signage at the staging area power hub), plus a permanent donor plaque on the electrical room wall.",phaseEssential:!0},{id:"basic_trails",label:"Basic Trail Network",category:"infrastructure",phase:1,cost:6e4,status:"locked",description:"Primary trail network.",dependencies:["power_solar","node_b60pxf9","node_k2vimcu"],unlocks:["memory_lane_trail","extreme_fetch","ice_rink","tree_art","mood_meadow","sound_pads","matchmaking_walks","node_nxnzzqr","node_xy757nh","node_5rnby5e","node_aaji5ku","node_0p03fw9","node_37li943","node_8s8q8at","node_rfaxsc3","node_8k7m7qj","node_40jlnzf","chaga_program","node_p7dxajh"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0,emphasis:!0},{id:"access_road",label:"Access Road",category:"infrastructure",phase:1,cost:35e3,status:"locked",description:"Construct an all-weather access route suitable for deliveries, emergency access, and guest vehicles, scoped as paved access road in the file. Cost is a placeholder until land had been acquired.",dependencies:["porta_potties"],unlocks:["dutch_snackbar","node_mzsbyr5","node_coro4fa","node_ivc46ur","node_6j8nnxz","node_nxnzzqr","node_xy757nh","node_ijjcwty","node_min2uja","node_5mltlag","node_k2vimcu"],generalFundMin:null,repeatableReqs:[],perk:"Founding Road naming, or donor-named entry marker stone at the start of the road (non-intrusive, consistent with the aesthetic).",phaseEssential:!0},{id:"sanctuary_core",label:"Sanctuary Rescue Core",category:"sanctuary",phase:2,cost:25e4,status:"locked",description:"12 dog capacity",dependencies:["perimeter_fence","node_b60pxf9","node_5mltlag","node_dlhwug3","node_k2vimcu"],unlocks:["vet_facility","communication_boards","dog_daycare","scent_system","animal_adoption","node_nlp6pnm"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0,emphasis:!0},{id:"vet_facility",label:"Veterinary Facility",category:"infrastructure",phase:2,cost:18e4,status:"locked",description:"On-site vet clinic.",dependencies:["sanctuary_core","node_k2vimcu"],unlocks:["transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"communication_boards",label:"Communication Boards",category:"sanctuary",phase:2,cost:25e3,status:"locked",description:"24-button boards.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"dog_daycare",label:"Outdoor Dog Daycare",category:"revenue",phase:1,cost:23e3,status:"locked",description:"Outdoor dog daycare operation for up to 50 dogs, divided into 4 fenced play areas, staffed to supervision ratio guidance, with water provision, shade or shelter, waste stations, basic tick-control points, making use of trails and facilities, and controlled entry and exit handling.",dependencies:["perimeter_fence","node_b60pxf9","node_k2vimcu"],unlocks:[],generalFundMin:18e3,repeatableReqs:[],perk:"Naming right for the daycare, named yards (4 area plaques), named water stations, named shade or shelter structure, and a sponsor plaque at the entry control point.",incomeMin:18e4,incomeMax:69e4},{id:"matchmaking_walks",label:"Dog Matchmaking Walks",category:"sanctuary",phase:2,cost:2e3,status:"locked",description:"Staff-matched walks.",dependencies:["sanctuary_core","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"scent_system",label:"Scent Coding System",category:"enrichment",phase:2,cost:18e3,status:"locked",description:"Villa scent markers.",dependencies:["sanctuary_core","node_p7dxajh"],unlocks:["scent_menu"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"scent_menu",label:"Dog Scent Menu",category:"revenue",phase:3,cost:8e3,status:"locked",description:"Dog-friendly scent menu.",dependencies:["scent_system","node_wuyygx4"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"animal_adoption",label:"On-Site Animal Adoption",category:"sanctuary",phase:2,cost:5e3,status:"locked",description:"Zoo-style sponsorship.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"master_waller_dwelling",label:"Master Waller Dwelling",category:"infrastructure",phase:2,cost:175e3,status:"locked",description:"Home for the master waller.",dependencies:["perimeter_wall"],unlocks:["perimeter_wall"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"perimeter_wall",label:"Perimeter Wall (Begin)",category:"legacy",phase:1,cost:12e4,status:"locked",description:"Begin 3+ mile drystone wall. Includes first year of drywaller compensation at $55-85k and materials.",dependencies:["perimeter_fence"],unlocks:["hero_stones","memorial_urn_stones"],generalFundMin:27e3,repeatableReqs:[],perk:"Named wall segments and named stones (including Hero Stones); primary naming right for the wall program; plaque at the walls primary public-facing entry point."},{id:"hero_stones",label:"Hero Stones Programme",category:"revenue",phase:1,cost:5e3,status:"locked",description:"Inscribed donor stones.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:5e4,incomeMax:15e4},{id:"memorial_urn_stones",label:"Memorial Urn Stones",category:"revenue",phase:2,cost:5e3,status:"locked",description:"Patron dogs' ashes.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"dutch_snackbar",label:"Dutch Snackbar",category:"revenue",phase:1,cost:35e3,status:"locked",description:"Wood-fired pizza + patat.",dependencies:["access_road","node_b60pxf9","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:4e4,incomeMax:65e3},{id:"forest_dining",label:"Forest Dining",category:"revenue",phase:2,cost:45e3,status:"locked",description:"Distributed forest grill sites.",dependencies:["perimeter_fence","node_min2uja","node_k2vimcu"],unlocks:["slow_table"],generalFundMin:null,repeatableReqs:[{repeatableId:"picnic_bench",minCount:6}],perk:"",incomeMin:15e4,incomeMax:28e4},{id:"slow_table",label:"The Slow Table",category:"community",phase:4,cost:8e3,status:"locked",description:"Weekly communal dinner.",dependencies:["forest_dining"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"gingerworks",label:"Gingerworks",category:"community",phase:4,cost:35e4,status:"locked",description:"The pub and micro-brewery.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"repair_workshop",label:"Repair Workshop",category:"community",phase:4,cost:6e4,status:"locked",description:"Open-sided maker space.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"chapel",label:"Unitarian Chapel",category:"community",phase:4,cost:225e3,status:"locked",description:"Timber-frame chapel.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"extreme_fetch",label:"Extreme Fetch Field",category:"enrichment",phase:2,cost:2e4,status:"locked",description:"Fan-shaped outfield.",dependencies:["basic_trails"],unlocks:["aqua_fetch"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"aqua_fetch",label:"Aqua Fetch Bay",category:"resort",phase:3,cost:3e4,status:"locked",description:"Water-based Extreme Fetch.",dependencies:["extreme_fetch","water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"ice_rink",label:"Natural Ice Rink",category:"community",phase:2,cost:12e3,status:"locked",description:"Flooded uncooled rink.",dependencies:["basic_trails"],unlocks:["skating_trails"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"skating_trails",label:"Forest Skating Trails",category:"community",phase:2,cost:2e4,status:"locked",description:"Montreal-style trails.",dependencies:["ice_rink","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"tunnel_network",label:"Tunnel Network",category:"enrichment",phase:2,cost:12e3,status:"locked",description:"Buried tubes connecting dog park.",dependencies:["sanctuary_core","node_p7dxajh"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"mood_meadow",label:"Mood Meadow",category:"enrichment",phase:2,cost:2e3,status:"locked",description:"Canine herb sections.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"sound_pads",label:"Mechanical Sound Pads",category:"enrichment",phase:2,cost:6e3,status:"locked",description:"BONK/DING/CLONK.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"central_village",label:"Central Village",category:"infrastructure",phase:3,cost:8e5,status:"locked",description:"Central hub.",dependencies:["villas_phase1","node_5mltlag","node_938mdhr","node_dlhwug3","node_p7dxajh"],unlocks:["gingerworks","repair_workshop","kustom_kibble","villas_phase1","water_channels","rfid_system","node_wuyygx4"],generalFundMin:5e4,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"villas_phase1",label:"First 10 Villas",category:"revenue",phase:3,cost:25e5,status:"locked",description:"BOGO model.",dependencies:["node_mzsbyr5","node_7cjvxjl","node_p7dxajh"],unlocks:["villas_phase2","rfid_system","central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"villas_phase2",label:"Next 20 Villas",category:"revenue",phase:4,cost:5e6,status:"locked",description:"Scale to 30 villas.",dependencies:["central_village"],unlocks:["artisan_housing","villas_phase3"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"villas_phase3",label:"50+ Villas",category:"revenue",phase:4,cost:1e7,status:"locked",description:"Full villa estate.",dependencies:["villas_phase2"],unlocks:["the_jewel","transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"kustom_kibble",label:"Kustom Kibble",category:"revenue",phase:3,cost:65e3,status:"locked",description:"BOGO kibble dispensers.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:25e3,incomeMax:95e3},{id:"artisan_housing",label:"Artisan Housing",category:"infrastructure",phase:4,cost:15e5,status:"locked",description:"On-site housing.",dependencies:["villas_phase2"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"memory_lane_trail",label:"Memory Lane Trail",category:"resort",phase:3,cost:28e3,status:"locked",description:"Synced speaker trail.",dependencies:["basic_trails","power_solar","rfid_system"],unlocks:["rfid_system"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"rfid_system",label:"RFID Light & Sound",category:"resort",phase:3,cost:12e4,status:"locked",description:"Personal light/sound bubble.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"water_channels",label:"Water Channels",category:"resort",phase:3,cost:45e3,status:"locked",description:"Stone-lined water channels with misters",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"tree_art",label:"Arborsculpture / Living Tree Forms",category:"legacy",phase:1,cost:12e3,status:"locked",description:"An on-site artistic arborist trains selected living trees into deliberate long-term forms for future visitors, using repeat seasonal interventions over multiple years.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"Program naming right; sponsored individual trained trees with discreet tags; sponsor plaque at the entry to the tree-art walk; optional Founding Tree dedication for the first completed form."},{id:"firewood",label:"Firewood Sales",category:"revenue",phase:1,cost:8e3,status:"locked",description:"Produce and sell in-state firewood measured as a Maine legal cord (including the state-defined loose-thrown cord volumes for 1216 inch firewood). Annual output ceiling here is computed using a published woodland growth benchmark of about one-third cord per acre per year applied to 400 acres, and priced using 2026 Maine per-cord retail examples. Actual yield depends on stand conditions and harvest plan.",dependencies:["node_b60pxf9","node_k2vimcu"],unlocks:[],generalFundMin:5e3,repeatableReqs:[],perk:"Founding Woodheat Program naming right; donor plaque at the firewood bay; sponsor-tagged Season 2026 Firewood made possible by <Donor> on the public tree.",incomeMin:65e3,incomeMax:185e3},{id:"chaga_program",label:"Chaga Programme",category:"revenue",phase:1,cost:15e3,status:"locked",description:"Birch inoculation. No income until year 7, then recurring annually.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",incomeMin:2e5,incomeMax:3e5},{id:"transport_fleet",label:"Transport Fleet",category:"sanctuary",phase:4,cost:12e5,status:"locked",description:"Purpose-built rescue vehicles.",dependencies:["vet_facility","villas_phase3","node_e0ynnbc"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"the_jewel",label:"The Jewel",category:"resort",phase:4,cost:35e6,status:"locked",description:"Indoor water park. The crown.",dependencies:["villas_phase3","node_7aai9m0"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"node_mzsbyr5",label:"Disc Golf Course",category:"community",phase:1,cost:4e3,status:"locked",description:"",dependencies:["access_road","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:8e3,incomeMax:22e3},{id:"node_coro4fa",label:"Forest Golf Course",category:"community",phase:1,cost:18e3,status:"locked",description:"An 18-hole forest golf course routed like a disc golf course with minimal clearance. Each hole is a large metal bell suspended from a low wooden frame. Players complete a hole by striking the bell. Course can be reconfigured seasonally, with a basic roofed staging pavilion at the start. Play price is $12 per round, with optional club and ball rentals.",dependencies:["access_road","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:8e3,incomeMax:21e3},{id:"node_ivc46ur",label:"Public Dog Park",category:"enrichment",phase:1,cost:185e3,status:"locked",description:"Construct a public off-leash dog park on 0.5 acre with two separated activity zones, airlock entry fencing, mulch surfacing, shelter pavilion, multiple water stations, picnic benches/tables, waste bag/bin stations, required forest clearing, and built-in commercial agility equipment.",dependencies:["access_road"],unlocks:[],generalFundMin:6500,repeatableReqs:[],perk:"Park naming right (<Donor> Public Dog Park), donor plaque on the pavilion, named agility elements (e.g., <Donor> Weave Poles), and Founding Day first-use ceremony for the primary sponsor.",phaseEssential:!1},{id:"node_6j8nnxz",label:"Adventure Playground",category:"community",phase:1,cost:135e3,status:"locked",description:"Timber-built, 1990s-style adventure playground integrated into forest and terrain across 0.25 acre, with perimeter fencing, parent shelter pavilion, multiple water stations, mulch or safety surfacing in fall zones, tick-control points (tools + signage), and natural-feature-based play elements plus fixed adventure structures.",dependencies:["access_road"],unlocks:[],generalFundMin:9200,repeatableReqs:[],perk:"Park naming right (The <Donor> Adventure Playground), sponsor plaque on the parent shelter, and named major elements (e.g., <Donor> Timber Fort, <Donor> Rope Traverse, <Donor> Lookout Deck).",phaseEssential:!1},{id:"node_nxnzzqr",label:"SAR training area",category:"enrichment",phase:1,cost:36e3,status:"locked",description:"A designated SAR training area placed on the least mission-usable land, consisting of signage, a 6-car gravel parking lot, a simple staging area, and basic fencing enclosing a narrow acre.",dependencies:["access_road","basic_trails"],unlocks:[],generalFundMin:2500,repeatableReqs:[],perk:"Naming right for the training area entry sign, plus a donor plaque at the staging area.",phaseEssential:!1},{id:"node_xy757nh",label:"Archery field",category:"community",phase:1,cost:5e3,status:"locked",description:"",dependencies:["basic_trails","access_road","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:5e3,incomeMax:12e3},{id:"node_5rnby5e",label:"Food forest",category:"legacy",phase:1,cost:2e3,status:"locked",description:"",dependencies:["basic_trails","water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_aaji5ku",label:"Cross-country ski trails",category:"community",phase:1,cost:12e3,status:"locked",description:"",dependencies:["basic_trails","node_k2vimcu"],unlocks:["node_pgm840u"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_pgm840u",label:"Dog Skijoring",category:"enrichment",phase:2,cost:5e3,status:"locked",description:"",dependencies:["node_aaji5ku"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_0p03fw9",label:"Orienteering courses",category:"community",phase:1,cost:2500,status:"locked",description:"",dependencies:["basic_trails","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_ijjcwty",label:"Community BMX track",category:"community",phase:1,cost:16e3,status:"locked",description:"A dirt BMX track built with community volunteer labor where New Doggerland supplies the purchased inputs (imported fill or soil amendments if needed, erosion control, any rented equipment time, compaction, basic signage, and any minimal safety delineation).",dependencies:["access_road","node_k2vimcu"],unlocks:[],generalFundMin:2e3,repeatableReqs:[],perk:"Track naming right; named start hill or named feature zones; sponsor plaque at the entry sign.",phaseEssential:!1},{id:"node_37li943",label:"Off-leash trail",category:"revenue",phase:1,cost:74e3,status:"locked",description:"A 0.5 mile fenced off leash trail loop that is 50 ft wide (two parallel fence lines) with two double gate airlock entries to prevent escapes, plus rules signage and basic tick control points. Bookable for a fee.",dependencies:["basic_trails"],unlocks:[],generalFundMin:4800,repeatableReqs:[],perk:"Naming right for the loop, named airlock gates, and sponsor plaques at each entry sign.",phaseEssential:!1,incomeMin:15e3,incomeMax:32e3},{id:"node_55rktrk",label:"On-site Camping",category:"revenue",phase:2,cost:1e4,status:"locked",description:"Income per plot",dependencies:["node_min2uja","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[{repeatableId:"camping_pad",minCount:6}],perk:"",phaseEssential:!0,incomeMin:1e4},{id:"node_min2uja",label:"Basic Sanitation Block",category:"infrastructure",phase:2,cost:25e3,status:"locked",description:"",dependencies:["access_road","power_solar","node_5mltlag"],unlocks:["node_55rktrk","forest_dining","node_22draly"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"node_b60pxf9",label:"Founder dwelling",category:"infrastructure",phase:1,cost:172e3,status:"locked",description:"A temporary but fully functional founder residence suitable for a family of three, with a dedicated volunteer meeting area, mud room, internal capacity to foster 4 dogs while keeping 3 personal dogs, a securely fenced yard sized for extended unsupervised dog time, and an on-site sewage solution via a conventional septic system.",dependencies:["water_well"],unlocks:["dutch_snackbar","dog_daycare","firewood","sanctuary_core","basic_trails","node_3m4u27z","node_28axmgy"],generalFundMin:2e4,repeatableReqs:[],perk:"Naming right for the dwelling (Founder Base Cabin sponsored by <Donor>), plaque in the meeting area, and a named dog yard gate sign (<Donor> Canine Yard).",phaseEssential:!1,emphasis:!0},{id:"node_8s8q8at",label:"Culinary Mushrooms",category:"revenue",phase:1,cost:5600,status:"locked",description:"Inoculate suitable hardwood logs in forest conditions to produce culinary mushrooms (including lions mane) for harvest and sale as cultivated mushrooms.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"Mushroom Grove naming right for the inoculation area; sponsor-tagged log clusters; small plaque at the grove entry marker.",phaseEssential:!1,incomeMin:12480,incomeMax:32600},{id:"node_22draly",label:"Forest Daycare",category:"revenue",phase:2,cost:7500,status:"locked",description:"",dependencies:["node_min2uja","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_rfaxsc3",label:"Sledding Hill with Lift",category:"community",phase:2,cost:7500,status:"locked",description:"",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_8k7m7qj",label:"Treehouse Network",category:"resort",phase:3,cost:25e3,status:"locked",description:"",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_wuyygx4",label:"Restaurant #1",category:"revenue",phase:3,cost:25e4,status:"locked",description:"",dependencies:["central_village"],unlocks:["scent_menu"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_40jlnzf",label:"ADA Accessible Trails",category:"infrastructure",phase:1,cost:1e3,status:"locked",description:"",dependencies:["basic_trails","node_k2vimcu"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1,incomeMin:25e4},{id:"node_3m4u27z",label:"Rescue Goat Enclosure (Up to 12 Goats)",category:"sanctuary",phase:1,cost:20300,status:"locked",description:"Build a goat-safe enclosure sized for 12 goats using (a) indoor shelter space of 2025 sq ft per goat (target: ~300 sq ft) and (b) a contained activity yard, with goat-appropriate fencing, gates, water system, hay and mineral feeders, and an electric deterrent where needed.",dependencies:["node_b60pxf9"],unlocks:["node_6npt26r"],generalFundMin:5e3,repeatableReqs:[],perk:"Rescue Goat Enclosure naming right on the entry sign, plus a permanent plaque at the main gate; optional sponsor tags for the shelter and water station.",phaseEssential:!1},{id:"node_28axmgy",label:"Rescue Donkey facility",category:"sanctuary",phase:1,cost:55e3,status:"locked",description:"Establish initial donkey infrastructure sized for 8 donkeys, including at least 4 acres of grazing and at least 400 sq ft of covered bedded shelter, plus perimeter fencing, gates, and an all-season water setup.",dependencies:["node_b60pxf9"],unlocks:["node_uju2o5z"],generalFundMin:12e3,repeatableReqs:[],perk:"Facility naming right (The <Donor> Donkey Facility), donor plaque at the main gate, and optional named elements (shelter nameplate, water station plaque).",phaseEssential:!1},{id:"node_5mltlag",label:"Well and permanent water",category:"infrastructure",phase:1,cost:45e3,status:"locked",description:"",dependencies:["power_solar","access_road"],unlocks:["sanctuary_core","central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_7cjvxjl",label:"Villa Design Contest",category:"cultural",phase:2,cost:125e3,status:"locked",description:"",dependencies:[],unlocks:["villas_phase1"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_938mdhr",label:"Central Village Design Contest",category:"cultural",phase:2,cost:175e3,status:"locked",description:"",dependencies:[],unlocks:["central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_7aai9m0",label:"The Jewel design Contest",category:"cultural",phase:4,cost:2e5,status:"locked",description:"",dependencies:[],unlocks:["the_jewel"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_dlhwug3",label:"Power upgrade",category:"infrastructure",phase:2,cost:2e4,status:"locked",description:"",dependencies:[],unlocks:["sanctuary_core","central_village"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1},{id:"node_k2vimcu",label:"Parking Lot",category:"infrastructure",phase:1,cost:55e3,status:"locked",description:"Build an initial 3040 car compacted gravel parking lot with defined bays and a dedicated dog leashing post at every bay, suitable for early operations and public use.",dependencies:["access_road"],unlocks:["dutch_snackbar","dog_daycare","firewood","node_40jlnzf","node_coro4fa","node_ijjcwty","node_mzsbyr5","node_xy757nh","node_aaji5ku","node_0p03fw9","basic_trails","forest_dining","node_22draly","node_55rktrk","vet_facility","sanctuary_core"],generalFundMin:null,repeatableReqs:[],perk:"Lot naming right (<Donor> Parking), plaque at the entry, and optional Sponsor a Bay labels (bay-numbered recognition tied to leashing posts).",phaseEssential:!1},{id:"node_nlp6pnm",label:"Sanctuary Rescue Core upgrade",category:"sanctuary",phase:3,cost:25e4,status:"locked",description:"24 dog capacity",dependencies:["sanctuary_core"],unlocks:["node_e0ynnbc"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"node_e0ynnbc",label:"Sanctuary Rescue Core upgrade 2",category:"sanctuary",phase:4,cost:25e4,status:"locked",description:"100 dog capacity",dependencies:["node_nlp6pnm"],unlocks:["transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0},{id:"node_6npt26r",label:"Rescue Goat Enclosure upgrade (Up to 24 Goats) ",category:"sanctuary",phase:2,cost:20300,status:"locked",description:"Build a goat-safe enclosure sized for 24 goats using (a) indoor shelter space of 2025 sq ft per goat (target: ~300 sq ft) and (b) a contained activity yard, with goat-appropriate fencing, gates, water system, hay and mineral feeders, and an electric deterrent where needed.",dependencies:["node_3m4u27z"],unlocks:[],generalFundMin:5e3,repeatableReqs:[],perk:"Rescue Goat Enclosure naming right on the entry sign, plus a permanent plaque at the main gate; optional sponsor tags for the shelter and water station.",phaseEssential:!1},{id:"node_uju2o5z",label:"Rescue Donkey facility upgrade",category:"sanctuary",phase:2,cost:55e3,status:"locked",description:"Establish initial donkey infrastructure sized for 16 donkeys, including at least 8 acres of grazing and at least 800 sq ft of covered bedded shelter, plus perimeter fencing, gates, and an all-season water setup.",dependencies:["node_28axmgy"],unlocks:[],generalFundMin:12e3,repeatableReqs:[],perk:"Facility naming right (The <Donor> Donkey Facility), donor plaque at the main gate, and optional named elements (shelter nameplate, water station plaque).",phaseEssential:!1},{id:"node_p7dxajh",label:"Upgraded Trail Network",category:"infrastructure",phase:2,cost:25e4,status:"locked",description:"Primary trail network.",dependencies:["basic_trails"],unlocks:["central_village","tunnel_network","scent_system","villas_phase1"],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!0}],Bu=[{id:"picnic_bench",label:"Outdoor dining location",cost:2200,category:"community",icon:"",description:"Handcrafted bench on a concrete foundation. Wooden roof.",perk:"Small plaque",requiredNode:"basic_trails",fundedCount:0,targetCount:20},{id:"camping_pad",label:"Camping Site",cost:12e3,category:"revenue",icon:"",description:" 1/4 acre dog-safe, fenced, private camping area.",perk:"Complimentary first night",requiredNode:"basic_trails",fundedCount:0,targetCount:25},{id:"tick_station",label:"Tick Station",cost:350,category:"community",icon:"",description:"Cedar-post station with mirror, tick-spray, tick removal tools and topicals, and tick-tubes",perk:"",requiredNode:"basic_trails",fundedCount:0,targetCount:12},{id:"dog_water_station",label:"Dog Water Station",cost:8e3,category:"community",icon:"",description:"Combined dog/human water station",perk:"",requiredNode:"water_well",fundedCount:0,targetCount:10},{id:"fire_ring",label:"Fire Pit",cost:5e3,category:"community",icon:"",description:"Stone-set fire pit, with wooden or rock seating. Includes maintaining a cut-back for fire-safety.",perk:"Host the inaugural fire",requiredNode:"basic_trails",fundedCount:0,targetCount:8},{id:"trail_bench",label:"Trail Rest Bench",cost:450,category:"community",icon:"",description:"Timber bench at scenic point.",perk:"Location choice and attribution plaque",requiredNode:"basic_trails",fundedCount:0,targetCount:20},{id:"bird_feeder",label:"Bird Feeder Station",cost:500,category:"sanctuary",icon:"",description:"Cedar multi-feeder post.",perk:"Attribution plaque",requiredNode:"basic_trails",fundedCount:0,targetCount:15},{id:"bat_house",label:"Bat House",cost:580,category:"sanctuary",icon:"",description:"Multi-chamber bat house.",perk:"Base plate inscription",requiredNode:"basic_trails",fundedCount:0,targetCount:10},{id:"apple_tree",label:"Fruit Tree Planting",cost:580,category:"legacy",icon:"",description:"Heritage fruit varieties",perk:"Name the tree + first pick",requiredNode:"basic_trails",fundedCount:0,targetCount:12}],Au=[{id:"utv_trailer",label:"UTV + Trailer",cost:18e3,category:"infrastructure",icon:"",description:"Utility vehicle with flatbed trailer for daily land management and material transport."},{id:"pickup_truck",label:"Pickup Truck",cost:35e3,category:"infrastructure",icon:"",description:"4x4 pickup for supply runs, staff transport, and emergency access."},{id:"snow_blower",label:"Snow Blower",cost:2800,category:"infrastructure",icon:"",description:"Commercial-grade snow blower for winter trail and access maintenance."},{id:"log_splitter",label:"Log Splitter",cost:1200,category:"infrastructure",icon:"",description:"Hydraulic log splitter for firewood program and land clearing operations."},{id:"chainsaw_kit",label:"Professional Chainsaw Kit",cost:1800,category:"infrastructure",icon:"",description:"Professional-grade chainsaw with safety gear for trail maintenance and forestry work."},{id:"trailer_utility",label:"Utility Trailer",cost:3200,category:"infrastructure",icon:"",description:"Heavy-duty utility trailer for equipment and material transport."},{id:"atv",label:"ATV",cost:9500,category:"infrastructure",icon:"",description:"All-terrain vehicle for rapid access to remote areas and emergency response."},{id:"generator",label:"Backup Generator",cost:4500,category:"infrastructure",icon:"",description:"Diesel backup generator for power outages and construction sites."}],Vg={land:{x:750,y:140},porta_potties:{x:750,y:280},perimeter_fence:{x:750,y:770},water_well:{x:750,y:420},power_solar:{x:750,y:490},access_road:{x:750,y:560},basic_trails:{x:750,y:840},master_waller_dwelling:{x:750,y:1190},sanctuary_core:{x:450,y:1120},vet_facility:{x:750,y:1330},communication_boards:{x:450,y:1330},dog_daycare:{x:300,y:700},matchmaking_walks:{x:450,y:1260},scent_system:{x:900,y:1470},scent_menu:{x:300,y:1820},animal_adoption:{x:450,y:1190},perimeter_wall:{x:600,y:700},hero_stones:{x:300,y:840},memorial_urn_stones:{x:300,y:1260},dutch_snackbar:{x:300,y:770},forest_dining:{x:300,y:1120},slow_table:{x:600,y:2100},gingerworks:{x:600,y:2170},repair_workshop:{x:600,y:2030},chapel:{x:1050,y:2030},extreme_fetch:{x:900,y:1260},aqua_fetch:{x:1350,y:1610},ice_rink:{x:1050,y:1190},skating_trails:{x:1050,y:1260},tunnel_network:{x:900,y:1190},mood_meadow:{x:900,y:1330},sound_pads:{x:900,y:1400},central_village:{x:750,y:1610},villas_phase1:{x:300,y:1610},villas_phase2:{x:300,y:2030},villas_phase3:{x:300,y:2100},kustom_kibble:{x:300,y:1680},artisan_housing:{x:750,y:2030},memory_lane_trail:{x:1350,y:1820},rfid_system:{x:1350,y:1750},water_channels:{x:1350,y:1890},tree_art:{x:600,y:630},firewood:{x:300,y:630},chaga_program:{x:300,y:980},transport_fleet:{x:450,y:2100},the_jewel:{x:1350,y:2100},null:{x:620,y:1500},node_mzsbyr5:{x:1050,y:770},node_coro4fa:{x:1050,y:630},node_ivc46ur:{x:900,y:560},node_6j8nnxz:{x:1050,y:560},node_nxnzzqr:{x:900,y:630},node_xy757nh:{x:1050,y:840},node_5rnby5e:{x:600,y:560},node_aaji5ku:{x:1050,y:980},node_pgm840u:{x:900,y:1120},node_0p03fw9:{x:1050,y:910},node_ijjcwty:{x:1050,y:700},node_37li943:{x:300,y:910},node_55rktrk:{x:300,y:1190},node_min2uja:{x:750,y:1120},node_b60pxf9:{x:750,y:630},node_8s8q8at:{x:300,y:560},node_22draly:{x:300,y:1330},node_rfaxsc3:{x:1050,y:1120},node_8k7m7qj:{x:1350,y:1680},node_wuyygx4:{x:300,y:1750},node_40jlnzf:{x:750,y:980},node_3m4u27z:{x:450,y:560},node_28axmgy:{x:450,y:630},node_5mltlag:{x:750,y:910},node_7cjvxjl:{x:1200,y:1120},node_938mdhr:{x:1200,y:1190},node_7aai9m0:{x:1200,y:2030},node_dlhwug3:{x:750,y:1260},node_k2vimcu:{x:750,y:700},node_nlp6pnm:{x:450,y:1610},node_e0ynnbc:{x:450,y:2030},node_6npt26r:{x:450,y:1400},node_uju2o5z:{x:450,y:1470},node_p7dxajh:{x:750,y:1400}},to={nodeStatuses:{land:"locked",porta_potties:"locked",perimeter_fence:"locked",water_well:"locked",power_solar:"locked",basic_trails:"locked",access_road:"locked",sanctuary_core:"locked",vet_facility:"locked",communication_boards:"locked",dog_daycare:"locked",matchmaking_walks:"locked",scent_system:"locked",scent_menu:"locked",animal_adoption:"locked",master_waller_dwelling:"locked",perimeter_wall:"locked",hero_stones:"locked",memorial_urn_stones:"locked",dutch_snackbar:"locked",forest_dining:"locked",slow_table:"locked",gingerworks:"locked",repair_workshop:"locked",chapel:"locked",extreme_fetch:"locked",aqua_fetch:"locked",ice_rink:"locked",skating_trails:"locked",tunnel_network:"locked",mood_meadow:"locked",sound_pads:"locked",central_village:"locked",villas_phase1:"locked",villas_phase2:"locked",villas_phase3:"locked",kustom_kibble:"locked",artisan_housing:"locked",memory_lane_trail:"locked",rfid_system:"locked",water_channels:"locked",tree_art:"locked",firewood:"locked",chaga_program:"locked",transport_fleet:"locked",the_jewel:"locked",node_mzsbyr5:"locked",node_coro4fa:"locked",node_ivc46ur:"locked",node_6j8nnxz:"locked",node_nxnzzqr:"locked",node_xy757nh:"locked",node_5rnby5e:"locked",node_aaji5ku:"locked",node_pgm840u:"locked",node_0p03fw9:"locked",node_ijjcwty:"locked",node_37li943:"locked",node_55rktrk:"locked",node_min2uja:"locked",node_b60pxf9:"locked",node_8s8q8at:"locked",node_22draly:"locked",node_rfaxsc3:"locked",node_8k7m7qj:"locked",node_wuyygx4:"locked",node_40jlnzf:"locked",node_3m4u27z:"locked",node_28axmgy:"locked",node_5mltlag:"locked",node_7cjvxjl:"locked",node_938mdhr:"locked",node_7aai9m0:"locked",node_dlhwug3:"locked",node_k2vimcu:"locked",node_nlp6pnm:"locked",node_e0ynnbc:"locked",node_6npt26r:"locked",node_uju2o5z:"locked",node_p7dxajh:"locked"},repeatableCounts:{picnic_bench:0,camping_pad:0,tick_station:0,dog_water_station:0,fire_ring:0,trail_bench:0,bird_feeder:0,blueberry_patch:0,bat_house:0,agility_jump:0,mushroom_log:0,apple_tree:0,stone_steps:0},oneTimeFunded:{utv_trailer:!1,pickup_truck:!1,snow_blower:!1,log_splitter:!1,chainsaw_kit:!1,trailer_utility:!1,atv:!1,generator:!1},generalFund:{balance:100,goal:5e5}},Gg=["Nodes","Edges","Repeatables","One-Times","Categories","General Fund"],Yg="doggerland";function Xg(){const[e,t]=x.useState(()=>{try{return sessionStorage.getItem("nd_admin")==="1"}catch{return!1}}),[n,r]=x.useState(""),[l,o]=x.useState(!1),s=()=>{if(n===Yg){try{sessionStorage.setItem("nd_admin","1")}catch{}t(!0)}else o(!0),r(""),setTimeout(()=>o(!1),1200)};return e?i.jsx(Qg,{}):i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#080e08",fontFamily:"system-ui,sans-serif"},children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"10px",letterSpacing:"0.35em",textTransform:"uppercase",marginBottom:"6px"},children:"New Doggerland"}),i.jsx("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"22px",letterSpacing:"0.05em",marginBottom:"28px"},children:"Admin"}),i.jsx("input",{type:"password",value:n,autoFocus:!0,onChange:u=>r(u.target.value),onKeyDown:u=>u.key==="Enter"&&s(),placeholder:"Password",style:{display:"block",width:"220px",padding:"10px 14px",marginBottom:"10px",background:l?"rgba(255,60,60,0.1)":"rgba(255,255,255,0.05)",border:`1px solid ${l?"rgba(255,80,80,0.6)":"rgba(255,255,255,0.15)"}`,borderRadius:"4px",color:"#F5EFE0",fontSize:"14px",fontFamily:"system-ui,sans-serif",outline:"none",textAlign:"center",transition:"border-color 0.2s, background 0.2s"}}),i.jsx("button",{onClick:s,style:{padding:"8px 28px",background:"rgba(196,168,130,0.1)",border:"1px solid rgba(196,168,130,0.4)",color:"#C4A882",borderRadius:"4px",cursor:"pointer",fontSize:"11px",letterSpacing:"0.15em",fontFamily:"system-ui,sans-serif"},children:"Enter"}),l&&i.jsx("div",{style:{color:"rgba(255,80,80,0.7)",fontSize:"9px",marginTop:"10px",letterSpacing:"0.1em"},children:"Incorrect password"})]})})}function Qg(){const[e,t]=x.useState(Iu),[n,r]=x.useState(Bu),[l,o]=x.useState(Au),[s,u]=x.useState(Jr),[c,h]=x.useState(Vg),[v,k]=x.useState(()=>to.nodeStatuses||Object.fromEntries(Iu.map(a=>[a.id,a.status]))),[g,F]=x.useState(()=>to.repeatableCounts||Object.fromEntries(Bu.map(a=>[a.id,a.fundedCount]))),[E,T]=x.useState(()=>to.oneTimeFunded||Object.fromEntries(Au.map(a=>[a.id,!1]))),[B,m]=x.useState(to.generalFund||{balance:12500,goal:5e5}),[d,f]=x.useState("Nodes"),[w,$]=x.useState(null),[z,I]=x.useState(null),[q,G]=x.useState("all"),[H,xe]=x.useState(!0),[tt,st]=x.useState(50),[we,te]=x.useState({}),[ge,Ge]=x.useState(null),P=x.useRef({}),ee=x.useRef({}),K=x.useRef(null),le=x.useRef(null),ne=x.useCallback(a=>{f("Nodes"),$(a),I(a),setTimeout(()=>{const y=P.current[a];y&&y.scrollIntoView({behavior:"smooth",block:"nearest"})},50)},[]),Me=x.useCallback((a,y)=>{f("Edges"),I(`edge:${a}-${y}`),setTimeout(()=>{const S=`${a}-${y}`,b=ee.current[S];b&&b.scrollIntoView({behavior:"smooth",block:"nearest"})},50)},[]),[fe,Pe]=x.useState(""),[gt,he]=x.useState(!1),[Bt,Rt]=x.useState(!0),[Bn,D]=x.useState(new Set),[Ye,Vt]=x.useState(null),[Gt,An]=x.useState(""),[Oe,pn]=x.useState(""),[$n,R]=x.useState(""),[C,N]=x.useState(""),[L,W]=x.useState(""),J=x.useMemo(()=>Object.fromEntries(e.map(a=>[a.id,a])),[e]),ae=x.useCallback((a,y)=>{const S={};a.forEach(O=>{const Y=y[O.id];Y&&(S[O.phase]||(S[O.phase]=[]),S[O.phase].push(Y.y))});const b=Object.keys(S).map(Number).sort((O,Y)=>O-Y);return b.slice(0,-1).map((O,Y)=>({fromPhase:O,toPhase:b[Y+1],y:Math.round((Math.max(...S[O])+Math.min(...S[b[Y+1]]))/2)}))},[]);x.useEffect(()=>{Ye===null&&Object.keys(c).length>0&&Vt(ae(e,c))},[Ye,c,e,ae]);const oe=x.useCallback(async(a,y,S,b,O,Y,je,V,re,p)=>{try{if(!window.storage)return;await window.storage.set("nd_state",JSON.stringify({nodeStatuses:a,repeatableCounts:y,oneTimeFunded:S,generalFund:b,positions:O})),await window.storage.set("nd_data",JSON.stringify({nodes:Y,repeatables:je,oneTimes:V,edgeNotes:re,phaseSeps:p}))}catch{}},[]),ke=x.useCallback(a=>{if(a.nodes&&t(a.nodes),a.repeatables&&r(a.repeatables),a.oneTimes&&o(a.oneTimes),a.categories&&u(a.categories),a.positions&&h(a.positions),a.edgeNotes&&te(a.edgeNotes),a.phaseSeps&&Vt(a.phaseSeps),a.state){const y=a.state;y.nodeStatuses&&k(y.nodeStatuses),y.repeatableCounts&&F(y.repeatableCounts),y.oneTimeFunded&&T(y.oneTimeFunded),y.generalFund&&m(y.generalFund)}},[]),Ae=x.useCallback(async()=>{try{if(!window.storage)return!1;const a=await window.storage.get("nd_state"),y=await window.storage.get("nd_data");if(!(a!=null&&a.value)&&!(y!=null&&y.value))return!1;if(a!=null&&a.value){const S=JSON.parse(a.value);S.nodeStatuses&&k(S.nodeStatuses),S.repeatableCounts&&F(S.repeatableCounts),S.generalFund&&m(S.generalFund),S.positions&&h(S.positions)}if(y!=null&&y.value){const S=JSON.parse(y.value);S.nodes&&t(S.nodes),S.repeatables&&r(S.repeatables),S.edgeNotes&&te(S.edgeNotes),S.phaseSeps&&Vt(S.phaseSeps)}return!0}catch{return!1}},[]);x.useEffect(()=>{(async()=>{try{const y=await Zd(`/tree/state.json?v=${Date.now()}`);le.current=y,ke(y);return}catch{}await Ae()||(le.current=null)})()},[]);const _e=x.useCallback(()=>{le.current&&(ke(le.current),he(!1))},[ke]);x.useEffect(()=>{const a=y=>{var S;if(y.key==="Escape"&&D(new Set),(y.ctrlKey||y.metaKey)&&y.key==="a"){const b=(S=document.activeElement)==null?void 0:S.tagName;if(b==="INPUT"||b==="TEXTAREA"||b==="SELECT")return;y.preventDefault(),D(new Set(e.map(O=>O.id)))}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]);const Xe=x.useCallback((a,y)=>{t(S=>S.map(b=>b.id===a?{...b,phase:y}:b)),he(!0)},[]),Z=x.useCallback(async()=>{await oe(v,g,E,B,c,e,n,l,we,Ye),Pe("Saved "),he(!1),setTimeout(()=>Pe(""),2e3)},[v,g,E,B,c,e,n,l,we,Ye,oe]),$e=x.useCallback(()=>{const a=new Date,y={version:1,nodes:e,repeatables:n,oneTimes:l,categories:s,state:{nodeStatuses:v,repeatableCounts:g,oneTimeFunded:E,generalFund:B},positions:c,edgeNotes:we,phaseSeps:Ye,exportedAt:a.toISOString()},S=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),b=document.createElement("a");b.href=URL.createObjectURL(S),b.download="state.json",b.click(),Ge(a)},[e,n,l,s,v,g,E,B,c,we,Ye]),Ie=(a,y,S)=>{t(b=>b.map(O=>O.id===a?{...O,[y]:S}:O)),y==="status"&&k(b=>({...b,[a]:S}))},Zt=()=>{const a=`node_${Di()}`,y={id:a,label:"New Node",category:"community",phase:1,cost:1e3,status:"locked",description:"",dependencies:[],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1};t(S=>[...S,y]),k(S=>({...S,[a]:"locked"})),h(S=>({...S,[a]:{x:700,y:500}})),$(a)},Ln=a=>{var y;window.confirm(`Delete "${(y=J[a])==null?void 0:y.label}"? All edges to/from it will also be removed.`)&&(t(S=>S.filter(b=>b.id!==a).map(b=>({...b,dependencies:b.dependencies.filter(O=>O!==a),unlocks:b.unlocks.filter(O=>O!==a)}))),k(S=>{const b={...S};return delete b[a],b}),h(S=>{const b={...S};return delete b[a],b}),w===a&&$(null))},Rl=a=>{const y=J[a];if(!y)return;const S=`node_${Di()}`,b=c[a]||{x:700,y:500},O={...y,id:S,label:y.label+" (copy)",dependencies:[],unlocks:[]};t(Y=>[...Y,O]),k(Y=>({...Y,[S]:v[a]||"locked"})),h(Y=>({...Y,[S]:{x:b.x+160,y:b.y}})),$(S),he(!0)},ni=a=>{const y=n[0]||l[0];y&&t(S=>S.map(b=>b.id===a?{...b,repeatableReqs:[...b.repeatableReqs||[],{repeatableId:y.id,minCount:1}]}:b))},On=(a,y,S,b)=>{t(O=>O.map(Y=>{if(Y.id!==a)return Y;const je=[...Y.repeatableReqs||[]];return je[y]={...je[y],[S]:S==="minCount"?parseInt(b)||1:b},{...Y,repeatableReqs:je}}))},Nr=(a,y)=>{t(S=>S.map(b=>b.id===a?{...b,repeatableReqs:(b.repeatableReqs||[]).filter((O,Y)=>Y!==y)}:b))};x.useCallback((a,y,S,b)=>{var re,p,j;const O=Object.fromEntries(b.map(_=>[_.id,_])),Y=new Set;[...((re=O[a])==null?void 0:re.dependencies)||[]];const V=[...(((p=O[a])==null?void 0:p.dependencies)||[]).filter(_=>S?_!==S:!0)];for(;V.length;){const _=V.shift();if(_===y)return!0;Y.has(_)||(Y.add(_),(((j=O[_])==null?void 0:j.dependencies)||[]).forEach(M=>V.push(M)))}return!1},[]);const Ir=x.useCallback((a,y)=>{const S=Object.fromEntries(a.map(V=>[V.id,V])),b=S[y];if(!b)return{nodes:a,removed:[]};const O=[];let Y=[...b.dependencies];return Y=Y.filter(V=>Y.filter(p=>p!==V).some(p=>{var M,U;const j=new Set,_=[...((M=S[p])==null?void 0:M.dependencies)||[]];for(;_.length;){const Q=_.shift();if(Q===V)return!0;j.has(Q)||(j.add(Q),(((U=S[Q])==null?void 0:U.dependencies)||[]).forEach(ce=>_.push(ce)))}return!1})?(O.push(V),!1):!0),{nodes:a.map(V=>V.id===y?{...V,dependencies:Y}:O.includes(V.id)?{...V,unlocks:V.unlocks.filter(re=>re!==y)}:V),removed:O}},[]),zl=()=>{var a;!C||!L||C===L||(a=J[L])!=null&&a.dependencies.includes(C)||t(y=>{const S=y.map(Y=>Y.id===L?{...Y,dependencies:[...Y.dependencies,C]}:Y.id===C?{...Y,unlocks:[...Y.unlocks,L]}:Y),{nodes:b,removed:O}=Ir(S,L);if(O.length>0){const Y=Object.fromEntries(S.map(V=>[V.id,V])),je=O.map(V=>{var re;return((re=Y[V])==null?void 0:re.label)||V}).join(", ");setTimeout(()=>{R(` Removed redundant dep on "${je}" - already implied transitively.`),setTimeout(()=>R(""),4e3)},50)}return b})},ri=(a,y)=>{t(S=>S.map(b=>b.id===y?{...b,dependencies:b.dependencies.filter(O=>O!==a)}:b.id===a?{...b,unlocks:b.unlocks.filter(O=>O!==y)}:b))},li=()=>{if(!Gt||!Oe)return;const[a,y]=Gt.split("|");!a||!y||Oe===a||Oe===y||t(S=>{var _,M,U;let b=S.map(Q=>Q.id===y?{...Q,dependencies:Q.dependencies.filter(ce=>ce!==a),unlocks:Q.unlocks}:Q.id===a?{...Q,unlocks:Q.unlocks.filter(ce=>ce!==y)}:Q);b=b.map(Q=>Q.id===Oe?{...Q,dependencies:[...new Set([...Q.dependencies,a])]}:Q.id===a?{...Q,unlocks:[...new Set([...Q.unlocks,Oe])]}:Q),b=b.map(Q=>Q.id===y?{...Q,dependencies:[...new Set([...Q.dependencies,Oe])]}:Q.id===Oe?{...Q,unlocks:[...new Set([...Q.unlocks,y])]}:Q);const{nodes:O,removed:Y}=Ir(b,y),je=Object.fromEntries(S.map(Q=>[Q.id,Q])),V=((_=je[Oe])==null?void 0:_.label)||Oe,re=((M=je[a])==null?void 0:M.label)||a,p=((U=je[y])==null?void 0:U.label)||y,j=Y.length>0?` Removed redundant dep on "${Y.map(Q=>{var ce;return((ce=je[Q])==null?void 0:ce.label)||Q}).join(", ")}".`:"";return setTimeout(()=>{R(` Inserted "${V}" between "${re}" and "${p}".${j}`),setTimeout(()=>R(""),5e3)},50),An(""),pn(""),O})},rr=x.useMemo(()=>{const a=[];return e.forEach(y=>y.dependencies.forEach(S=>{J[S]&&a.push({fromId:S,fromLabel:J[S].label,toId:y.id,toLabel:y.label})})),a},[e,J]),Br=()=>{const a=`rep_${Di()}`;r(y=>{var S;return[...y,{id:a,label:"New Item",cost:500,category:"community",icon:"",description:"",perk:"",requiredNode:((S=e[0])==null?void 0:S.id)||"",fundedCount:0,targetCount:10}]}),F(y=>({...y,[a]:0}))},Ue=(a,y,S)=>r(b=>b.map(O=>O.id===a?{...O,[y]:S}:O)),en=a=>{window.confirm("Delete this item?")&&r(y=>y.filter(S=>S.id!==a))},oi="#C4A882",be={background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.14)",color:"#F5EFE0",padding:"4px 8px",borderRadius:"3px",fontSize:"11px",fontFamily:"system-ui,sans-serif",width:"100%",boxSizing:"border-box"},Qe={background:"#0a140a",border:"1px solid rgba(255,255,255,0.14)",color:"#F5EFE0",padding:"3px 6px",borderRadius:"3px",fontSize:"10px",fontFamily:"system-ui,sans-serif"},ue={color:"rgba(255,255,255,0.38)",fontSize:"7.5px",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"3px",display:"block"},De=(a="#C4A882")=>({padding:"4px 10px",background:`${a}18`,border:`1px solid ${a}55`,color:a,borderRadius:"3px",cursor:"pointer",fontSize:"9px",letterSpacing:"0.1em",fontFamily:"system-ui,sans-serif"}),Ar=Math.min(1,B.balance/B.goal);return i.jsxs("div",{style:{display:"flex",height:"100vh",background:"#080e08",fontFamily:"system-ui,sans-serif",color:"#F5EFE0",overflow:"hidden"},children:[i.jsxs("div",{style:{width:520,minWidth:520,display:"flex",flexDirection:"column",borderRight:"1px solid rgba(255,255,255,0.08)",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"12px 16px 10px",borderBottom:"1px solid rgba(255,255,255,0.08)",background:"rgba(0,0,0,0.35)",flexShrink:0},children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.3em",textTransform:"uppercase",marginBottom:"2px"},children:"New Doggerland  Admin"}),i.jsx("div",{style:{color:"#F5EFE0",fontSize:"15px",letterSpacing:"0.05em",marginBottom:"8px"},children:"Skill Tree Management"}),i.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:Z,style:De(fe?"#7FFF7F":gt?"#FFAA44":oi),children:fe||(gt?"Save State ":"Save State")}),i.jsx("button",{onClick:$e,style:De("#7B5EA7"),children:"Export state.json "}),i.jsx("button",{onClick:()=>{const y=window.location.href.replace(/#\/admin.*$/,"#/");window.open(y,"_blank","noopener,noreferrer")},style:De("#C4A882"),children:"See Public Version "}),ge&&i.jsxs("span",{style:{color:"rgba(255,255,255,0.28)",fontSize:"8px",alignSelf:"center"},children:["exported ",ge.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),i.jsx("button",{onClick:()=>{h(Wg(e)),he(!0)},style:De("#2F7B8C"),children:"Auto Layout"}),i.jsx("button",{onClick:()=>{h(S=>{const b={};return Object.entries(S).forEach(([O,Y])=>{b[O]={x:Math.round(Y.x/150)*150,y:Math.round(Y.y/70)*70}}),b}),he(!0)},style:De("#5A7B3F"),children:"Snap All to Grid"}),i.jsx("button",{onClick:_e,disabled:!le.current,style:{...De("#8B7355"),opacity:le.current?1:.38,cursor:le.current?"pointer":"not-allowed"},title:le.current?"Revert all state to the loaded state.json":"No state.json loaded",children:"Reset to JSON"})]})]}),i.jsx("div",{style:{display:"flex",borderBottom:"1px solid rgba(255,255,255,0.07)",background:"rgba(0,0,0,0.2)",flexShrink:0},children:Gg.map(a=>i.jsx("button",{onClick:()=>f(a),style:{padding:"8px 13px",fontSize:"9.5px",letterSpacing:"0.08em",cursor:"pointer",border:"none",fontFamily:"system-ui,sans-serif",background:d===a?"rgba(196,168,130,0.1)":"transparent",color:d===a?"#C4A882":"rgba(255,255,255,0.32)",borderBottom:d===a?"2px solid #C4A882":"2px solid transparent"},children:a},a))}),i.jsxs("div",{ref:K,style:{flex:1,overflowY:"auto",padding:"10px 12px"},children:[d==="Nodes"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",gap:"6px"},children:[i.jsx("div",{style:{display:"flex",gap:"4px"},children:["all","0","1","2","3","4"].map(a=>i.jsx("button",{onClick:()=>G(a),style:{padding:"2px 7px",fontSize:"8.5px",border:`1px solid ${q===a?"#C4A882":"rgba(255,255,255,0.12)"}`,borderRadius:"3px",background:q===a?"rgba(196,168,130,0.15)":"transparent",color:q===a?"#C4A882":"rgba(255,255,255,0.35)",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:a==="all"?"All":`P${a}`},a))}),i.jsx("button",{onClick:Zt,style:De("#4A7C59"),children:"+ Add Node"})]}),[...e].filter(a=>q==="all"||String(a.phase)===q).sort((a,y)=>a.phase-y.phase||(a.cost??0)-(y.cost??0)).map(a=>{const y=s[a.category]||s.community||Jr.community,S=w===a.id;return i.jsxs("div",{ref:b=>P.current[a.id]=b,style:{marginBottom:"3px",border:`1px solid ${S?y.color:"rgba(255,255,255,0.07)"}`,borderRadius:"4px",overflow:"hidden"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",cursor:"pointer",background:S?"rgba(255,255,255,0.03)":"transparent"},onClick:()=>$(S?null:a.id),children:[i.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:y.color,flexShrink:0}}),i.jsx("span",{style:{flex:1,fontSize:"11px"},children:a.label}),i.jsx("span",{style:{fontSize:"9px",color:"rgba(255,255,255,0.3)"},children:eo(a.cost)}),i.jsx("span",{style:{fontSize:"8px",padding:"1px 6px",borderRadius:"8px",background:(mn[v[a.id]]||mn.locked).bg,color:(mn[v[a.id]]||mn.locked).color},children:(mn[v[a.id]]||mn.locked).label}),i.jsx("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"9px"},children:S?"":""})]}),S&&i.jsxs("div",{style:{padding:"10px 10px",borderTop:"1px solid rgba(255,255,255,0.06)",background:"rgba(0,0,0,0.18)"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"8px"},children:[i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Label"}),i.jsx("input",{style:be,value:a.label,onChange:b=>Ie(a.id,"label",b.target.value)})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Status"}),i.jsx("select",{style:{...Qe,width:"100%"},value:v[a.id],onChange:b=>Ie(a.id,"status",b.target.value),children:qg.map(b=>i.jsx("option",{value:b,children:(mn[b]||mn.locked).label},b))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Category"}),i.jsx("select",{style:{...Qe,width:"100%"},value:a.category,onChange:b=>Ie(a.id,"category",b.target.value),children:Object.entries(s).map(([b,O])=>i.jsx("option",{value:b,children:O.label},b))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Phase"}),i.jsx("input",{style:be,type:"number",value:a.phase,onChange:b=>Ie(a.id,"phase",parseInt(b.target.value)||0)})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Cost ($)"}),i.jsx("input",{style:be,type:"number",value:a.cost??"",placeholder:"blank = no cost",onChange:b=>Ie(a.id,"cost",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Cost Monthly ($/mo)"}),i.jsx("input",{style:be,type:"number",value:a.costMonthly??"",placeholder:"recurring",onChange:b=>Ie(a.id,"costMonthly",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Cost Yearly ($/yr)"}),i.jsx("input",{style:be,type:"number",value:a.costYearly??"",placeholder:"annual",onChange:b=>Ie(a.id,"costYearly",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Min Projected Income ($/yr)"}),i.jsx("input",{style:be,type:"number",value:a.minProjectedIncome??"",placeholder:"none",onChange:b=>Ie(a.id,"minProjectedIncome",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[i.jsx("input",{type:"checkbox",checked:a.emphasis||!1,onChange:b=>Ie(a.id,"emphasis",b.target.checked)}),i.jsx("span",{style:{...ue,marginBottom:0},children:"Emphasize (highlight)"})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"General Fund Min ($)"}),i.jsx("input",{style:be,type:"number",value:a.generalFundMin??"",placeholder:"none",onChange:b=>Ie(a.id,"generalFundMin",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Income Min ($/yr)"}),i.jsx("input",{style:be,type:"number",value:a.incomeMin??"",placeholder:"none",onChange:b=>Ie(a.id,"incomeMin",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Income Max ($/yr)"}),i.jsx("input",{style:be,type:"number",value:a.incomeMax??"",placeholder:"none",onChange:b=>Ie(a.id,"incomeMax",b.target.value===""?null:Number(b.target.value))})]})]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("span",{style:ue,children:"Description"}),i.jsx("textarea",{style:{...be,height:46,resize:"vertical"},value:a.description,onChange:b=>Ie(a.id,"description",b.target.value)})]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("span",{style:ue,children:"Donor incentive"}),i.jsx("input",{style:be,value:a.perk||"",onChange:b=>Ie(a.id,"perk",b.target.value),placeholder:"e.g. Your family name on the cornerstone"})]}),i.jsxs("div",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"checkbox",id:`pe-${a.id}`,checked:!!a.phaseEssential,onChange:b=>Ie(a.id,"phaseEssential",b.target.checked),style:{accentColor:"#C4A882",cursor:"pointer"}}),i.jsx("label",{htmlFor:`pe-${a.id}`,style:{color:"rgba(255,255,255,0.55)",fontSize:"9px",cursor:"pointer",letterSpacing:"0.08em"},children:"Phase-progression essential - next phase locked until this is funded"})]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[i.jsx("span",{style:ue,children:"Sponsor Item Requirements"}),i.jsx("button",{onClick:()=>ni(a.id),style:{...De("#2F7B8C"),fontSize:"8px",padding:"2px 7px"},children:"+ Add"})]}),(a.repeatableReqs||[]).map((b,O)=>i.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",marginBottom:"4px"},children:[i.jsxs("select",{style:{...Qe,flex:1},value:b.repeatableId,onChange:Y=>On(a.id,O,"repeatableId",Y.target.value),children:[n.length>0&&i.jsx("optgroup",{label:"Named Sponsorships",children:n.map(Y=>i.jsx("option",{value:Y.id,children:Y.label},Y.id))}),l.length>0&&i.jsx("optgroup",{label:"One-Time Equipment",children:l.map(Y=>i.jsx("option",{value:Y.id,children:Y.label},Y.id))})]}),i.jsx("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"9px",flexShrink:0},children:"min"}),i.jsx("input",{type:"number",style:{...be,width:50},value:b.minCount,onChange:Y=>On(a.id,O,"minCount",Y.target.value)}),i.jsx("button",{onClick:()=>Nr(a.id,O),style:{color:"rgba(255,80,80,0.7)",background:"none",border:"none",cursor:"pointer",fontSize:"15px",lineHeight:1,flexShrink:0},children:""})]},O)),(a.repeatableReqs||[]).length===0&&i.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"9px"},children:"None - add item count requirements here"})]}),i.jsxs("div",{style:{paddingTop:"6px",borderTop:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"8px"},children:["ID: ",a.id]}),i.jsxs("div",{style:{display:"flex",gap:"6px"},children:[i.jsx("button",{onClick:()=>Rl(a.id),style:De("#2F7B8C"),children:"Duplicate"}),i.jsx("button",{onClick:()=>Ln(a.id),style:De("rgba(255,80,80,0.8)"),children:"Delete"})]})]})]})]},a.id)})]}),d==="Edges"&&i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"8px"},children:"Add Edge"}),i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px",marginBottom:"8px"},children:"Item on the left depends on item on the right to be built/funded first"}),i.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginBottom:"14px",flexWrap:"wrap"},children:[i.jsxs("select",{style:{...Qe,flex:1},value:L,onChange:a=>W(a.target.value),children:[i.jsx("option",{value:"",children:"This item"}),[...e].sort((a,y)=>a.label.localeCompare(y.label)).map(a=>i.jsx("option",{value:a.id,children:a.label},a.id))]}),i.jsx("span",{style:{color:"rgba(255,200,80,0.5)",fontSize:"11px",flexShrink:0},children:"depends on"}),i.jsxs("select",{style:{...Qe,flex:1},value:C,onChange:a=>N(a.target.value),children:[i.jsx("option",{value:"",children:"This prerequisite"}),[...e].filter(a=>a.id!==L).sort((a,y)=>a.label.localeCompare(y.label)).map(a=>i.jsx("option",{value:a.id,children:a.label},a.id))]}),i.jsx("button",{onClick:zl,style:De("#4A7C59"),children:"Add"})]}),$n&&i.jsx("div",{style:{marginBottom:"10px",padding:"6px 9px",background:"rgba(255,200,80,0.07)",border:"1px solid rgba(255,200,80,0.25)",borderRadius:"3px",color:"rgba(255,200,80,0.85)",fontSize:"9px",lineHeight:1.5},children:$n}),i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"6px",marginTop:"16px"},children:"Insert Between"}),i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px",marginBottom:"8px"},children:"Pick an existing edge, then pick the node to splice in. The original edge is replaced by two new ones."}),i.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginBottom:"14px",flexWrap:"wrap"},children:[i.jsxs("select",{style:{...Qe,flex:2},value:Gt,onChange:a=>An(a.target.value),children:[i.jsx("option",{value:"",children:"Existing edge"}),[...rr].sort((a,y)=>a.toLabel.localeCompare(y.toLabel)).map(a=>i.jsxs("option",{value:`${a.fromId}|${a.toId}`,children:[a.toLabel,"  ",a.fromLabel]},`${a.fromId}|${a.toId}`))]}),i.jsx("span",{style:{color:"rgba(255,200,80,0.5)",fontSize:"11px",flexShrink:0},children:"insert"}),i.jsxs("select",{style:{...Qe,flex:2},value:Oe,onChange:a=>pn(a.target.value),children:[i.jsx("option",{value:"",children:"Node to splice in"}),[...e].filter(a=>{if(!Gt)return!0;const[y,S]=Gt.split("|");return a.id!==y&&a.id!==S}).sort((a,y)=>a.label.localeCompare(y.label)).map(a=>i.jsx("option",{value:a.id,children:a.label},a.id))]}),i.jsx("button",{onClick:li,style:De("#7B5EA7"),children:"Insert"})]}),i.jsxs("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"6px"},children:["All Edges (",rr.length,")"]}),i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px",marginBottom:"8px"},children:"Left item requires right item to be built/funded first"}),rr.map((a,y)=>{const S=z===`edge:${a.fromId}-${a.toId}`,b=`${a.fromId}|${a.toId}`,O=we[b]||"",Y=[...e].sort((V,re)=>V.label.localeCompare(re.label)),je=(V,re)=>{if(!re||re===(V==="to"?a.toId:a.fromId))return;const p=V==="from"?re:a.fromId,j=V==="to"?re:a.toId;if(p===j)return;t(M=>M.map(U=>U.id===a.toId?{...U,dependencies:U.dependencies.filter(Q=>Q!==a.fromId)}:U)),setTimeout(()=>t(M=>M.map(U=>U.id===j&&!U.dependencies.includes(p)?{...U,dependencies:[...U.dependencies,p]}:U)),10);const _=`${p}|${j}`;O&&te(M=>{const U={...M};return delete U[b],U[_]=O,U}),he(!0)};return i.jsxs("div",{ref:V=>ee.current[`${a.fromId}-${a.toId}`]=V,style:{marginBottom:"3px",background:S?"rgba(255,215,0,0.07)":"rgba(255,255,255,0.015)",border:S?"1px solid rgba(255,215,0,0.3)":"1px solid rgba(255,255,255,0.05)",borderRadius:"3px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"5px 8px"},children:[i.jsx("select",{style:{...Qe,flex:"1 1 0",minWidth:0},value:a.toId,onChange:V=>je("to",V.target.value),children:Y.map(V=>i.jsx("option",{value:V.id,children:V.label},V.id))}),i.jsx("span",{style:{color:"rgba(255,200,80,0.45)",fontSize:"8px",flexShrink:0,whiteSpace:"nowrap"},children:" needs"}),i.jsx("select",{style:{...Qe,flex:"1 1 0",minWidth:0},value:a.fromId,onChange:V=>je("from",V.target.value),children:Y.filter(V=>V.id!==a.toId).map(V=>i.jsx("option",{value:V.id,children:V.label},V.id))}),i.jsx("button",{onClick:()=>{t(re=>re.map(p=>p.id===a.toId?{...p,dependencies:p.dependencies.filter(j=>j!==a.fromId)}:p.id===a.fromId?{...p,dependencies:[...p.dependencies,a.toId]}:p));const V=`${a.toId}|${a.fromId}`;O&&te(re=>{const p={...re};return delete p[b],p[V]=O,p}),he(!0)},style:{color:"rgba(136,204,255,0.85)",background:"rgba(136,204,255,0.08)",border:"1px solid rgba(136,204,255,0.35)",borderRadius:"3px",cursor:"pointer",fontSize:"12px",padding:"2px 7px",flexShrink:0,fontFamily:"system-ui",lineHeight:1.2},title:"Swap direction",children:""}),i.jsx("button",{onClick:()=>ri(a.fromId,a.toId),style:{color:"rgba(255,80,80,0.85)",background:"rgba(255,80,80,0.08)",border:"1px solid rgba(255,80,80,0.3)",borderRadius:"3px",cursor:"pointer",fontSize:"13px",lineHeight:1,padding:"2px 7px",flexShrink:0},title:"Delete edge",children:""})]}),i.jsx("div",{style:{padding:"0 8px 6px"},children:i.jsx("input",{style:{...be,fontSize:"8.5px",color:"rgba(255,255,255,0.5)",fontStyle:O?"normal":"italic"},value:O,placeholder:"Rationale (optional)",onChange:V=>te(re=>({...re,[b]:V.target.value}))})})]},`${a.fromId}-${a.toId}`)})]}),d==="Repeatables"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[i.jsxs("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"9.5px"},children:[n.length," items"]}),i.jsx("button",{onClick:Br,style:De("#4A7C59"),children:"+ Add Item"})]}),n.map(a=>(s[a.category]||s.community||Jr.community,i.jsxs("div",{style:{marginBottom:"6px",border:"1px solid rgba(255,255,255,0.07)",borderRadius:"4px"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 22px",gap:"6px",alignItems:"center",padding:"7px 9px 4px",background:"rgba(255,255,255,0.02)",borderRadius:"4px 4px 0 0"},children:[i.jsxs("div",{children:[i.jsx("input",{style:{...be,marginBottom:"3px"},value:a.label,onChange:y=>Ue(a.id,"label",y.target.value),placeholder:"Label"}),i.jsx("select",{style:{...Qe,width:"100%",fontSize:"9px"},value:a.requiredNode,onChange:y=>Ue(a.id,"requiredNode",y.target.value),children:e.map(y=>i.jsx("option",{value:y.id,children:y.label.slice(0,28)},y.id))})]}),i.jsx("button",{onClick:()=>en(a.id),style:{color:"rgba(255,80,80,0.6)",background:"none",border:"none",cursor:"pointer",fontSize:"16px",alignSelf:"start",paddingTop:"2px"},children:""})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"6px",padding:"4px 9px 6px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Cost $"}),i.jsx("input",{style:be,type:"number",value:a.cost,onChange:y=>Ue(a.id,"cost",Number(y.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Category"}),i.jsx("select",{style:{...Qe,width:"100%"},value:a.category,onChange:y=>Ue(a.id,"category",y.target.value),children:Object.keys(s).map(y=>i.jsx("option",{value:y,children:y},y))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Funded"}),i.jsx("input",{style:be,type:"number",value:g[a.id]||0,onChange:y=>F(S=>({...S,[a.id]:parseInt(y.target.value)||0}))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Target (max)"}),i.jsx("input",{style:be,type:"number",value:a.targetCount??"",placeholder:"",onChange:y=>Ue(a.id,"targetCount",y.target.value===""?null:parseInt(y.target.value)||1)})]})]}),i.jsxs("div",{style:{padding:"6px 9px 8px",background:"rgba(0,0,0,0.15)",borderRadius:"0 0 4px 4px"},children:[i.jsx("span",{style:ue,children:"Item description"}),i.jsx("textarea",{style:{...be,height:38,resize:"none",marginBottom:"6px",fontSize:"9.5px"},value:a.description,onChange:y=>Ue(a.id,"description",y.target.value),placeholder:"What is this item and where does it go?"}),i.jsx("span",{style:ue,children:"Donor incentive"}),i.jsx("input",{style:{...be,fontSize:"9.5px"},value:a.perk,onChange:y=>Ue(a.id,"perk",y.target.value),placeholder:"e.g. First to sit at this bench"})]})]},a.id)))]}),d==="One-Times"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[i.jsxs("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"9.5px"},children:[l.length," items"]}),i.jsx("button",{onClick:()=>{const a=`onetime_${Date.now()}`;o(y=>[...y,{id:a,label:"New One-Time Item",cost:1e4,category:"infrastructure",icon:"",description:""}]),he(!0)},style:De("#4A7C59"),children:"+ Add Item"})]}),l.map(a=>{s[a.category]||s.community||Jr.community;const y=E[a.id]||!1;return i.jsxs("div",{style:{marginBottom:"6px",border:"1px solid rgba(255,255,255,0.07)",borderRadius:"4px"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 22px",gap:"6px",alignItems:"center",padding:"7px 9px 4px",background:"rgba(255,255,255,0.02)",borderRadius:"4px 4px 0 0"},children:[i.jsx("input",{style:{...be},value:a.label,onChange:S=>{o(b=>b.map(O=>O.id===a.id?{...O,label:S.target.value}:O)),he(!0)},placeholder:"Label"}),i.jsx("button",{onClick:()=>{confirm(`Delete "${a.label}"?`)&&(o(S=>S.filter(b=>b.id!==a.id)),he(!0))},style:{color:"rgba(255,80,80,0.6)",background:"none",border:"none",cursor:"pointer",fontSize:"16px",alignSelf:"start",paddingTop:"2px"},children:""})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"6px",padding:"4px 9px 6px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Cost $"}),i.jsx("input",{style:be,type:"number",value:a.cost,onChange:S=>{o(b=>b.map(O=>O.id===a.id?{...O,cost:Number(S.target.value)}:O)),he(!0)}})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Category"}),i.jsx("select",{style:{...Qe,width:"100%"},value:a.category,onChange:S=>{o(b=>b.map(O=>O.id===a.id?{...O,category:S.target.value}:O)),he(!0)},children:Object.keys(s).map(S=>i.jsx("option",{value:S,children:S},S))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Funded"}),i.jsx("button",{onClick:()=>{T(S=>({...S,[a.id]:!y})),he(!0)},style:{...De(y?"#4ABB4A":"#555"),padding:"2px 6px",width:"100%",fontSize:"8px"},children:y?" YES":"NO"})]})]}),i.jsxs("div",{style:{padding:"6px 9px 8px",background:"rgba(0,0,0,0.15)",borderRadius:"0 0 4px 4px"},children:[i.jsx("span",{style:ue,children:"Description"}),i.jsx("textarea",{style:{...be,height:38,resize:"none",fontSize:"9.5px"},value:a.description,onChange:S=>{o(b=>b.map(O=>O.id===a.id?{...O,description:S.target.value}:O)),he(!0)},placeholder:"What is this item for?"})]})]},a.id)})]}),d==="Categories"&&i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"10px"},children:"Manage Categories & Column Order"}),i.jsx("div",{style:{marginBottom:"12px",color:"rgba(255,255,255,0.4)",fontSize:"8px"},children:"Category order determines column order left-to-right. Infrastructure is pinned center. Use arrows to reorder others."}),Object.entries(s).sort(([,a],[,y])=>(a.order??999)-(y.order??999)).map(([a,y])=>{const S=a==="infrastructure",b=Object.entries(s).filter(([V])=>V!=="infrastructure").sort(([,V],[,re])=>(V.order??999)-(re.order??999)),O=b.findIndex(([V])=>V===a),Y=!S&&O>0,je=!S&&O<b.length-1;return i.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px",padding:"8px",background:S?"rgba(139,115,85,0.1)":"rgba(255,255,255,0.03)",borderRadius:"4px",border:`1px solid ${y.color}${S?"66":"33"}`},children:[S?i.jsx("div",{style:{width:28,display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)",fontSize:"9px",fontWeight:"bold"},children:""}):i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[i.jsx("button",{onClick:()=>{if(!Y)return;const[V]=b[O-1];u(re=>({...re,[a]:{...re[a],order:re[V].order},[V]:{...re[V],order:re[a].order}})),he(!0)},disabled:!Y,style:{background:"none",border:"none",color:Y?"rgba(255,255,255,0.6)":"rgba(255,255,255,0.15)",cursor:Y?"pointer":"default",fontSize:"10px",padding:"0",lineHeight:1},children:""}),i.jsx("button",{onClick:()=>{if(!je)return;const[V]=b[O+1];u(re=>({...re,[a]:{...re[a],order:re[V].order},[V]:{...re[V],order:re[a].order}})),he(!0)},disabled:!je,style:{background:"none",border:"none",color:je?"rgba(255,255,255,0.6)":"rgba(255,255,255,0.15)",cursor:je?"pointer":"default",fontSize:"10px",padding:"0",lineHeight:1},children:""})]}),i.jsx("div",{style:{color:S?"rgba(255,255,255,0.25)":"rgba(255,255,255,0.4)",fontSize:"9px",minWidth:20,textAlign:"center"},children:S?"":(y.order??999)+1}),i.jsx("div",{style:{width:20,height:20,background:y.color,borderRadius:"3px",flexShrink:0}}),i.jsx("div",{style:{flex:1},children:i.jsx("input",{style:{...be,marginBottom:0},value:y.label,placeholder:"Category label",onChange:V=>{u(re=>({...re,[a]:{...re[a],label:V.target.value}})),he(!0)}})}),i.jsx("input",{type:"color",value:y.color,style:{width:40,height:28,border:"none",background:"transparent",cursor:"pointer"},onChange:V=>{u(re=>({...re,[a]:{...re[a],color:V.target.value}})),he(!0)}}),i.jsxs("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px",minWidth:60},children:[e.filter(V=>V.category===a).length," nodes"]}),a!=="start"&&i.jsx("button",{onClick:()=>{confirm(`Remove category "${y.label}"? Nodes will keep this category key but won't display properly until reassigned.`)&&(u(V=>{const re={...V};return delete re[a],re}),he(!0))},style:{...De("#8B4A2F"),padding:"4px 8px",fontSize:"8px"},children:"Remove"})]},a)}),i.jsx("button",{onClick:()=>{const a=`cat_${Date.now()}`,y=Math.max(...Object.values(s).map(S=>S.order),-1);u(S=>({...S,[a]:{label:"New Category",color:"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),order:y+1}})),he(!0)},style:{...De("#4ABB4A"),marginTop:"8px"},children:"+ Add Category"})]}),d==="General Fund"&&i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"10px"},children:"Fund Status"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"14px"},children:[i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Current Balance ($)"}),i.jsx("input",{style:be,type:"number",value:B.balance,onChange:a=>m(y=>({...y,balance:Number(a.target.value)}))})]}),i.jsxs("div",{children:[i.jsx("span",{style:ue,children:"Goal ($)"}),i.jsx("input",{style:be,type:"number",value:B.goal,onChange:a=>m(y=>({...y,goal:Number(a.target.value)}))})]})]}),i.jsx("div",{style:{height:10,background:"rgba(255,255,255,0.07)",borderRadius:"5px",overflow:"hidden",marginBottom:"6px"},children:i.jsx("div",{style:{height:"100%",width:`${Ar*100}%`,background:"linear-gradient(90deg,#4ABB4A,#7FFF7F)",borderRadius:"5px",transition:"width .4s"}})}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[i.jsx("span",{style:{color:"#7FFF7F",fontSize:"10px"},children:eo(B.balance)}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"9px"},children:[Math.round(Ar*100),"% of ",eo(B.goal)]})]}),i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"8px"},children:"Nodes with Fund Requirements"}),e.filter(a=>a.generalFundMin).map(a=>{const y=B.balance>=a.generalFundMin;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"6px 8px",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[i.jsx("span",{style:{flex:1,fontSize:"10.5px",color:"rgba(255,255,255,0.58)"},children:a.label}),i.jsx("span",{style:{fontSize:"10px",color:y?"#7FFF7F":"rgba(255,200,80,0.85)",fontWeight:"bold"},children:eo(a.generalFundMin)}),i.jsx("span",{style:{fontSize:"9px",color:y?"rgba(127,255,127,0.5)":"rgba(255,200,80,0.4)"},children:y?" met":"not yet"})]},a.id)}),e.filter(a=>a.generalFundMin).length===0&&i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"10px"},children:"No nodes have fund requirements. Edit a node and set a General Fund Min."})]})]})]}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"9px 14px",borderBottom:"1px solid rgba(255,255,255,0.07)",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase"},children:"Position Editor"}),i.jsxs("button",{onClick:()=>Rt(a=>!a),style:{padding:"2px 8px",fontSize:"7.5px",border:`1px solid ${Bt?"rgba(196,168,130,0.4)":"rgba(255,255,255,0.12)"}`,borderRadius:"3px",background:Bt?"rgba(196,168,130,0.1)":"transparent",color:Bt?"#C4A882":"rgba(255,255,255,0.3)",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:["Phase lines ",Bt?"on":"off"]}),i.jsxs("button",{onClick:()=>xe(a=>!a),style:{padding:"2px 8px",fontSize:"7.5px",border:`1px solid ${H?"rgba(74,187,74,0.4)":"rgba(255,255,255,0.12)"}`,borderRadius:"3px",background:H?"rgba(74,187,74,0.1)":"transparent",color:H?"#4ABB4A":"rgba(255,255,255,0.3)",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:[H?"":""," Grid + Columns"]}),Bt&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{const a=Ye||[],y=a.length>0?Math.max(...a.map(O=>Math.max(O.fromPhase,O.toPhase)),0):0,S=a.length>0?a[a.length-1]:null,b=S?S.y+140:300;Vt(O=>[...O||[],{fromPhase:y+1,toPhase:y+2,y:b}]),he(!0)},style:{padding:"2px 8px",fontSize:"7.5px",border:"1px solid rgba(74,187,74,0.4)",borderRadius:"3px",background:"rgba(74,187,74,0.1)",color:"#4ABB4A",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:"+ Phase line"}),Ye&&Ye.length>0&&i.jsx("button",{onClick:()=>{confirm(`Remove the last phase line (Phase ${Ye[Ye.length-1].toPhase})?

This will affect node phase assignments.`)&&(Vt(a=>(a||[]).slice(0,-1)),he(!0))},style:{padding:"2px 8px",fontSize:"7.5px",border:"1px solid rgba(255,100,80,0.4)",borderRadius:"3px",background:"rgba(255,100,80,0.1)",color:"#FF6450",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:" Remove last"})]}),Bn.size>1&&i.jsxs("span",{style:{color:"rgba(136,204,255,0.7)",fontSize:"7.5px",letterSpacing:"0.08em"},children:[Bn.size," selected - drag any to move group"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[gt&&i.jsx("span",{style:{color:"rgba(255,200,80,0.8)",fontSize:"8px",letterSpacing:"0.08em"},children:" unsaved positions"}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8.5px"},children:[e.length," nodes  ",rr.length," edges  ",n.length," sponsor items"]})]})]}),i.jsx("div",{style:{flex:1,overflow:"hidden",padding:"8px"},children:i.jsx(Hg,{nodes:e,nodeStatuses:v,positions:c,onPositionsChange:a=>{h(a),he(!0)},onNodeSelect:ne,onEdgeSelect:Me,selectedId:z,showPhaseSep:Bt,phaseSeps:Ye||[],onPhaseSepsChange:Vt,onNodePhaseChange:Xe,onNodeCategoryChange:(a,y)=>{t(S=>S.map(b=>b.id===a?{...b,category:y}:b)),he(!0)},showGrid:H,gridSize:tt,selectedNodes:Bn,onSelectedNodesChange:D,categories:s})})]})]})}const Ni="New_Doggerland_Consolidated_Governance.pdf",Kg="linear-gradient(160deg,#060c06 0%,#0c160c 50%,#060a06 100%)",qn="#C4A882",Ms="#F5EFE0",$u="#7FFF7F",yn="rgba(196,168,130,0.25)";function Jg(e,t){`${e.section} ${e.subsection} ${e.text}`.toLowerCase();let n=0;for(const r of t){e.section.toLowerCase().includes(r)&&(n+=4),e.subsection.toLowerCase().includes(r)&&(n+=3);const l=new RegExp(r,"gi"),o=(e.text.match(l)||[]).length;n+=o}return n}function Ii(e,t){if(!t.length)return e;const n=new RegExp(`(${t.map(r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi");return e.replace(n,`<mark style="background:rgba(127,255,127,0.35);color:${Ms};border-radius:2px;padding:0 2px">$1</mark>`)}function Zg(e,t,n=220){if(!t.length)return e.slice(0,n)+(e.length>n?"":"");const r=new RegExp(t.map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"i"),l=e.search(r);if(l<0)return e.slice(0,n)+(e.length>n?"":"");const o=Math.max(0,l-80),s=Math.min(e.length,o+n);return(o>0?"":"")+e.slice(o,s)+(s<e.length?"":"")}function e0(){const[e,t]=x.useState([]),[n,r]=x.useState(""),[l,o]=x.useState(null),[s,u]=x.useState(1),[c,h]=x.useState(!1),v=x.useRef(null),k=x.useRef(null);x.useEffect(()=>{fetch("gov_search_index.json").then(B=>B.json()).then(B=>t(B.filter(m=>m.section))).catch(()=>{})},[]),x.useEffect(()=>{var B;(B=k.current)==null||B.focus()},[]);const g=x.useMemo(()=>n.trim().toLowerCase().split(/\s+/).filter(B=>B.length>1),[n]),F=x.useMemo(()=>g.length?e.map(B=>({...B,score:Jg(B,g)})).filter(B=>B.score>0).sort((B,m)=>m.score-B.score).slice(0,60):e.slice(0,40),[e,g]),E=x.useCallback(B=>{if(o(B),u(B.page),v.current){const m=Ni;v.current.src=`${m}#page=${B.page}`}},[]),T=`${Ni}#page=${s}`;return i.jsxs("div",{style:{width:"100%",height:"100vh",background:Kg,fontFamily:"Georgia,serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[i.jsxs("div",{style:{background:"linear-gradient(180deg,rgba(0,0,0,0.95) 0%,rgba(0,0,0,0.6) 100%)",borderBottom:`1px solid ${yn}`,padding:"8px 16px",display:"flex",alignItems:"center",gap:14,flexShrink:0,zIndex:10},children:[i.jsx("img",{src:"https://newdoggerland.org/ND001.png",alt:"ND",style:{width:42,height:42,objectFit:"contain",opacity:.92,filter:"drop-shadow(0 0 6px rgba(255,215,0,0.3))"}}),i.jsxs("div",{children:[i.jsx("div",{style:{color:qn,fontSize:8,letterSpacing:"0.38em",textTransform:"uppercase"},children:"New Doggerland"}),i.jsx("div",{style:{color:Ms,fontSize:15,letterSpacing:"0.06em"},children:"Governance Document Discovery"})]}),i.jsx("div",{style:{flex:1}}),i.jsx("button",{onClick:()=>{window.location.hash=""},style:{background:"rgba(196,168,130,0.1)",border:`1px solid ${yn}`,color:qn,borderRadius:4,padding:"6px 14px",cursor:"pointer",fontSize:12,fontFamily:"Georgia,serif",letterSpacing:"0.04em"},children:" Skill Tree"})]}),i.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[i.jsxs("div",{style:{width:340,minWidth:260,flexShrink:0,display:"flex",flexDirection:"column",borderRight:`1px solid ${yn}`,background:"rgba(0,0,0,0.35)",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"12px 12px 8px",borderBottom:`1px solid ${yn}`,flexShrink:0},children:[i.jsxs("div",{style:{position:"relative"},children:[i.jsx("span",{style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"rgba(196,168,130,0.5)",fontSize:14,pointerEvents:"none"},children:""}),i.jsx("input",{ref:k,value:n,onChange:B=>r(B.target.value),placeholder:"Search governance",style:{width:"100%",boxSizing:"border-box",background:"rgba(255,255,255,0.05)",border:`1px solid ${yn}`,borderRadius:4,padding:"8px 10px 8px 30px",color:Ms,fontSize:13,fontFamily:"Georgia,serif",outline:"none"}}),n&&i.jsx("button",{onClick:()=>r(""),style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255,255,255,0.35)",cursor:"pointer",fontSize:16,lineHeight:1,padding:0},children:""})]}),i.jsx("div",{style:{color:"rgba(196,168,130,0.45)",fontSize:10,marginTop:5,letterSpacing:"0.05em"},children:g.length?`${F.length} result${F.length!==1?"s":""}`:`${e.length} sections indexed`})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"6px 0"},children:[F.map(B=>{const m=(l==null?void 0:l.id)===B.id,d=Zg(B.text,g);return i.jsxs("div",{onClick:()=>E(B),style:{padding:"10px 14px",margin:"2px 6px",borderRadius:4,cursor:"pointer",background:m?"rgba(127,255,127,0.08)":"rgba(255,255,255,0.02)",border:`1px solid ${m?"rgba(127,255,127,0.35)":"rgba(255,255,255,0.05)"}`,transition:"background 0.15s, border-color 0.15s"},children:[i.jsx("div",{style:{color:m?$u:qn,fontSize:11,fontWeight:"bold",letterSpacing:"0.04em",marginBottom:2,textTransform:"uppercase"},dangerouslySetInnerHTML:{__html:Ii(B.section,g)}}),B.subsection&&i.jsx("div",{style:{color:"rgba(245,239,224,0.6)",fontSize:11,marginBottom:4},dangerouslySetInnerHTML:{__html:Ii(B.subsection,g)}}),i.jsx("div",{style:{color:"rgba(245,239,224,0.5)",fontSize:11,lineHeight:1.5},dangerouslySetInnerHTML:{__html:Ii(d,g)}}),i.jsxs("div",{style:{marginTop:5,display:"inline-block",background:"rgba(196,168,130,0.1)",border:`1px solid ${yn}`,borderRadius:3,padding:"1px 6px",color:"rgba(196,168,130,0.6)",fontSize:10,letterSpacing:"0.05em"},children:["p. ",B.page]})]},B.id)}),F.length===0&&g.length>0&&i.jsxs("div",{style:{color:"rgba(245,239,224,0.3)",fontSize:12,padding:"20px 14px",textAlign:"center"},children:['No results for "',n,'"']})]})]}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[l&&i.jsxs("div",{style:{padding:"6px 16px",background:"rgba(0,0,0,0.4)",borderBottom:`1px solid ${yn}`,display:"flex",alignItems:"center",gap:10,flexShrink:0},children:[i.jsx("div",{style:{color:$u,fontSize:11,fontWeight:"bold",letterSpacing:"0.04em",textTransform:"uppercase"},children:l.section}),l.subsection&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{color:"rgba(196,168,130,0.4)",fontSize:11},children:""}),i.jsx("div",{style:{color:qn,fontSize:11},children:l.subsection})]}),i.jsx("div",{style:{flex:1}}),i.jsxs("div",{style:{background:"rgba(196,168,130,0.1)",border:`1px solid ${yn}`,borderRadius:3,padding:"2px 8px",color:"rgba(196,168,130,0.6)",fontSize:11},children:["Page ",l.page]})]}),i.jsxs("div",{style:{position:"relative",flex:1,overflow:"hidden"},children:[i.jsx("iframe",{ref:v,src:T,title:"Governance Document",onLoad:()=>h(!0),style:{width:"100%",height:"100%",border:"none",display:"block"}}),!c&&i.jsxs("div",{style:{position:"absolute",inset:0,background:"rgba(6,12,6,0.92)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:12,pointerEvents:"none"},children:[i.jsx("div",{style:{color:qn,fontSize:22,opacity:.35},children:""}),i.jsxs("div",{style:{color:"rgba(245,239,224,0.4)",fontSize:13,textAlign:"center",maxWidth:320},children:["Place ",i.jsx("code",{style:{color:qn},children:Ni}),i.jsx("br",{}),"in the same folder as ",i.jsx("code",{style:{color:qn},children:"index.html"})]})]})]})]})]})]})}function t0(){const[e,t]=x.useState(window.location.hash);return x.useEffect(()=>{const n=()=>t(window.location.hash);return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),e}function n0(){const e=t0();return e==="#/admin"||e.startsWith("#/admin")?i.jsx(Xg,{}):e==="#/governance"||e.startsWith("#/governance")?i.jsx(e0,{}):i.jsx(Og,{})}Jd(document.getElementById("root")).render(i.jsx(x.StrictMode,{children:i.jsx(n0,{})}));
