(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yu={exports:{}},yo={},xu={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),Td=Symbol.for("react.portal"),Id=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),Dd=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Bd=Symbol.for("react.context"),Ld=Symbol.for("react.forward_ref"),$d=Symbol.for("react.suspense"),Ad=Symbol.for("react.memo"),Wd=Symbol.for("react.lazy"),ta=Symbol.iterator;function Ud(e){return e===null||typeof e!="object"?null:(e=ta&&e[ta]||e["@@iterator"],typeof e=="function"?e:null)}var vu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ku=Object.assign,wu={};function kr(e,t,n){this.props=e,this.context=t,this.refs=wu,this.updater=n||vu}kr.prototype.isReactComponent={};kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Su(){}Su.prototype=kr.prototype;function ss(e,t,n){this.props=e,this.context=t,this.refs=wu,this.updater=n||vu}var as=ss.prototype=new Su;as.constructor=ss;ku(as,kr.prototype);as.isPureReactComponent=!0;var na=Array.isArray,bu=Object.prototype.hasOwnProperty,us={current:null},_u={key:!0,ref:!0,__self:!0,__source:!0};function ju(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)bu.call(t,r)&&!_u.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+2];l.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:sl,type:e,key:o,ref:s,props:l,_owner:us.current}}function qd(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cs(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function Hd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ra=/\/+/g;function Bo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hd(""+e.key):t.toString(36)}function Il(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case sl:case Td:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+Bo(s,0):r,na(l)?(n="",e!=null&&(n=e.replace(ra,"$&/")+"/"),Il(l,t,n,"",function(f){return f})):l!=null&&(cs(l)&&(l=qd(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(ra,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",na(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Bo(o,a);s+=Il(o,t,n,c,l)}else if(c=Ud(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Bo(o,a++),s+=Il(o,t,n,c,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function hl(e,t,n){if(e==null)return e;var r=[],l=0;return Il(e,r,"","",function(o){return t.call(n,o,l++)}),r}function Yd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Nl={transition:null},Vd={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:us};function Cu(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:hl,forEach:function(e,t,n){hl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hl(e,function(){t++}),t},toArray:function(e){return hl(e,function(t){return t})||[]},only:function(e){if(!cs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=kr;ae.Fragment=Id;ae.Profiler=Dd;ae.PureComponent=ss;ae.StrictMode=Nd;ae.Suspense=$d;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vd;ae.act=Cu;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ku({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=us.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)bu.call(t,c)&&!_u.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var f=0;f<c;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:sl,type:e.type,key:l,ref:o,props:r,_owner:s}};ae.createContext=function(e){return e={$$typeof:Bd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Od,_context:e},e.Consumer=e};ae.createElement=ju;ae.createFactory=function(e){var t=ju.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Ld,render:e}};ae.isValidElement=cs;ae.lazy=function(e){return{$$typeof:Wd,_payload:{_status:-1,_result:e},_init:Yd}};ae.memo=function(e,t){return{$$typeof:Ad,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Nl.transition;Nl.transition={};try{e()}finally{Nl.transition=t}};ae.unstable_act=Cu;ae.useCallback=function(e,t){return lt.current.useCallback(e,t)};ae.useContext=function(e){return lt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return lt.current.useEffect(e,t)};ae.useId=function(){return lt.current.useId()};ae.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return lt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};ae.useRef=function(e){return lt.current.useRef(e)};ae.useState=function(e){return lt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return lt.current.useTransition()};ae.version="18.3.1";xu.exports=ae;var S=xu.exports;const Lo=Pd(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=S,Xd=Symbol.for("react.element"),Qd=Symbol.for("react.fragment"),Kd=Object.prototype.hasOwnProperty,Jd=Gd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zd={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Kd.call(t,r)&&!Zd.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Xd,type:e,key:o,ref:s,props:l,_owner:Jd.current}}yo.Fragment=Qd;yo.jsx=Fu;yo.jsxs=Fu;yu.exports=yo;var i=yu.exports,Eu={exports:{}},xt={},Mu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,Q){var V=O.length;O.push(Q);e:for(;0<V;){var ce=V-1>>>1,ne=O[ce];if(0<l(ne,Q))O[ce]=Q,O[V]=ne,V=ce;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var Q=O[0],V=O.pop();if(V!==Q){O[0]=V;e:for(var ce=0,ne=O.length,Qe=ne>>>1;ce<Qe;){var Ie=2*(ce+1)-1,we=O[Ie],Pe=Ie+1,Et=O[Pe];if(0>l(we,V))Pe<ne&&0>l(Et,we)?(O[ce]=Et,O[Pe]=V,ce=Pe):(O[ce]=we,O[Ie]=V,ce=Ie);else if(Pe<ne&&0>l(Et,V))O[ce]=Et,O[Pe]=V,ce=Pe;else break e}}return Q}function l(O,Q){var V=O.sortIndex-Q.sortIndex;return V!==0?V:O.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],f=[],y=1,w=null,m=3,M=!1,z=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=O)r(f),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=n(f)}}function F(O){if(k=!1,g(O),!z)if(n(c)!==null)z=!0,ue(R);else{var Q=n(f);Q!==null&&xe(F,Q.startTime-O)}}function R(O,Q){z=!1,k&&(k=!1,p(H),H=-1),M=!0;var V=m;try{for(g(Q),w=n(c);w!==null&&(!(w.expirationTime>Q)||O&&!$());){var ce=w.callback;if(typeof ce=="function"){w.callback=null,m=w.priorityLevel;var ne=ce(w.expirationTime<=Q);Q=e.unstable_now(),typeof ne=="function"?w.callback=ne:w===n(c)&&r(c),g(Q)}else r(c);w=n(c)}if(w!==null)var Qe=!0;else{var Ie=n(f);Ie!==null&&xe(F,Ie.startTime-Q),Qe=!1}return Qe}finally{w=null,m=V,M=!1}}var P=!1,U=null,H=-1,B=5,I=-1;function $(){return!(e.unstable_now()-I<B)}function ee(){if(U!==null){var O=e.unstable_now();I=O;var Q=!0;try{Q=U(!0,O)}finally{Q?ie():(P=!1,U=null)}}else P=!1}var ie;if(typeof d=="function")ie=function(){d(ee)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Ye=Z.port2;Z.port1.onmessage=ee,ie=function(){Ye.postMessage(null)}}else ie=function(){x(ee,0)};function ue(O){U=O,P||(P=!0,ie())}function xe(O,Q){H=x(function(){O(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){z||M||(z=!0,ue(R))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var V=m;m=Q;try{return O()}finally{m=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,Q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=m;m=O;try{return Q()}finally{m=V}},e.unstable_scheduleCallback=function(O,Q,V){var ce=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,O){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=V+ne,O={id:y++,callback:Q,priorityLevel:O,startTime:V,expirationTime:ne,sortIndex:-1},V>ce?(O.sortIndex=V,t(f,O),n(c)===null&&O===n(f)&&(k?(p(H),H=-1):k=!0,xe(F,V-ce))):(O.sortIndex=ne,t(c,O),z||M||(z=!0,ue(R))),O},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(O){var Q=m;return function(){var V=m;m=Q;try{return O.apply(this,arguments)}finally{m=V}}}})(Ru);Mu.exports=Ru;var ep=Mu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=S,yt=ep;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zu=new Set,qr={};function Un(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(qr[e]=t,e=0;e<t.length;e++)zu.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=Object.prototype.hasOwnProperty,np=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},oa={};function rp(e){return gi.call(oa,e)?!0:gi.call(la,e)?!1:np.test(e)?oa[e]=!0:(la[e]=!0,!1)}function lp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function op(e,t,n,r){if(t===null||typeof t>"u"||lp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var ds=/[\-:]([a-z])/g;function ps(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ds,ps);Xe[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ds,ps);Xe[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ds,ps);Xe[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function fs(e,t,n,r){var l=Xe.hasOwnProperty(t)?Xe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(op(t,n,l,r)&&(n=null),r||l===null?rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),gs=Symbol.for("react.strict_mode"),hi=Symbol.for("react.profiler"),Pu=Symbol.for("react.provider"),Tu=Symbol.for("react.context"),hs=Symbol.for("react.forward_ref"),mi=Symbol.for("react.suspense"),yi=Symbol.for("react.suspense_list"),ms=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Iu=Symbol.for("react.offscreen"),ia=Symbol.iterator;function br(e){return e===null||typeof e!="object"?null:(e=ia&&e[ia]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,$o;function zr(e){if($o===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$o=t&&t[1]||""}return`
`+$o+e}var Ao=!1;function Wo(e,t){if(!e||Ao)return"";Ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var l=f.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,a=o.length-1;1<=s&&0<=a&&l[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(l[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||l[s]!==o[a]){var c=`
`+l[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{Ao=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zr(e):""}function ip(e){switch(e.tag){case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return e=Wo(e.type,!1),e;case 11:return e=Wo(e.type.render,!1),e;case 1:return e=Wo(e.type,!0),e;default:return""}}function xi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qn:return"Fragment";case Xn:return"Portal";case hi:return"Profiler";case gs:return"StrictMode";case mi:return"Suspense";case yi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tu:return(e.displayName||"Context")+".Consumer";case Pu:return(e._context.displayName||"Context")+".Provider";case hs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ms:return t=e.displayName||null,t!==null?t:xi(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return xi(e(t))}catch{}}return null}function sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xi(t);case 8:return t===gs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=Nu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yl(e){e._valueTracker||(e._valueTracker=ap(e))}function Du(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vi(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ou(e,t){t=t.checked,t!=null&&fs(e,"checked",t,!1)}function ki(e,t){Ou(e,t);var n=Sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wi(e,t.type,n):t.hasOwnProperty("defaultValue")&&wi(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wi(e,t,n){(t!=="number"||Yl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pr=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Si(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Pr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function Bu(e,t){var n=Sn(t.value),r=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ca(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xl,$u=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},up=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function Au(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function Wu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Au(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var cp=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _i(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ci=null;function ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,ar=null,ur=null;function da(e){if(e=cl(e)){if(typeof Fi!="function")throw Error(N(280));var t=e.stateNode;t&&(t=So(t),Fi(e.stateNode,e.type,t))}}function Uu(e){ar?ur?ur.push(e):ur=[e]:ar=e}function qu(){if(ar){var e=ar,t=ur;if(ur=ar=null,da(e),t)for(e=0;e<t.length;e++)da(t[e])}}function Hu(e,t){return e(t)}function Yu(){}var Uo=!1;function Vu(e,t,n){if(Uo)return e(t,n);Uo=!0;try{return Hu(e,t,n)}finally{Uo=!1,(ar!==null||ur!==null)&&(Yu(),qu())}}function Yr(e,t){var n=e.stateNode;if(n===null)return null;var r=So(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Ei=!1;if(Kt)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Ei=!1}function dp(e,t,n,r,l,o,s,a,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(y){this.onError(y)}}var Dr=!1,Vl=null,Gl=!1,Mi=null,pp={onError:function(e){Dr=!0,Vl=e}};function fp(e,t,n,r,l,o,s,a,c){Dr=!1,Vl=null,dp.apply(pp,arguments)}function gp(e,t,n,r,l,o,s,a,c){if(fp.apply(this,arguments),Dr){if(Dr){var f=Vl;Dr=!1,Vl=null}else throw Error(N(198));Gl||(Gl=!0,Mi=f)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pa(e){if(qn(e)!==e)throw Error(N(188))}function hp(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return pa(l),e;if(o===r)return pa(l),t;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,a=l.child;a;){if(a===n){s=!0,n=l,r=o;break}if(a===r){s=!0,r=l,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=l;break}if(a===r){s=!0,r=o,n=l;break}a=a.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Xu(e){return e=hp(e),e!==null?Qu(e):null}function Qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qu(e);if(t!==null)return t;e=e.sibling}return null}var Ku=yt.unstable_scheduleCallback,fa=yt.unstable_cancelCallback,mp=yt.unstable_shouldYield,yp=yt.unstable_requestPaint,Te=yt.unstable_now,xp=yt.unstable_getCurrentPriorityLevel,xs=yt.unstable_ImmediatePriority,Ju=yt.unstable_UserBlockingPriority,Xl=yt.unstable_NormalPriority,vp=yt.unstable_LowPriority,Zu=yt.unstable_IdlePriority,xo=null,Ut=null;function kp(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(xo,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:bp,wp=Math.log,Sp=Math.LN2;function bp(e){return e>>>=0,e===0?32:31-(wp(e)/Sp|0)|0}var vl=64,kl=4194304;function Tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ql(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~l;a!==0?r=Tr(a):(o&=s,o!==0&&(r=Tr(o)))}else s=n&~l,s!==0?r=Tr(s):o!==0&&(r=Tr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),l=1<<n,r|=e[n],t&=~l;return r}function _p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Nt(o),a=1<<s,c=l[s];c===-1?(!(a&n)||a&r)&&(l[s]=_p(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Ri(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ec(){var e=vl;return vl<<=1,!(vl&4194240)&&(vl=64),e}function qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function al(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Cp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Nt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function vs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ge=0;function tc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nc,ks,rc,lc,oc,zi=!1,wl=[],gn=null,hn=null,mn=null,Vr=new Map,Gr=new Map,cn=[],Fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ga(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(t.pointerId)}}function jr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=cl(t),t!==null&&ks(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ep(e,t,n,r,l){switch(t){case"focusin":return gn=jr(gn,e,t,n,r,l),!0;case"dragenter":return hn=jr(hn,e,t,n,r,l),!0;case"mouseover":return mn=jr(mn,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Vr.set(o,jr(Vr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Gr.set(o,jr(Gr.get(o)||null,e,t,n,r,l)),!0}return!1}function ic(e){var t=Tn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Gu(n),t!==null){e.blockedOn=t,oc(e.priority,function(){rc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ci=r,n.target.dispatchEvent(r),Ci=null}else return t=cl(n),t!==null&&ks(t),e.blockedOn=n,!1;t.shift()}return!0}function ha(e,t,n){Dl(e)&&n.delete(t)}function Mp(){zi=!1,gn!==null&&Dl(gn)&&(gn=null),hn!==null&&Dl(hn)&&(hn=null),mn!==null&&Dl(mn)&&(mn=null),Vr.forEach(ha),Gr.forEach(ha)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,zi||(zi=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Mp)))}function Xr(e){function t(l){return Cr(l,e)}if(0<wl.length){Cr(wl[0],e);for(var n=1;n<wl.length;n++){var r=wl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gn!==null&&Cr(gn,e),hn!==null&&Cr(hn,e),mn!==null&&Cr(mn,e),Vr.forEach(t),Gr.forEach(t),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)ic(n),n.blockedOn===null&&cn.shift()}var cr=tn.ReactCurrentBatchConfig,Kl=!0;function Rp(e,t,n,r){var l=ge,o=cr.transition;cr.transition=null;try{ge=1,ws(e,t,n,r)}finally{ge=l,cr.transition=o}}function zp(e,t,n,r){var l=ge,o=cr.transition;cr.transition=null;try{ge=4,ws(e,t,n,r)}finally{ge=l,cr.transition=o}}function ws(e,t,n,r){if(Kl){var l=Pi(e,t,n,r);if(l===null)ei(e,t,r,Jl,n),ga(e,r);else if(Ep(l,e,t,n,r))r.stopPropagation();else if(ga(e,r),t&4&&-1<Fp.indexOf(e)){for(;l!==null;){var o=cl(l);if(o!==null&&nc(o),o=Pi(e,t,n,r),o===null&&ei(e,t,r,Jl,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else ei(e,t,r,null,n)}}var Jl=null;function Pi(e,t,n,r){if(Jl=null,e=ys(r),e=Tn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jl=e,null}function sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xp()){case xs:return 1;case Ju:return 4;case Xl:case vp:return 16;case Zu:return 536870912;default:return 16}default:return 16}}var pn=null,Ss=null,Ol=null;function ac(){if(Ol)return Ol;var e,t=Ss,n=t.length,r,l="value"in pn?pn.value:pn.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return Ol=l.slice(e,1<r?1-r:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function ma(){return!1}function vt(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sl:ma,this.isPropagationStopped=ma,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=vt(wr),ul=Fe({},wr,{view:0,detail:0}),Pp=vt(ul),Ho,Yo,Fr,vo=Fe({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(Ho=e.screenX-Fr.screenX,Yo=e.screenY-Fr.screenY):Yo=Ho=0,Fr=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),ya=vt(vo),Tp=Fe({},vo,{dataTransfer:0}),Ip=vt(Tp),Np=Fe({},ul,{relatedTarget:0}),Vo=vt(Np),Dp=Fe({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=vt(Dp),Bp=Fe({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lp=vt(Bp),$p=Fe({},wr,{data:0}),xa=vt($p),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function _s(){return qp}var Hp=Fe({},ul,{key:function(e){if(e.key){var t=Ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yp=vt(Hp),Vp=Fe({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=vt(Vp),Gp=Fe({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Xp=vt(Gp),Qp=Fe({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kp=vt(Qp),Jp=Fe({},vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zp=vt(Jp),ef=[9,13,27,32],js=Kt&&"CompositionEvent"in window,Or=null;Kt&&"documentMode"in document&&(Or=document.documentMode);var tf=Kt&&"TextEvent"in window&&!Or,uc=Kt&&(!js||Or&&8<Or&&11>=Or),ka=" ",wa=!1;function cc(e,t){switch(e){case"keyup":return ef.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function nf(e,t){switch(e){case"compositionend":return dc(t);case"keypress":return t.which!==32?null:(wa=!0,ka);case"textInput":return e=t.data,e===ka&&wa?null:e;default:return null}}function rf(e,t){if(Kn)return e==="compositionend"||!js&&cc(e,t)?(e=ac(),Ol=Ss=pn=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uc&&t.locale!=="ko"?null:t.data;default:return null}}var lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lf[e.type]:t==="textarea"}function pc(e,t,n,r){Uu(r),t=Zl(t,"onChange"),0<t.length&&(n=new bs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Br=null,Qr=null;function of(e){bc(e,0)}function ko(e){var t=er(e);if(Du(t))return e}function sf(e,t){if(e==="change")return t}var fc=!1;if(Kt){var Go;if(Kt){var Xo="oninput"in document;if(!Xo){var ba=document.createElement("div");ba.setAttribute("oninput","return;"),Xo=typeof ba.oninput=="function"}Go=Xo}else Go=!1;fc=Go&&(!document.documentMode||9<document.documentMode)}function _a(){Br&&(Br.detachEvent("onpropertychange",gc),Qr=Br=null)}function gc(e){if(e.propertyName==="value"&&ko(Qr)){var t=[];pc(t,Qr,e,ys(e)),Vu(of,t)}}function af(e,t,n){e==="focusin"?(_a(),Br=t,Qr=n,Br.attachEvent("onpropertychange",gc)):e==="focusout"&&_a()}function uf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(Qr)}function cf(e,t){if(e==="click")return ko(t)}function df(e,t){if(e==="input"||e==="change")return ko(t)}function pf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:pf;function Kr(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!gi.call(t,l)||!Ot(e[l],t[l]))return!1}return!0}function ja(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ca(e,t){var n=ja(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ja(n)}}function hc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mc(){for(var e=window,t=Yl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yl(e.document)}return t}function Cs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ff(e){var t=mc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hc(n.ownerDocument.documentElement,n)){if(r!==null&&Cs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Ca(n,o);var s=Ca(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gf=Kt&&"documentMode"in document&&11>=document.documentMode,Jn=null,Ti=null,Lr=null,Ii=!1;function Fa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ii||Jn==null||Jn!==Yl(r)||(r=Jn,"selectionStart"in r&&Cs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lr&&Kr(Lr,r)||(Lr=r,r=Zl(Ti,"onSelect"),0<r.length&&(t=new bs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jn)))}function bl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionend:bl("Transition","TransitionEnd")},Qo={},yc={};Kt&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function wo(e){if(Qo[e])return Qo[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yc)return Qo[e]=t[n];return e}var xc=wo("animationend"),vc=wo("animationiteration"),kc=wo("animationstart"),wc=wo("transitionend"),Sc=new Map,Ea="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Sc.set(e,t),Un(t,[e])}for(var Ko=0;Ko<Ea.length;Ko++){var Jo=Ea[Ko],hf=Jo.toLowerCase(),mf=Jo[0].toUpperCase()+Jo.slice(1);_n(hf,"on"+mf)}_n(xc,"onAnimationEnd");_n(vc,"onAnimationIteration");_n(kc,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(wc,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Ma(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gp(r,t,void 0,e),e.currentTarget=null}function bc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,f=a.currentTarget;if(a=a.listener,c!==o&&l.isPropagationStopped())break e;Ma(l,a,f),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,f=a.currentTarget,a=a.listener,c!==o&&l.isPropagationStopped())break e;Ma(l,a,f),o=c}}}if(Gl)throw e=Mi,Gl=!1,Mi=null,e}function ve(e,t){var n=t[Li];n===void 0&&(n=t[Li]=new Set);var r=e+"__bubble";n.has(r)||(_c(t,e,2,!1),n.add(r))}function Zo(e,t,n){var r=0;t&&(r|=4),_c(n,e,r,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[_l]){e[_l]=!0,zu.forEach(function(n){n!=="selectionchange"&&(yf.has(n)||Zo(n,!1,e),Zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,Zo("selectionchange",!1,t))}}function _c(e,t,n,r){switch(sc(t)){case 1:var l=Rp;break;case 4:l=zp;break;default:l=ws}n=l.bind(null,t,n,e),l=void 0,!Ei||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ei(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;s=s.return}for(;a!==null;){if(s=Tn(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Vu(function(){var f=o,y=ys(n),w=[];e:{var m=Sc.get(e);if(m!==void 0){var M=bs,z=e;switch(e){case"keypress":if(Bl(n)===0)break e;case"keydown":case"keyup":M=Yp;break;case"focusin":z="focus",M=Vo;break;case"focusout":z="blur",M=Vo;break;case"beforeblur":case"afterblur":M=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Xp;break;case xc:case vc:case kc:M=Op;break;case wc:M=Kp;break;case"scroll":M=Pp;break;case"wheel":M=Zp;break;case"copy":case"cut":case"paste":M=Lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=va}var k=(t&4)!==0,x=!k&&e==="scroll",p=k?m!==null?m+"Capture":null:m;k=[];for(var d=f,g;d!==null;){g=d;var F=g.stateNode;if(g.tag===5&&F!==null&&(g=F,p!==null&&(F=Yr(d,p),F!=null&&k.push(Zr(d,F,g)))),x)break;d=d.return}0<k.length&&(m=new M(m,z,null,n,y),w.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",m&&n!==Ci&&(z=n.relatedTarget||n.fromElement)&&(Tn(z)||z[Jt]))break e;if((M||m)&&(m=y.window===y?y:(m=y.ownerDocument)?m.defaultView||m.parentWindow:window,M?(z=n.relatedTarget||n.toElement,M=f,z=z?Tn(z):null,z!==null&&(x=qn(z),z!==x||z.tag!==5&&z.tag!==6)&&(z=null)):(M=null,z=f),M!==z)){if(k=ya,F="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=va,F="onPointerLeave",p="onPointerEnter",d="pointer"),x=M==null?m:er(M),g=z==null?m:er(z),m=new k(F,d+"leave",M,n,y),m.target=x,m.relatedTarget=g,F=null,Tn(y)===f&&(k=new k(p,d+"enter",z,n,y),k.target=g,k.relatedTarget=x,F=k),x=F,M&&z)t:{for(k=M,p=z,d=0,g=k;g;g=Gn(g))d++;for(g=0,F=p;F;F=Gn(F))g++;for(;0<d-g;)k=Gn(k),d--;for(;0<g-d;)p=Gn(p),g--;for(;d--;){if(k===p||p!==null&&k===p.alternate)break t;k=Gn(k),p=Gn(p)}k=null}else k=null;M!==null&&Ra(w,m,M,k,!1),z!==null&&x!==null&&Ra(w,x,z,k,!0)}}e:{if(m=f?er(f):window,M=m.nodeName&&m.nodeName.toLowerCase(),M==="select"||M==="input"&&m.type==="file")var R=sf;else if(Sa(m))if(fc)R=df;else{R=uf;var P=af}else(M=m.nodeName)&&M.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=cf);if(R&&(R=R(e,f))){pc(w,R,n,y);break e}P&&P(e,m,f),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&wi(m,"number",m.value)}switch(P=f?er(f):window,e){case"focusin":(Sa(P)||P.contentEditable==="true")&&(Jn=P,Ti=f,Lr=null);break;case"focusout":Lr=Ti=Jn=null;break;case"mousedown":Ii=!0;break;case"contextmenu":case"mouseup":case"dragend":Ii=!1,Fa(w,n,y);break;case"selectionchange":if(gf)break;case"keydown":case"keyup":Fa(w,n,y)}var U;if(js)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Kn?cc(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(uc&&n.locale!=="ko"&&(Kn||H!=="onCompositionStart"?H==="onCompositionEnd"&&Kn&&(U=ac()):(pn=y,Ss="value"in pn?pn.value:pn.textContent,Kn=!0)),P=Zl(f,H),0<P.length&&(H=new xa(H,e,null,n,y),w.push({event:H,listeners:P}),U?H.data=U:(U=dc(n),U!==null&&(H.data=U)))),(U=tf?nf(e,n):rf(e,n))&&(f=Zl(f,"onBeforeInput"),0<f.length&&(y=new xa("onBeforeInput","beforeinput",null,n,y),w.push({event:y,listeners:f}),y.data=U))}bc(w,t)})}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Yr(e,n),o!=null&&r.unshift(Zr(e,o,l)),o=Yr(e,t),o!=null&&r.push(Zr(e,o,l))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ra(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,f=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&f!==null&&(a=f,l?(c=Yr(n,o),c!=null&&s.unshift(Zr(n,c,a))):l||(c=Yr(n,o),c!=null&&s.push(Zr(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var xf=/\r\n?/g,vf=/\u0000|\uFFFD/g;function za(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(vf,"")}function jl(e,t,n){if(t=za(t),za(e)!==t&&n)throw Error(N(425))}function eo(){}var Ni=null,Di=null;function Oi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bi=typeof setTimeout=="function"?setTimeout:void 0,kf=typeof clearTimeout=="function"?clearTimeout:void 0,Pa=typeof Promise=="function"?Promise:void 0,wf=typeof queueMicrotask=="function"?queueMicrotask:typeof Pa<"u"?function(e){return Pa.resolve(null).then(e).catch(Sf)}:Bi;function Sf(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Xr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Xr(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ta(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Sr,el="__reactProps$"+Sr,Jt="__reactContainer$"+Sr,Li="__reactEvents$"+Sr,bf="__reactListeners$"+Sr,_f="__reactHandles$"+Sr;function Tn(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ta(e);e!==null;){if(n=e[Wt])return n;e=Ta(e)}return t}e=n,n=e.parentNode}return null}function cl(e){return e=e[Wt]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function So(e){return e[el]||null}var $i=[],tr=-1;function jn(e){return{current:e}}function ke(e){0>tr||(e.current=$i[tr],$i[tr]=null,tr--)}function ye(e,t){tr++,$i[tr]=e.current,e.current=t}var bn={},tt=jn(bn),at=jn(!1),Bn=bn;function gr(e,t){var n=e.type.contextTypes;if(!n)return bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ut(e){return e=e.childContextTypes,e!=null}function to(){ke(at),ke(tt)}function Ia(e,t,n){if(tt.current!==bn)throw Error(N(168));ye(tt,t),ye(at,n)}function jc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(N(108,sp(e)||"Unknown",l));return Fe({},n,r)}function no(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Bn=tt.current,ye(tt,e),ye(at,at.current),!0}function Na(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=jc(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,ke(at),ke(tt),ye(tt,e)):ke(at),ye(at,n)}var Vt=null,bo=!1,ni=!1;function Cc(e){Vt===null?Vt=[e]:Vt.push(e)}function jf(e){bo=!0,Cc(e)}function Cn(){if(!ni&&Vt!==null){ni=!0;var e=0,t=ge;try{var n=Vt;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,bo=!1}catch(l){throw Vt!==null&&(Vt=Vt.slice(e+1)),Ku(xs,Cn),l}finally{ge=t,ni=!1}}return null}var nr=[],rr=0,ro=null,lo=0,wt=[],St=0,Ln=null,Gt=1,Xt="";function zn(e,t){nr[rr++]=lo,nr[rr++]=ro,ro=e,lo=t}function Fc(e,t,n){wt[St++]=Gt,wt[St++]=Xt,wt[St++]=Ln,Ln=e;var r=Gt;e=Xt;var l=32-Nt(r)-1;r&=~(1<<l),n+=1;var o=32-Nt(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Gt=1<<32-Nt(t)+l|n<<l|r,Xt=o+e}else Gt=1<<o|n<<l|r,Xt=e}function Fs(e){e.return!==null&&(zn(e,1),Fc(e,1,0))}function Es(e){for(;e===ro;)ro=nr[--rr],nr[rr]=null,lo=nr[--rr],nr[rr]=null;for(;e===Ln;)Ln=wt[--St],wt[St]=null,Xt=wt[--St],wt[St]=null,Gt=wt[--St],wt[St]=null}var mt=null,ht=null,be=!1,It=null;function Ec(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Da(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,ht=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ln!==null?{id:Gt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,ht=null,!0):!1;default:return!1}}function Ai(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wi(e){if(be){var t=ht;if(t){var n=t;if(!Da(e,t)){if(Ai(e))throw Error(N(418));t=yn(n.nextSibling);var r=mt;t&&Da(e,t)?Ec(r,n):(e.flags=e.flags&-4097|2,be=!1,mt=e)}}else{if(Ai(e))throw Error(N(418));e.flags=e.flags&-4097|2,be=!1,mt=e}}}function Oa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Cl(e){if(e!==mt)return!1;if(!be)return Oa(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oi(e.type,e.memoizedProps)),t&&(t=ht)){if(Ai(e))throw Mc(),Error(N(418));for(;t;)Ec(e,t),t=yn(t.nextSibling)}if(Oa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=mt?yn(e.stateNode.nextSibling):null;return!0}function Mc(){for(var e=ht;e;)e=yn(e.nextSibling)}function hr(){ht=mt=null,be=!1}function Ms(e){It===null?It=[e]:It.push(e)}var Cf=tn.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=l.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ba(e){var t=e._init;return t(e._payload)}function Rc(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function l(p,d){return p=wn(p,d),p.index=0,p.sibling=null,p}function o(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,g,F){return d===null||d.tag!==6?(d=ui(g,p.mode,F),d.return=p,d):(d=l(d,g),d.return=p,d)}function c(p,d,g,F){var R=g.type;return R===Qn?y(p,d,g.props.children,F,g.key):d!==null&&(d.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===an&&Ba(R)===d.type)?(F=l(d,g.props),F.ref=Er(p,d,g),F.return=p,F):(F=Hl(g.type,g.key,g.props,null,p.mode,F),F.ref=Er(p,d,g),F.return=p,F)}function f(p,d,g,F){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=ci(g,p.mode,F),d.return=p,d):(d=l(d,g.children||[]),d.return=p,d)}function y(p,d,g,F,R){return d===null||d.tag!==7?(d=On(g,p.mode,F,R),d.return=p,d):(d=l(d,g),d.return=p,d)}function w(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ui(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ml:return g=Hl(d.type,d.key,d.props,null,p.mode,g),g.ref=Er(p,null,d),g.return=p,g;case Xn:return d=ci(d,p.mode,g),d.return=p,d;case an:var F=d._init;return w(p,F(d._payload),g)}if(Pr(d)||br(d))return d=On(d,p.mode,g,null),d.return=p,d;Fl(p,d)}return null}function m(p,d,g,F){var R=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return R!==null?null:a(p,d,""+g,F);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ml:return g.key===R?c(p,d,g,F):null;case Xn:return g.key===R?f(p,d,g,F):null;case an:return R=g._init,m(p,d,R(g._payload),F)}if(Pr(g)||br(g))return R!==null?null:y(p,d,g,F,null);Fl(p,g)}return null}function M(p,d,g,F,R){if(typeof F=="string"&&F!==""||typeof F=="number")return p=p.get(g)||null,a(d,p,""+F,R);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ml:return p=p.get(F.key===null?g:F.key)||null,c(d,p,F,R);case Xn:return p=p.get(F.key===null?g:F.key)||null,f(d,p,F,R);case an:var P=F._init;return M(p,d,g,P(F._payload),R)}if(Pr(F)||br(F))return p=p.get(g)||null,y(d,p,F,R,null);Fl(d,F)}return null}function z(p,d,g,F){for(var R=null,P=null,U=d,H=d=0,B=null;U!==null&&H<g.length;H++){U.index>H?(B=U,U=null):B=U.sibling;var I=m(p,U,g[H],F);if(I===null){U===null&&(U=B);break}e&&U&&I.alternate===null&&t(p,U),d=o(I,d,H),P===null?R=I:P.sibling=I,P=I,U=B}if(H===g.length)return n(p,U),be&&zn(p,H),R;if(U===null){for(;H<g.length;H++)U=w(p,g[H],F),U!==null&&(d=o(U,d,H),P===null?R=U:P.sibling=U,P=U);return be&&zn(p,H),R}for(U=r(p,U);H<g.length;H++)B=M(U,p,H,g[H],F),B!==null&&(e&&B.alternate!==null&&U.delete(B.key===null?H:B.key),d=o(B,d,H),P===null?R=B:P.sibling=B,P=B);return e&&U.forEach(function($){return t(p,$)}),be&&zn(p,H),R}function k(p,d,g,F){var R=br(g);if(typeof R!="function")throw Error(N(150));if(g=R.call(g),g==null)throw Error(N(151));for(var P=R=null,U=d,H=d=0,B=null,I=g.next();U!==null&&!I.done;H++,I=g.next()){U.index>H?(B=U,U=null):B=U.sibling;var $=m(p,U,I.value,F);if($===null){U===null&&(U=B);break}e&&U&&$.alternate===null&&t(p,U),d=o($,d,H),P===null?R=$:P.sibling=$,P=$,U=B}if(I.done)return n(p,U),be&&zn(p,H),R;if(U===null){for(;!I.done;H++,I=g.next())I=w(p,I.value,F),I!==null&&(d=o(I,d,H),P===null?R=I:P.sibling=I,P=I);return be&&zn(p,H),R}for(U=r(p,U);!I.done;H++,I=g.next())I=M(U,p,H,I.value,F),I!==null&&(e&&I.alternate!==null&&U.delete(I.key===null?H:I.key),d=o(I,d,H),P===null?R=I:P.sibling=I,P=I);return e&&U.forEach(function(ee){return t(p,ee)}),be&&zn(p,H),R}function x(p,d,g,F){if(typeof g=="object"&&g!==null&&g.type===Qn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ml:e:{for(var R=g.key,P=d;P!==null;){if(P.key===R){if(R=g.type,R===Qn){if(P.tag===7){n(p,P.sibling),d=l(P,g.props.children),d.return=p,p=d;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===an&&Ba(R)===P.type){n(p,P.sibling),d=l(P,g.props),d.ref=Er(p,P,g),d.return=p,p=d;break e}n(p,P);break}else t(p,P);P=P.sibling}g.type===Qn?(d=On(g.props.children,p.mode,F,g.key),d.return=p,p=d):(F=Hl(g.type,g.key,g.props,null,p.mode,F),F.ref=Er(p,d,g),F.return=p,p=F)}return s(p);case Xn:e:{for(P=g.key;d!==null;){if(d.key===P)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=l(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=ci(g,p.mode,F),d.return=p,p=d}return s(p);case an:return P=g._init,x(p,d,P(g._payload),F)}if(Pr(g))return z(p,d,g,F);if(br(g))return k(p,d,g,F);Fl(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=l(d,g),d.return=p,p=d):(n(p,d),d=ui(g,p.mode,F),d.return=p,p=d),s(p)):n(p,d)}return x}var mr=Rc(!0),zc=Rc(!1),oo=jn(null),io=null,lr=null,Rs=null;function zs(){Rs=lr=io=null}function Ps(e){var t=oo.current;ke(oo),e._currentValue=t}function Ui(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dr(e,t){io=e,Rs=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Rs!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(io===null)throw Error(N(308));lr=e,io.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var In=null;function Ts(e){In===null?In=[e]:In.push(e)}function Pc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ts(t)):(n.next=l.next,l.next=n),t.interleaved=n,Zt(e,r)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Zt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ts(r)):(t.next=l.next,l.next=t),r.interleaved=t,Zt(e,n)}function Ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,r){var l=e.updateQueue;un=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var y=e.alternate;y!==null&&(y=y.updateQueue,a=y.lastBaseUpdate,a!==s&&(a===null?y.firstBaseUpdate=f:a.next=f,y.lastBaseUpdate=c))}if(o!==null){var w=l.baseState;s=0,y=f=c=null,a=o;do{var m=a.lane,M=a.eventTime;if((r&m)===m){y!==null&&(y=y.next={eventTime:M,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var z=e,k=a;switch(m=t,M=n,k.tag){case 1:if(z=k.payload,typeof z=="function"){w=z.call(M,w,m);break e}w=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=k.payload,m=typeof z=="function"?z.call(M,w,m):z,m==null)break e;w=Fe({},w,m);break e;case 2:un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=l.effects,m===null?l.effects=[a]:m.push(a))}else M={eventTime:M,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},y===null?(f=y=M,c=w):y=y.next=M,s|=m;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;m=a,a=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(y===null&&(c=w),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);An|=s,e.lanes=s,e.memoizedState=w}}function $a(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(N(191,l));l.call(r)}}}var dl={},qt=jn(dl),tl=jn(dl),nl=jn(dl);function Nn(e){if(e===dl)throw Error(N(174));return e}function Ns(e,t){switch(ye(nl,t),ye(tl,e),ye(qt,dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bi(t,e)}ke(qt),ye(qt,t)}function yr(){ke(qt),ke(tl),ke(nl)}function Ic(e){Nn(nl.current);var t=Nn(qt.current),n=bi(t,e.type);t!==n&&(ye(tl,e),ye(qt,n))}function Ds(e){tl.current===e&&(ke(qt),ke(tl))}var je=jn(0);function ao(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function Os(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var $l=tn.ReactCurrentDispatcher,li=tn.ReactCurrentBatchConfig,$n=0,Ce=null,Be=null,qe=null,uo=!1,$r=!1,rl=0,Ff=0;function Je(){throw Error(N(321))}function Bs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function Ls(e,t,n,r,l,o){if($n=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?zf:Pf,e=n(r,l),$r){o=0;do{if($r=!1,rl=0,25<=o)throw Error(N(301));o+=1,qe=Be=null,t.updateQueue=null,$l.current=Tf,e=n(r,l)}while($r)}if($l.current=co,t=Be!==null&&Be.next!==null,$n=0,qe=Be=Ce=null,uo=!1,t)throw Error(N(300));return e}function $s(){var e=rl!==0;return rl=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ce.memoizedState=qe=e:qe=qe.next=e,qe}function Ft(){if(Be===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=qe===null?Ce.memoizedState:qe.next;if(t!==null)qe=t,Be=e;else{if(e===null)throw Error(N(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},qe===null?Ce.memoizedState=qe=e:qe=qe.next=e}return qe}function ll(e,t){return typeof t=="function"?t(e):t}function oi(e){var t=Ft(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=Be,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var a=s=null,c=null,f=o;do{var y=f.lane;if(($n&y)===y)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var w={lane:y,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(a=c=w,s=r):c=c.next=w,Ce.lanes|=y,An|=y}f=f.next}while(f!==null&&f!==o);c===null?s=r:c.next=a,Ot(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Ce.lanes|=o,An|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ii(e){var t=Ft(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);Ot(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Nc(){}function Dc(e,t){var n=Ce,r=Ft(),l=t(),o=!Ot(r.memoizedState,l);if(o&&(r.memoizedState=l,st=!0),r=r.queue,As(Lc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,ol(9,Bc.bind(null,n,r,l,t),void 0,null),He===null)throw Error(N(349));$n&30||Oc(n,t,l)}return l}function Oc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bc(e,t,n,r){t.value=n,t.getSnapshot=r,$c(t)&&Ac(e)}function Lc(e,t,n){return n(function(){$c(t)&&Ac(e)})}function $c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Ac(e){var t=Zt(e,1);t!==null&&Dt(t,e,1,-1)}function Aa(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:e},t.queue=e,e=e.dispatch=Rf.bind(null,Ce,e),[t.memoizedState,e]}function ol(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wc(){return Ft().memoizedState}function Al(e,t,n,r){var l=$t();Ce.flags|=e,l.memoizedState=ol(1|t,n,void 0,r===void 0?null:r)}function _o(e,t,n,r){var l=Ft();r=r===void 0?null:r;var o=void 0;if(Be!==null){var s=Be.memoizedState;if(o=s.destroy,r!==null&&Bs(r,s.deps)){l.memoizedState=ol(t,n,o,r);return}}Ce.flags|=e,l.memoizedState=ol(1|t,n,o,r)}function Wa(e,t){return Al(8390656,8,e,t)}function As(e,t){return _o(2048,8,e,t)}function Uc(e,t){return _o(4,2,e,t)}function qc(e,t){return _o(4,4,e,t)}function Hc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yc(e,t,n){return n=n!=null?n.concat([e]):null,_o(4,4,Hc.bind(null,t,e),n)}function Ws(){}function Vc(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gc(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xc(e,t,n){return $n&21?(Ot(n,t)||(n=ec(),Ce.lanes|=n,An|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function Ef(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=li.transition;li.transition={};try{e(!1),t()}finally{ge=n,li.transition=r}}function Qc(){return Ft().memoizedState}function Mf(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kc(e))Jc(t,n);else if(n=Pc(e,t,n,r),n!==null){var l=rt();Dt(n,e,r,l),Zc(n,t,r)}}function Rf(e,t,n){var r=kn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kc(e))Jc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(l.hasEagerState=!0,l.eagerState=a,Ot(a,s)){var c=t.interleaved;c===null?(l.next=l,Ts(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Pc(e,t,l,r),n!==null&&(l=rt(),Dt(n,e,r,l),Zc(n,t,r))}}function Kc(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Jc(e,t){$r=uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vs(e,n)}}var co={readContext:Ct,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},zf={readContext:Ct,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Al(4194308,4,Hc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Mf.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Aa,useDebugValue:Ws,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Ef.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,l=$t();if(be){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),He===null)throw Error(N(349));$n&30||Oc(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Wa(Lc.bind(null,r,o,e),[e]),r.flags|=2048,ol(9,Bc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=$t(),t=He.identifierPrefix;if(be){var n=Xt,r=Gt;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=rl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ff++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pf={readContext:Ct,useCallback:Vc,useContext:Ct,useEffect:As,useImperativeHandle:Yc,useInsertionEffect:Uc,useLayoutEffect:qc,useMemo:Gc,useReducer:oi,useRef:Wc,useState:function(){return oi(ll)},useDebugValue:Ws,useDeferredValue:function(e){var t=Ft();return Xc(t,Be.memoizedState,e)},useTransition:function(){var e=oi(ll)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Nc,useSyncExternalStore:Dc,useId:Qc,unstable_isNewReconciler:!1},Tf={readContext:Ct,useCallback:Vc,useContext:Ct,useEffect:As,useImperativeHandle:Yc,useInsertionEffect:Uc,useLayoutEffect:qc,useMemo:Gc,useReducer:ii,useRef:Wc,useState:function(){return ii(ll)},useDebugValue:Ws,useDeferredValue:function(e){var t=Ft();return Be===null?t.memoizedState=e:Xc(t,Be.memoizedState,e)},useTransition:function(){var e=ii(ll)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Nc,useSyncExternalStore:Dc,useId:Qc,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),l=kn(e),o=Qt(r,l);o.payload=t,n!=null&&(o.callback=n),t=xn(e,o,l),t!==null&&(Dt(t,e,l,r),Ll(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),l=kn(e),o=Qt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=xn(e,o,l),t!==null&&(Dt(t,e,l,r),Ll(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=kn(e),l=Qt(n,r);l.tag=2,t!=null&&(l.callback=t),t=xn(e,l,r),t!==null&&(Dt(t,e,r,n),Ll(t,e,r))}};function Ua(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Kr(n,r)||!Kr(l,o):!0}function ed(e,t,n){var r=!1,l=bn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(l=ut(t)?Bn:tt.current,r=t.contextTypes,o=(r=r!=null)?gr(e,l):bn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function qa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function Hi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Is(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Ct(o):(o=ut(t)?Bn:tt.current,l.context=gr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qi(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&jo.enqueueReplaceState(l,l.state,null),so(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=ip(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function si(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var If=typeof WeakMap=="function"?WeakMap:Map;function td(e,t,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fo||(fo=!0,ns=r),Yi(e,t)},n}function nd(e,t,n){n=Qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Yi(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yi(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ha(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new If;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Gf.bind(null,e,t,n),t.then(e,e))}function Ya(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Va(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Nf=tn.ReactCurrentOwner,st=!1;function nt(e,t,n,r){t.child=e===null?zc(t,null,n,r):mr(t,e.child,n,r)}function Ga(e,t,n,r,l){n=n.render;var o=t.ref;return dr(t,l),r=Ls(e,t,n,r,o,l),n=$s(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(be&&n&&Fs(t),t.flags|=1,nt(e,t,r,l),t.child)}function Xa(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Qs(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,rd(e,t,o,r,l)):(e=Hl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Kr,n(s,r)&&e.ref===t.ref)return en(e,t,l)}return t.flags|=1,e=wn(o,r),e.ref=t.ref,e.return=t,t.child=e}function rd(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Kr(o,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,en(e,t,l)}return Vi(e,t,n,r,l)}function ld(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ir,gt),gt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ir,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(ir,gt),gt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(ir,gt),gt|=r;return nt(e,t,l,n),t.child}function od(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,l){var o=ut(n)?Bn:tt.current;return o=gr(t,o),dr(t,l),n=Ls(e,t,n,r,o,l),r=$s(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(be&&r&&Fs(t),t.flags|=1,nt(e,t,n,l),t.child)}function Qa(e,t,n,r,l){if(ut(n)){var o=!0;no(t)}else o=!1;if(dr(t,l),t.stateNode===null)Wl(e,t),ed(t,n,r),Hi(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ct(f):(f=ut(n)?Bn:tt.current,f=gr(t,f));var y=n.getDerivedStateFromProps,w=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function";w||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==f)&&qa(t,s,r,f),un=!1;var m=t.memoizedState;s.state=m,so(t,r,s,l),c=t.memoizedState,a!==r||m!==c||at.current||un?(typeof y=="function"&&(qi(t,n,y,r),c=t.memoizedState),(a=un||Ua(t,n,a,r,m,c,f))?(w||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=f,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Tc(e,t),a=t.memoizedProps,f=t.type===t.elementType?a:Pt(t.type,a),s.props=f,w=t.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ct(c):(c=ut(n)?Bn:tt.current,c=gr(t,c));var M=n.getDerivedStateFromProps;(y=typeof M=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==w||m!==c)&&qa(t,s,r,c),un=!1,m=t.memoizedState,s.state=m,so(t,r,s,l);var z=t.memoizedState;a!==w||m!==z||at.current||un?(typeof M=="function"&&(qi(t,n,M,r),z=t.memoizedState),(f=un||Ua(t,n,f,r,m,z,c)||!1)?(y||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,z,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,z,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),s.props=r,s.state=z,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Gi(e,t,n,r,o,l)}function Gi(e,t,n,r,l,o){od(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&Na(t,n,!1),en(e,t,o);r=t.stateNode,Nf.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=mr(t,e.child,null,o),t.child=mr(t,null,a,o)):nt(e,t,a,o),t.memoizedState=r.state,l&&Na(t,n,!0),t.child}function id(e){var t=e.stateNode;t.pendingContext?Ia(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(e,t.context,!1),Ns(e,t.containerInfo)}function Ka(e,t,n,r,l){return hr(),Ms(l),t.flags|=256,nt(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function sd(e,t,n){var r=t.pendingProps,l=je.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(je,l&1),e===null)return Wi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Eo(s,r,0,null),e=On(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qi(n),t.memoizedState=Xi,e):Us(t,s));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Df(e,t,s,r,a,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=wn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?o=wn(a,o):(o=On(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Qi(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Xi,r}return o=e.child,e=o.sibling,r=wn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Us(e,t){return t=Eo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function El(e,t,n,r){return r!==null&&Ms(r),mr(t,e.child,null,n),e=Us(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Df(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=si(Error(N(422))),El(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Eo({mode:"visible",children:r.children},l,0,null),o=On(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&mr(t,e.child,null,s),t.child.memoizedState=Qi(s),t.memoizedState=Xi,o);if(!(t.mode&1))return El(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(N(419)),r=si(o,r,void 0),El(e,t,s,r)}if(a=(s&e.childLanes)!==0,st||a){if(r=He,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Zt(e,l),Dt(r,e,l,-1))}return Xs(),r=si(Error(N(421))),El(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Xf.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,ht=yn(l.nextSibling),mt=t,be=!0,It=null,e!==null&&(wt[St++]=Gt,wt[St++]=Xt,wt[St++]=Ln,Gt=e.id,Xt=e.overflow,Ln=t),t=Us(t,r.children),t.flags|=4096,t)}function Ja(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ui(e.return,t,n)}function ai(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function ad(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ja(e,n,t);else if(e.tag===19)Ja(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(je,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ao(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ai(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ao(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ai(t,!0,n,null,o);break;case"together":ai(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Of(e,t,n){switch(t.tag){case 3:id(t),hr();break;case 5:Ic(t);break;case 1:ut(t.type)&&no(t);break;case 4:Ns(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ye(oo,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?sd(e,t,n):(ye(je,je.current&1),e=en(e,t,n),e!==null?e.sibling:null);ye(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ad(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,ld(e,t,n)}return en(e,t,n)}var ud,Ki,cd,dd;ud=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ki=function(){};cd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Nn(qt.current);var o=null;switch(n){case"input":l=vi(e,l),r=vi(e,r),o=[];break;case"select":l=Fe({},l,{value:void 0}),r=Fe({},r,{value:void 0}),o=[];break;case"textarea":l=Si(e,l),r=Si(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=eo)}_i(n,r);var s;n=null;for(f in l)if(!r.hasOwnProperty(f)&&l.hasOwnProperty(f)&&l[f]!=null)if(f==="style"){var a=l[f];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(qr.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(a=l!=null?l[f]:void 0,r.hasOwnProperty(f)&&c!==a&&(c!=null||a!=null))if(f==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(qr.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ve("scroll",e),o||a===c||(o=[])):(o=o||[]).push(f,c))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};dd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mr(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bf(e,t,n){var r=t.pendingProps;switch(Es(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return ut(t.type)&&to(),Ze(t),null;case 3:return r=t.stateNode,yr(),ke(at),ke(tt),Os(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(os(It),It=null))),Ki(e,t),Ze(t),null;case 5:Ds(t);var l=Nn(nl.current);if(n=t.type,e!==null&&t.stateNode!=null)cd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Ze(t),null}if(e=Nn(qt.current),Cl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Wt]=t,r[el]=o,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(l=0;l<Ir.length;l++)ve(Ir[l],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":sa(r,o),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ve("invalid",r);break;case"textarea":ua(r,o),ve("invalid",r)}_i(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&jl(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&jl(r.textContent,a,e),l=["children",""+a]):qr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ve("scroll",r)}switch(n){case"input":yl(r),aa(r,o,!0);break;case"textarea":yl(r),ca(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=eo)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Wt]=t,e[el]=r,ud(e,t,!1,!1),t.stateNode=e;e:{switch(s=ji(n,r),n){case"dialog":ve("cancel",e),ve("close",e),l=r;break;case"iframe":case"object":case"embed":ve("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ir.length;l++)ve(Ir[l],e);l=r;break;case"source":ve("error",e),l=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),l=r;break;case"details":ve("toggle",e),l=r;break;case"input":sa(e,r),l=vi(e,r),ve("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Fe({},r,{value:void 0}),ve("invalid",e);break;case"textarea":ua(e,r),l=Si(e,r),ve("invalid",e);break;default:l=r}_i(n,l),a=l;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Wu(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$u(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Hr(e,c):typeof c=="number"&&Hr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",e):c!=null&&fs(e,o,c,s))}switch(n){case"input":yl(e),aa(e,r,!1);break;case"textarea":yl(e),ca(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?sr(e,!!r.multiple,o,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=eo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)dd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Nn(nl.current),Nn(qt.current),Cl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wt]=t,(o=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:jl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return Ze(t),null;case 13:if(ke(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&ht!==null&&t.mode&1&&!(t.flags&128))Mc(),hr(),t.flags|=98560,o=!1;else if(o=Cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(N(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[Wt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),o=!1}else It!==null&&(os(It),It=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Le===0&&(Le=3):Xs())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return yr(),Ki(e,t),e===null&&Jr(t.stateNode.containerInfo),Ze(t),null;case 10:return Ps(t.type._context),Ze(t),null;case 17:return ut(t.type)&&to(),Ze(t),null;case 19:if(ke(je),o=t.memoizedState,o===null)return Ze(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Mr(o,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ao(e),s!==null){for(t.flags|=128,Mr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&Te()>vr&&(t.flags|=128,r=!0,Mr(o,!1),t.lanes=4194304)}else{if(!r)if(e=ao(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!be)return Ze(t),null}else 2*Te()-o.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,r=!0,Mr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Te(),t.sibling=null,n=je.current,ye(je,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return Gs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Lf(e,t){switch(Es(t),t.tag){case 1:return ut(t.type)&&to(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),ke(at),ke(tt),Os(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ds(t),null;case 13:if(ke(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(je),null;case 4:return yr(),null;case 10:return Ps(t.type._context),null;case 22:case 23:return Gs(),null;case 24:return null;default:return null}}var Ml=!1,et=!1,$f=typeof WeakSet=="function"?WeakSet:Set,X=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function Ji(e,t,n){try{n()}catch(r){ze(e,t,r)}}var Za=!1;function Af(e,t){if(Ni=Kl,e=mc(),Cs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,f=0,y=0,w=e,m=null;t:for(;;){for(var M;w!==n||l!==0&&w.nodeType!==3||(a=s+l),w!==o||r!==0&&w.nodeType!==3||(c=s+r),w.nodeType===3&&(s+=w.nodeValue.length),(M=w.firstChild)!==null;)m=w,w=M;for(;;){if(w===e)break t;if(m===n&&++f===l&&(a=s),m===o&&++y===r&&(c=s),(M=w.nextSibling)!==null)break;w=m,m=w.parentNode}w=M}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Di={focusedElem:e,selectionRange:n},Kl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var k=z.memoizedProps,x=z.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?k:Pt(t.type,k),x);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(F){ze(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return z=Za,Za=!1,z}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ji(t,n,o)}l=l.next}while(l!==r)}}function Co(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pd(e){var t=e.alternate;t!==null&&(e.alternate=null,pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[el],delete t[Li],delete t[bf],delete t[_f])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fd(e){return e.tag===5||e.tag===3||e.tag===4}function eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function es(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=eo));else if(r!==4&&(e=e.child,e!==null))for(es(e,t,n),e=e.sibling;e!==null;)es(e,t,n),e=e.sibling}function ts(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ts(e,t,n),e=e.sibling;e!==null;)ts(e,t,n),e=e.sibling}var Ve=null,Tt=!1;function ln(e,t,n){for(n=n.child;n!==null;)gd(e,t,n),n=n.sibling}function gd(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(xo,n)}catch{}switch(n.tag){case 5:et||or(n,t);case 6:var r=Ve,l=Tt;Ve=null,ln(e,t,n),Ve=r,Tt=l,Ve!==null&&(Tt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Tt?(e=Ve,n=n.stateNode,e.nodeType===8?ti(e.parentNode,n):e.nodeType===1&&ti(e,n),Xr(e)):ti(Ve,n.stateNode));break;case 4:r=Ve,l=Tt,Ve=n.stateNode.containerInfo,Tt=!0,ln(e,t,n),Ve=r,Tt=l;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ji(n,t,s),l=l.next}while(l!==r)}ln(e,t,n);break;case 1:if(!et&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,t,a)}ln(e,t,n);break;case 21:ln(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,ln(e,t,n),et=r):ln(e,t,n);break;default:ln(e,t,n)}}function tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $f),t.forEach(function(r){var l=Qf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Tt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Tt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Tt=!0;break e}a=a.return}if(Ve===null)throw Error(N(160));gd(o,s,l),Ve=null,Tt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(f){ze(l,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hd(t,e),t=t.sibling}function hd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Lt(e),r&4){try{Ar(3,e,e.return),Co(3,e)}catch(k){ze(e,e.return,k)}try{Ar(5,e,e.return)}catch(k){ze(e,e.return,k)}}break;case 1:Rt(t,e),Lt(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(Rt(t,e),Lt(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var l=e.stateNode;try{Hr(l,"")}catch(k){ze(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ou(l,o),ji(a,s);var f=ji(a,o);for(s=0;s<c.length;s+=2){var y=c[s],w=c[s+1];y==="style"?Wu(l,w):y==="dangerouslySetInnerHTML"?$u(l,w):y==="children"?Hr(l,w):fs(l,y,w,f)}switch(a){case"input":ki(l,o);break;case"textarea":Bu(l,o);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var M=o.value;M!=null?sr(l,!!o.multiple,M,!1):m!==!!o.multiple&&(o.defaultValue!=null?sr(l,!!o.multiple,o.defaultValue,!0):sr(l,!!o.multiple,o.multiple?[]:"",!1))}l[el]=o}catch(k){ze(e,e.return,k)}}break;case 6:if(Rt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(N(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(k){ze(e,e.return,k)}}break;case 3:if(Rt(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xr(t.containerInfo)}catch(k){ze(e,e.return,k)}break;case 4:Rt(t,e),Lt(e);break;case 13:Rt(t,e),Lt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Ys=Te())),r&4&&tu(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(et=(f=et)||y,Rt(t,e),et=f):Rt(t,e),Lt(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!y&&e.mode&1)for(X=e,y=e.child;y!==null;){for(w=X=y;X!==null;){switch(m=X,M=m.child,m.tag){case 0:case 11:case 14:case 15:Ar(4,m,m.return);break;case 1:or(m,m.return);var z=m.stateNode;if(typeof z.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(k){ze(r,n,k)}}break;case 5:or(m,m.return);break;case 22:if(m.memoizedState!==null){ru(w);continue}}M!==null?(M.return=m,X=M):ru(w)}y=y.sibling}e:for(y=null,w=e;;){if(w.tag===5){if(y===null){y=w;try{l=w.stateNode,f?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=w.stateNode,c=w.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Au("display",s))}catch(k){ze(e,e.return,k)}}}else if(w.tag===6){if(y===null)try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(k){ze(e,e.return,k)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;y===w&&(y=null),w=w.return}y===w&&(y=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Rt(t,e),Lt(e),r&4&&tu(e);break;case 21:break;default:Rt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fd(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Hr(l,""),r.flags&=-33);var o=eu(e);ts(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,a=eu(e);es(e,a,s);break;default:throw Error(N(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wf(e,t,n){X=e,md(e)}function md(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var l=X,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||Ml;if(!s){var a=l.alternate,c=a!==null&&a.memoizedState!==null||et;a=Ml;var f=et;if(Ml=s,(et=c)&&!f)for(X=l;X!==null;)s=X,c=s.child,s.tag===22&&s.memoizedState!==null?lu(l):c!==null?(c.return=s,X=c):lu(l);for(;o!==null;)X=o,md(o),o=o.sibling;X=l,Ml=a,et=f}nu(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,X=o):nu(e)}}function nu(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Co(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$a(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$a(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var y=f.memoizedState;if(y!==null){var w=y.dehydrated;w!==null&&Xr(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}et||t.flags&512&&Zi(t)}catch(m){ze(t,t.return,m)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function ru(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function lu(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Co(4,t)}catch(c){ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ze(t,l,c)}}var o=t.return;try{Zi(t)}catch(c){ze(t,o,c)}break;case 5:var s=t.return;try{Zi(t)}catch(c){ze(t,s,c)}}}catch(c){ze(t,t.return,c)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var Uf=Math.ceil,po=tn.ReactCurrentDispatcher,qs=tn.ReactCurrentOwner,jt=tn.ReactCurrentBatchConfig,pe=0,He=null,Oe=null,Ge=0,gt=0,ir=jn(0),Le=0,il=null,An=0,Fo=0,Hs=0,Wr=null,it=null,Ys=0,vr=1/0,Yt=null,fo=!1,ns=null,vn=null,Rl=!1,fn=null,go=0,Ur=0,rs=null,Ul=-1,ql=0;function rt(){return pe&6?Te():Ul!==-1?Ul:Ul=Te()}function kn(e){return e.mode&1?pe&2&&Ge!==0?Ge&-Ge:Cf.transition!==null?(ql===0&&(ql=ec()),ql):(e=ge,e!==0||(e=window.event,e=e===void 0?16:sc(e.type)),e):1}function Dt(e,t,n,r){if(50<Ur)throw Ur=0,rs=null,Error(N(185));al(e,n,r),(!(pe&2)||e!==He)&&(e===He&&(!(pe&2)&&(Fo|=n),Le===4&&dn(e,Ge)),ct(e,r),n===1&&pe===0&&!(t.mode&1)&&(vr=Te()+500,bo&&Cn()))}function ct(e,t){var n=e.callbackNode;jp(e,t);var r=Ql(e,e===He?Ge:0);if(r===0)n!==null&&fa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fa(n),t===1)e.tag===0?jf(ou.bind(null,e)):Cc(ou.bind(null,e)),wf(function(){!(pe&6)&&Cn()}),n=null;else{switch(tc(r)){case 1:n=xs;break;case 4:n=Ju;break;case 16:n=Xl;break;case 536870912:n=Zu;break;default:n=Xl}n=_d(n,yd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yd(e,t){if(Ul=-1,ql=0,pe&6)throw Error(N(327));var n=e.callbackNode;if(pr()&&e.callbackNode!==n)return null;var r=Ql(e,e===He?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ho(e,r);else{t=r;var l=pe;pe|=2;var o=vd();(He!==e||Ge!==t)&&(Yt=null,vr=Te()+500,Dn(e,t));do try{Yf();break}catch(a){xd(e,a)}while(!0);zs(),po.current=o,pe=l,Oe!==null?t=0:(He=null,Ge=0,t=Le)}if(t!==0){if(t===2&&(l=Ri(e),l!==0&&(r=l,t=ls(e,l))),t===1)throw n=il,Dn(e,0),dn(e,r),ct(e,Te()),n;if(t===6)dn(e,r);else{if(l=e.current.alternate,!(r&30)&&!qf(l)&&(t=ho(e,r),t===2&&(o=Ri(e),o!==0&&(r=o,t=ls(e,o))),t===1))throw n=il,Dn(e,0),dn(e,r),ct(e,Te()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Pn(e,it,Yt);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=Ys+500-Te(),10<t)){if(Ql(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Bi(Pn.bind(null,e,it,Yt),t);break}Pn(e,it,Yt);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-Nt(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uf(r/1960))-r,10<r){e.timeoutHandle=Bi(Pn.bind(null,e,it,Yt),r);break}Pn(e,it,Yt);break;case 5:Pn(e,it,Yt);break;default:throw Error(N(329))}}}return ct(e,Te()),e.callbackNode===n?yd.bind(null,e):null}function ls(e,t){var n=Wr;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=ho(e,t),e!==2&&(t=it,it=n,t!==null&&os(t)),e}function os(e){it===null?it=e:it.push.apply(it,e)}function qf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Ot(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Hs,t&=~Fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(pe&6)throw Error(N(327));pr();var t=Ql(e,0);if(!(t&1))return ct(e,Te()),null;var n=ho(e,t);if(e.tag!==0&&n===2){var r=Ri(e);r!==0&&(t=r,n=ls(e,r))}if(n===1)throw n=il,Dn(e,0),dn(e,t),ct(e,Te()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,it,Yt),ct(e,Te()),null}function Vs(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(vr=Te()+500,bo&&Cn())}}function Wn(e){fn!==null&&fn.tag===0&&!(pe&6)&&pr();var t=pe;pe|=1;var n=jt.transition,r=ge;try{if(jt.transition=null,ge=1,e)return e()}finally{ge=r,jt.transition=n,pe=t,!(pe&6)&&Cn()}}function Gs(){gt=ir.current,ke(ir)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kf(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Es(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&to();break;case 3:yr(),ke(at),ke(tt),Os();break;case 5:Ds(r);break;case 4:yr();break;case 13:ke(je);break;case 19:ke(je);break;case 10:Ps(r.type._context);break;case 22:case 23:Gs()}n=n.return}if(He=e,Oe=e=wn(e.current,null),Ge=gt=t,Le=0,il=null,Hs=Fo=An=0,it=Wr=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}In=null}return e}function xd(e,t){do{var n=Oe;try{if(zs(),$l.current=co,uo){for(var r=Ce.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}uo=!1}if($n=0,qe=Be=Ce=null,$r=!1,rl=0,qs.current=null,n===null||n.return===null){Le=1,il=t,Oe=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=Ge,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,y=a,w=y.tag;if(!(y.mode&1)&&(w===0||w===11||w===15)){var m=y.alternate;m?(y.updateQueue=m.updateQueue,y.memoizedState=m.memoizedState,y.lanes=m.lanes):(y.updateQueue=null,y.memoizedState=null)}var M=Ya(s);if(M!==null){M.flags&=-257,Va(M,s,a,o,t),M.mode&1&&Ha(o,f,t),t=M,c=f;var z=t.updateQueue;if(z===null){var k=new Set;k.add(c),t.updateQueue=k}else z.add(c);break e}else{if(!(t&1)){Ha(o,f,t),Xs();break e}c=Error(N(426))}}else if(be&&a.mode&1){var x=Ya(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Va(x,s,a,o,t),Ms(xr(c,a));break e}}o=c=xr(c,a),Le!==4&&(Le=2),Wr===null?Wr=[o]:Wr.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=td(o,c,t);La(o,p);break e;case 1:a=c;var d=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(vn===null||!vn.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var F=nd(o,a,t);La(o,F);break e}}o=o.return}while(o!==null)}wd(n)}catch(R){t=R,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function vd(){var e=po.current;return po.current=co,e===null?co:e}function Xs(){(Le===0||Le===3||Le===2)&&(Le=4),He===null||!(An&268435455)&&!(Fo&268435455)||dn(He,Ge)}function ho(e,t){var n=pe;pe|=2;var r=vd();(He!==e||Ge!==t)&&(Yt=null,Dn(e,t));do try{Hf();break}catch(l){xd(e,l)}while(!0);if(zs(),pe=n,po.current=r,Oe!==null)throw Error(N(261));return He=null,Ge=0,Le}function Hf(){for(;Oe!==null;)kd(Oe)}function Yf(){for(;Oe!==null&&!mp();)kd(Oe)}function kd(e){var t=bd(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?wd(e):Oe=t,qs.current=null}function wd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lf(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Oe=null;return}}else if(n=Bf(n,t,gt),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Le===0&&(Le=5)}function Pn(e,t,n){var r=ge,l=jt.transition;try{jt.transition=null,ge=1,Vf(e,t,n,r)}finally{jt.transition=l,ge=r}return null}function Vf(e,t,n,r){do pr();while(fn!==null);if(pe&6)throw Error(N(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Cp(e,o),e===He&&(Oe=He=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rl||(Rl=!0,_d(Xl,function(){return pr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var s=ge;ge=1;var a=pe;pe|=4,qs.current=null,Af(e,n),hd(n,e),ff(Di),Kl=!!Ni,Di=Ni=null,e.current=n,Wf(n),yp(),pe=a,ge=s,jt.transition=o}else e.current=n;if(Rl&&(Rl=!1,fn=e,go=l),o=e.pendingLanes,o===0&&(vn=null),kp(n.stateNode),ct(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(fo)throw fo=!1,e=ns,ns=null,e;return go&1&&e.tag!==0&&pr(),o=e.pendingLanes,o&1?e===rs?Ur++:(Ur=0,rs=e):Ur=0,Cn(),null}function pr(){if(fn!==null){var e=tc(go),t=jt.transition,n=ge;try{if(jt.transition=null,ge=16>e?16:e,fn===null)var r=!1;else{if(e=fn,fn=null,go=0,pe&6)throw Error(N(331));var l=pe;for(pe|=4,X=e.current;X!==null;){var o=X,s=o.child;if(X.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var f=a[c];for(X=f;X!==null;){var y=X;switch(y.tag){case 0:case 11:case 15:Ar(8,y,o)}var w=y.child;if(w!==null)w.return=y,X=w;else for(;X!==null;){y=X;var m=y.sibling,M=y.return;if(pd(y),y===f){X=null;break}if(m!==null){m.return=M,X=m;break}X=M}}}var z=o.alternate;if(z!==null){var k=z.child;if(k!==null){z.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}X=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,X=s;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ar(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,X=p;break e}X=o.return}}var d=e.current;for(X=d;X!==null;){s=X;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,X=g;else e:for(s=d;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Co(9,a)}}catch(R){ze(a,a.return,R)}if(a===s){X=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,X=F;break e}X=a.return}}if(pe=l,Cn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(xo,e)}catch{}r=!0}return r}finally{ge=n,jt.transition=t}}return!1}function iu(e,t,n){t=xr(n,t),t=td(e,t,1),e=xn(e,t,1),t=rt(),e!==null&&(al(e,1,t),ct(e,t))}function ze(e,t,n){if(e.tag===3)iu(e,e,n);else for(;t!==null;){if(t.tag===3){iu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=xr(n,e),e=nd(t,e,1),t=xn(t,e,1),e=rt(),t!==null&&(al(t,1,e),ct(t,e));break}}t=t.return}}function Gf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ge&n)===n&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>Te()-Ys?Dn(e,0):Hs|=n),ct(e,t)}function Sd(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var n=rt();e=Zt(e,t),e!==null&&(al(e,t,n),ct(e,n))}function Xf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sd(e,n)}function Qf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Sd(e,n)}var bd;bd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,Of(e,t,n);st=!!(e.flags&131072)}else st=!1,be&&t.flags&1048576&&Fc(t,lo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var l=gr(t,tt.current);dr(t,n),l=Ls(null,t,r,e,l,n);var o=$s();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(o=!0,no(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Is(t),l.updater=jo,t.stateNode=l,l._reactInternals=t,Hi(t,r,e,n),t=Gi(null,t,r,!0,o,n)):(t.tag=0,be&&o&&Fs(t),nt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Jf(r),e=Pt(r,e),l){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Qa(null,t,r,e,n);break e;case 11:t=Ga(null,t,r,e,n);break e;case 14:t=Xa(null,t,r,Pt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Vi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Qa(e,t,r,l,n);case 3:e:{if(id(t),e===null)throw Error(N(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Tc(e,t),so(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=xr(Error(N(423)),t),t=Ka(e,t,r,n,l);break e}else if(r!==l){l=xr(Error(N(424)),t),t=Ka(e,t,r,n,l);break e}else for(ht=yn(t.stateNode.containerInfo.firstChild),mt=t,be=!0,It=null,n=zc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===l){t=en(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return Ic(t),e===null&&Wi(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,Oi(r,l)?s=null:o!==null&&Oi(r,o)&&(t.flags|=32),od(e,t),nt(e,t,s,n),t.child;case 6:return e===null&&Wi(t),null;case 13:return sd(e,t,n);case 4:return Ns(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Ga(e,t,r,l,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,ye(oo,r._currentValue),r._currentValue=s,o!==null)if(Ot(o.value,s)){if(o.children===l.children&&!at.current){t=en(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Qt(-1,n&-n),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var y=f.pending;y===null?c.next=c:(c.next=y.next,y.next=c),f.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ui(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ui(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,dr(t,n),l=Ct(l),r=r(l),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,l=Pt(r,t.pendingProps),l=Pt(r.type,l),Xa(e,t,r,l,n);case 15:return rd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),Wl(e,t),t.tag=1,ut(r)?(e=!0,no(t)):e=!1,dr(t,n),ed(t,r,l),Hi(t,r,l,n),Gi(null,t,r,!0,e,n);case 19:return ad(e,t,n);case 22:return ld(e,t,n)}throw Error(N(156,t.tag))};function _d(e,t){return Ku(e,t)}function Kf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new Kf(e,t,n,r)}function Qs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jf(e){if(typeof e=="function")return Qs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hs)return 11;if(e===ms)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")Qs(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Qn:return On(n.children,l,o,t);case gs:s=8,l|=8;break;case hi:return e=_t(12,n,t,l|2),e.elementType=hi,e.lanes=o,e;case mi:return e=_t(13,n,t,l),e.elementType=mi,e.lanes=o,e;case yi:return e=_t(19,n,t,l),e.elementType=yi,e.lanes=o,e;case Iu:return Eo(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pu:s=10;break e;case Tu:s=9;break e;case hs:s=11;break e;case ms:s=14;break e;case an:s=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=_t(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function On(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function Eo(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Iu,e.lanes=n,e.stateNode={isHidden:!1},e}function ui(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function ci(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ks(e,t,n,r,l,o,s,a,c){return e=new Zf(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(o),e}function eg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jd(e){if(!e)return bn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(ut(n))return jc(e,n,t)}return t}function Cd(e,t,n,r,l,o,s,a,c){return e=Ks(n,r,!0,e,l,o,s,a,c),e.context=jd(null),n=e.current,r=rt(),l=kn(n),o=Qt(r,l),o.callback=t??null,xn(n,o,l),e.current.lanes=l,al(e,l,r),ct(e,r),e}function Mo(e,t,n,r){var l=t.current,o=rt(),s=kn(l);return n=jd(n),t.context===null?t.context=n:t.pendingContext=n,t=Qt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(l,t,s),e!==null&&(Dt(e,l,s,o),Ll(e,l,s)),s}function mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Js(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function tg(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zs(e){this._internalRoot=e}Ro.prototype.render=Zs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Mo(e,t,null,null)};Ro.prototype.unmount=Zs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){Mo(null,e,null,null)}),t[Jt]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=lc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&ic(e)}};function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function au(){}function ng(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var f=mo(s);o.call(f)}}var s=Cd(t,r,e,0,null,!1,!1,"",au);return e._reactRootContainer=s,e[Jt]=s.current,Jr(e.nodeType===8?e.parentNode:e),Wn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var f=mo(c);a.call(f)}}var c=Ks(e,0,!1,null,null,!1,!1,"",au);return e._reactRootContainer=c,e[Jt]=c.current,Jr(e.nodeType===8?e.parentNode:e),Wn(function(){Mo(t,c,n,r)}),c}function Po(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var a=l;l=function(){var c=mo(s);a.call(c)}}Mo(t,s,e,l)}else s=ng(n,t,e,l,r);return mo(s)}nc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tr(t.pendingLanes);n!==0&&(vs(t,n|1),ct(t,Te()),!(pe&6)&&(vr=Te()+500,Cn()))}break;case 13:Wn(function(){var r=Zt(e,1);if(r!==null){var l=rt();Dt(r,e,1,l)}}),Js(e,1)}};ks=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=rt();Dt(t,e,134217728,n)}Js(e,134217728)}};rc=function(e){if(e.tag===13){var t=kn(e),n=Zt(e,t);if(n!==null){var r=rt();Dt(n,e,t,r)}Js(e,t)}};lc=function(){return ge};oc=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Fi=function(e,t,n){switch(t){case"input":if(ki(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=So(r);if(!l)throw Error(N(90));Du(r),ki(r,l)}}}break;case"textarea":Bu(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};Hu=Vs;Yu=Wn;var rg={usingClientEntryPoint:!1,Events:[cl,er,So,Uu,qu,Vs]},Rr={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lg={bundleType:Rr.bundleType,version:Rr.version,rendererPackageName:Rr.rendererPackageName,rendererConfig:Rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xu(e),e===null?null:e.stateNode},findFiberByHostInstance:Rr.findFiberByHostInstance||tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{xo=zl.inject(lg),Ut=zl}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rg;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ea(t))throw Error(N(200));return eg(e,t,null,n)};xt.createRoot=function(e,t){if(!ea(e))throw Error(N(299));var n=!1,r="",l=Fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ks(e,1,!1,null,null,n,!1,r,l),e[Jt]=t.current,Jr(e.nodeType===8?e.parentNode:e),new Zs(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Xu(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Wn(e)};xt.hydrate=function(e,t,n){if(!zo(t))throw Error(N(200));return Po(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!ea(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=Fd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Cd(t,null,e,1,n??null,l,!1,o,s),e[Jt]=t.current,Jr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ro(t)};xt.render=function(e,t,n){if(!zo(t))throw Error(N(200));return Po(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!zo(e))throw Error(N(40));return e._reactRootContainer?(Wn(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};xt.unstable_batchedUpdates=Vs;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zo(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Po(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Ed(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ed)}catch(e){console.error(e)}}Ed(),Eu.exports=xt;var og=Eu.exports,Md,uu=og;Md=uu.createRoot,uu.hydrateRoot;const bt={start:{label:"Origin",color:"#FFD700",glow:"#FFE855"},infrastructure:{label:"Infrastructure",color:"#8B7355",glow:"#C4A882"},sanctuary:{label:"Sanctuary",color:"#4A7C59",glow:"#7DB88A"},cultural:{label:"Cultural",color:"#7B5EA7",glow:"#B89FD4"},community:{label:"Community",color:"#C17B2F",glow:"#E8A855"},enrichment:{label:"Enrichment",color:"#2F7B8C",glow:"#55B8CC"},resort:{label:"Resort",color:"#8C4A2F",glow:"#CC7555"},experience:{label:"Experience",color:"#5A7B3F",glow:"#8FBD6A"},revenue:{label:"Revenue",color:"#2F6B8C",glow:"#55AACC"},legacy:{label:"Legacy",color:"#8C6B2F",glow:"#D4A855"}},cu=[{id:"land",label:"Land Secured",category:"start",phase:0,cost:null,status:"built",description:"300-400 acres of Southern Maine forested land. The founding stone. Everything flows from here.",dependencies:[],unlocks:["porta_potties"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"porta_potties",label:"Porta-Potties",category:"infrastructure",phase:0,cost:3e3,status:"available",description:"First microphase. Monthly rental. Required before any physical work begins.",dependencies:["land"],unlocks:["perimeter_fence","basic_trails","water_well","power_solar","access_road","master_waller_dwelling","tree_art","firewood","chaga_program"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"perimeter_fence",label:"Perimeter Fence",category:"infrastructure",phase:1,cost:8e4,status:"locked",description:"Boundary fencing. Keeps sanctuary dogs safe before the wall is complete.",dependencies:["porta_potties"],unlocks:["sanctuary_core","forest_dining"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"water_well",label:"Water & Well",category:"infrastructure",phase:1,cost:45e3,status:"locked",description:"Primary water supply for the entire property.",dependencies:["porta_potties"],unlocks:["sanctuary_core","water_channels","aqua_fetch"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"power_solar",label:"Power & Solar",category:"infrastructure",phase:1,cost:12e4,status:"locked",description:"Solar-primary power infrastructure.",dependencies:["porta_potties"],unlocks:["basic_trails","listening_posts"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"basic_trails",label:"Basic Trail Network",category:"infrastructure",phase:1,cost:6e4,status:"locked",description:"Primary trail network. Foundation for almost all outdoor experiences.",dependencies:["porta_potties","power_solar"],unlocks:["memory_lane_trail","extreme_fetch","ice_rink","tree_art","mood_meadow","tunnel_network","sniff_library","sound_pads","dawn_chorus","gifting_tree","matchmaking_walks","firewood"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"access_road",label:"Access Road",category:"infrastructure",phase:1,cost:35e3,status:"locked",description:"Paved access road from public road to central village.",dependencies:["porta_potties"],unlocks:["central_village","dutch_snackbar","forest_dining"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"sanctuary_core",label:"Sanctuary Core",category:"sanctuary",phase:1,cost:25e4,status:"locked",description:"Core dog sanctuary. Kennels, runs, intake area.",dependencies:["perimeter_fence","water_well"],unlocks:["vet_facility","communication_boards","dog_daycare","scent_system","animal_adoption","multi_species"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"vet_facility",label:"Veterinary Facility",category:"sanctuary",phase:1,cost:18e4,status:"locked",description:"On-site veterinary clinic.",dependencies:["sanctuary_core"],unlocks:["transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"communication_boards",label:"Communication Boards",category:"sanctuary",phase:1,cost:25e3,status:"locked",description:"24-button boards for all sanctuary dogs. Unchangeable commitment.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"dog_daycare",label:"Dog Daycare",category:"sanctuary",phase:1,cost:15e3,status:"locked",description:"Supervised daycare for guest dogs. Early revenue stream.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"matchmaking_walks",label:"Dog Matchmaking Walks",category:"sanctuary",phase:1,cost:2e3,status:"locked",description:"Staff-matched walks pairing guests with sanctuary dogs.",dependencies:["sanctuary_core","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"scent_system",label:"Scent Coding System",category:"sanctuary",phase:2,cost:18e3,status:"locked",description:"Villa scent markers + staff uniform scent coding.",dependencies:["sanctuary_core"],unlocks:["scent_menu"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"scent_menu",label:"Dog Scent Menu",category:"sanctuary",phase:2,cost:8e3,status:"locked",description:"Dog-friendly restaurant scent menu.",dependencies:["scent_system"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"animal_adoption",label:"On-Site Animal Adoption",category:"sanctuary",phase:2,cost:5e3,status:"locked",description:"Zoo-style sponsorship. Animal lives at ND permanently.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"multi_species",label:"Multi-Species Sanctuary",category:"sanctuary",phase:2,cost:4e4,status:"locked",description:"Donkeys, goats, ducks. Trail companions programme.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"master_waller_dwelling",label:"Master Waller Dwelling",category:"cultural",phase:1,cost:175e3,status:"locked",description:"Home for the master waller. Lifetime appointment.",dependencies:["porta_potties"],unlocks:["perimeter_wall"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"perimeter_wall",label:"Perimeter Wall (Begin)",category:"cultural",phase:1,cost:3e5,status:"locked",description:"Begin 3+ mile drystone wall. 20-25 year project.",dependencies:["master_waller_dwelling"],unlocks:["hero_stones","memorial_urn_stones"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"hero_stones",label:"Hero Stones Programme",category:"cultural",phase:1,cost:5e3,status:"locked",description:"Inscribed donor stones in the wall. Foster youth stones are free.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"memorial_urn_stones",label:"Memorial Urn Stones",category:"cultural",phase:1,cost:5e3,status:"locked",description:"Patron dogs' ashes embedded in the wall. Inviolate.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"dutch_snackbar",label:"Dutch Snackbar",category:"cultural",phase:1,cost:35e3,status:"locked",description:"Wood-fired pizza + kapsalon + patat speciaal. Authentic Remia sauces.",dependencies:["access_road"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"forest_dining",label:"Forest Dining",category:"cultural",phase:1,cost:45e3,status:"locked",description:"Distributed forest grill sites. Golf cart delivery. Winter fondue.",dependencies:["perimeter_fence","access_road"],unlocks:["slow_table"],generalFundMin:null,repeatableReqs:[{repeatableId:"picnic_bench",minCount:6}],perk:""},{id:"slow_table",label:"The Slow Table",category:"community",phase:1,cost:8e3,status:"locked",description:"Weekly communal dinner. 12 seats. No phones.",dependencies:["forest_dining"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"gingerworks",label:"Gingerworks",category:"cultural",phase:2,cost:35e4,status:"locked",description:"The pub and micro-brewery.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"repair_workshop",label:"Repair Workshop",category:"cultural",phase:2,cost:6e4,status:"locked",description:"Open-sided maker space. Kintsugi philosophy.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"chapel",label:"Unitarian Chapel",category:"cultural",phase:3,cost:225e3,status:"locked",description:"Timber-frame chapel. Weddings, animal funerals, foster youth graduations.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"extreme_fetch",label:"Extreme Fetch Field",category:"community",phase:1,cost:2e4,status:"locked",description:"Fan-shaped outfield with 3-tier launch systems.",dependencies:["basic_trails"],unlocks:["aqua_fetch"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"aqua_fetch",label:"Aqua Fetch Bay",category:"community",phase:2,cost:3e4,status:"locked",description:"Water-based Extreme Fetch.",dependencies:["extreme_fetch","water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"ice_rink",label:"Natural Ice Rink",category:"community",phase:1,cost:12e3,status:"locked",description:"Wood-fenced, flooded, uncooled rink. Maine winter.",dependencies:["basic_trails"],unlocks:["skating_trails"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"skating_trails",label:"Forest Skating Trails",category:"community",phase:2,cost:2e4,status:"locked",description:"Montreal-style flooded skating trails.",dependencies:["ice_rink","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"gifting_tree",label:"The Gifting Tree",category:"community",phase:1,cost:500,status:"locked",description:"Marked trees with weatherproof slots. Perpetual guest-to-stranger exchange.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"dawn_chorus",label:"Dawn Chorus Experience",category:"community",phase:1,cost:1500,status:"locked",description:"Max 6. 4:30am. Silent walk. Maine spring dawn chorus.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"sniff_library",label:"Sniff Library",category:"enrichment",phase:1,cost:4e3,status:"locked",description:"Sealed scent cartridges. Dogs browse by smell.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"tunnel_network",label:"Tunnel Network",category:"enrichment",phase:2,cost:12e3,status:"locked",description:"Buried tubes connecting dog park.",dependencies:["basic_trails","sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"mood_meadow",label:"Mood Meadow",category:"enrichment",phase:1,cost:2e3,status:"locked",description:"Canine herb sections. Valerian, mint, chamomile, lavender.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"sound_pads",label:"Mechanical Sound Pads",category:"enrichment",phase:1,cost:6e3,status:"locked",description:"Step = BONK/DING/CLONK. No electronics.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"listening_posts",label:"Listening Posts",category:"enrichment",phase:2,cost:5e3,status:"locked",description:"Ground-level speakers at dog-ear height.",dependencies:["basic_trails","power_solar"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"central_village",label:"Central Village",category:"resort",phase:2,cost:8e5,status:"locked",description:"Central hub. Restaurant, caf, reception, Kustom Kibble.",dependencies:["access_road","water_well","power_solar"],unlocks:["gingerworks","repair_workshop","kustom_kibble","artisan_village","villas_phase1"],generalFundMin:5e4,repeatableReqs:[],perk:""},{id:"villas_phase1",label:"First 10 Villas",category:"resort",phase:2,cost:25e5,status:"locked",description:"BOGO model. Every paying guest funds a free stay.",dependencies:["central_village"],unlocks:["villas_phase2","rfid_system"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"villas_phase2",label:"Next 20 Villas",category:"resort",phase:3,cost:5e6,status:"locked",description:"Scale to 30 villas.",dependencies:["villas_phase1"],unlocks:["artisan_housing","villas_phase3"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"villas_phase3",label:"50+ Villas",category:"resort",phase:4,cost:1e7,status:"locked",description:"Full villa estate.",dependencies:["villas_phase2"],unlocks:["the_jewel","transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"kustom_kibble",label:"Kustom Kibble",category:"resort",phase:2,cost:65e3,status:"locked",description:"Jelly Belly-style dispensers. BOGO - every pound bought = pound donated.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"artisan_village",label:"Artisan Village",category:"resort",phase:3,cost:2e6,status:"locked",description:"Arc of storefronts. External-facing without resort entry.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"artisan_housing",label:"Artisan Housing",category:"resort",phase:3,cost:15e5,status:"locked",description:"On-site housing for artisan partners.",dependencies:["villas_phase2"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"memory_lane_trail",label:"Memory Lane Trail",category:"experience",phase:2,cost:28e3,status:"locked",description:"Synced speaker system. 2-3 mile contemplative trail.",dependencies:["basic_trails","power_solar"],unlocks:["rfid_system"],generalFundMin:null,repeatableReqs:[],perk:""},{id:"rfid_system",label:"RFID Light & Sound",category:"experience",phase:2,cost:12e4,status:"locked",description:"Personal bubble of light and sound.",dependencies:["memory_lane_trail","villas_phase1"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"water_channels",label:"Water Channels",category:"experience",phase:1,cost:45e3,status:"locked",description:"Japanese garden-style stone-lined channels.",dependencies:["water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"tree_art",label:"Tree Art Programme",category:"experience",phase:1,cost:4e3,status:"locked",description:"Living sculptures: pleached tunnels, woven groves.",dependencies:["porta_potties"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"firewood",label:"Firewood Sales",category:"revenue",phase:1,cost:8e3,status:"locked",description:"Premium Maine hardwood. $150-300k/year.",dependencies:["porta_potties","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"chaga_program",label:"Chaga Programme",category:"revenue",phase:1,cost:15e3,status:"locked",description:"Birch inoculation. 5-7yr maturity. $200-300k/year.",dependencies:["porta_potties"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"transport_fleet",label:"Transport Fleet",category:"legacy",phase:4,cost:12e5,status:"locked",description:"Purpose-built rescue vehicles with vet space and staff bunks.",dependencies:["vet_facility","villas_phase3"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""},{id:"the_jewel",label:"The Jewel",category:"legacy",phase:4,cost:35e6,status:"locked",description:"Center Parcs-style indoor water park. The crown of New Doggerland.",dependencies:["villas_phase3"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:""}],du=[{id:"picnic_bench",label:"Picnic Bench",cost:800,category:"community",icon:"",description:"Handcrafted hardwood bench on your chosen trail. Donor's party is first to sit.",perk:"Inaugural gathering naming rights",requiredNode:"basic_trails",fundedCount:0},{id:"camping_pad",label:"Camping Pad",cost:1200,category:"community",icon:"",description:"Levelled, gravelled tent pad. Donor's first night is on us.",perk:"Complimentary first night",requiredNode:"basic_trails",fundedCount:0},{id:"tick_station",label:"Tick Check Station",cost:350,category:"infrastructure",icon:"",description:"Cedar-post station with mirror, lint rollers, guide cards.",perk:"Inlaid stone nameplate",requiredNode:"basic_trails",fundedCount:0},{id:"dog_water_station",label:"Dog Water Station",cost:600,category:"sanctuary",icon:"",description:"Gravity-fed stone trough. Donor's dog is first to drink.",perk:"First use for donor's dog",requiredNode:"water_well",fundedCount:0},{id:"fire_ring",label:"Fire Ring",cost:2200,category:"community",icon:"",description:"Stone-set fire ring with log store and safety pail.",perk:"Host the inaugural fire ceremony",requiredNode:"basic_trails",fundedCount:0},{id:"trail_bench",label:"Trail Rest Bench",cost:450,category:"community",icon:"",description:"Rough-hewn rest bench at a scenic point.",perk:"Location choice from available sites",requiredNode:"basic_trails",fundedCount:0},{id:"bird_feeder",label:"Bird Feeder Station",cost:280,category:"enrichment",icon:"",description:"Cedar multi-feeder post. Donor and family fill the feeders first.",perk:"Family inaugural fill ceremony",requiredNode:"basic_trails",fundedCount:0},{id:"blueberry_patch",label:"Blueberry Patch",cost:1800,category:"enrichment",icon:"",description:"30 sq ft Maine lowbush blueberry planting.",perk:"First harvest rights",requiredNode:"basic_trails",fundedCount:0},{id:"bat_house",label:"Bat House",cost:320,category:"enrichment",icon:"",description:"Multi-chamber bat house. Donor's name on the base plate.",perk:"Base plate inscription",requiredNode:"basic_trails",fundedCount:0},{id:"agility_jump",label:"Agility Jump Set",cost:950,category:"enrichment",icon:"",description:"Hand-painted agility jump. Donor's dog breaks the inaugural ribbon.",perk:"Inaugural ribbon ceremony",requiredNode:"sanctuary_core",fundedCount:0},{id:"herb_spiral",label:"Herb Spiral",cost:750,category:"enrichment",icon:"",description:"Stone-built spiral herb bed. Donor plants the keystone herb.",perk:"Plant the keystone herb",requiredNode:"basic_trails",fundedCount:0},{id:"mushroom_log",label:"Mushroom Log",cost:90,category:"revenue",icon:"",description:"Single inoculated shiitake log. Donor harvests the first flush.",perk:"Harvest the first flush",requiredNode:"porta_potties",fundedCount:0},{id:"apple_tree",label:"Apple Tree Planting",cost:580,category:"enrichment",icon:"",description:"Heritage Maine apple variety. Donor names the tree and picks first.",perk:"Name the tree + first pick",requiredNode:"basic_trails",fundedCount:0},{id:"stone_steps",label:"Stone Step Section",cost:2800,category:"infrastructure",icon:"",description:"10 hand-laid drystone steps by the master waller's apprentice.",perk:"First to walk the steps",requiredNode:"perimeter_wall",fundedCount:0}],ig={land:{x:680,y:55},porta_potties:{x:680,y:160},perimeter_fence:{x:260,y:290},water_well:{x:500,y:290},power_solar:{x:760,y:290},access_road:{x:1020,y:290},basic_trails:{x:640,y:420},master_waller_dwelling:{x:100,y:290},sanctuary_core:{x:260,y:430},vet_facility:{x:100,y:540},communication_boards:{x:270,y:540},dog_daycare:{x:100,y:640},matchmaking_walks:{x:270,y:640},scent_system:{x:420,y:540},scent_menu:{x:420,y:640},animal_adoption:{x:560,y:640},multi_species:{x:560,y:540},perimeter_wall:{x:100,y:410},hero_stones:{x:30,y:510},memorial_urn_stones:{x:175,y:510},dutch_snackbar:{x:1180,y:410},forest_dining:{x:1020,y:410},slow_table:{x:1020,y:520},gingerworks:{x:1180,y:620},repair_workshop:{x:1020,y:620},chapel:{x:1300,y:510},extreme_fetch:{x:560,y:520},aqua_fetch:{x:490,y:640},ice_rink:{x:700,y:520},skating_trails:{x:700,y:640},gifting_tree:{x:820,y:520},dawn_chorus:{x:940,y:520},sniff_library:{x:560,y:420},tunnel_network:{x:640,y:760},mood_meadow:{x:760,y:640},sound_pads:{x:880,y:640},listening_posts:{x:940,y:420},central_village:{x:1020,y:290},villas_phase1:{x:1180,y:290},villas_phase2:{x:1180,y:510},villas_phase3:{x:1180,y:760},kustom_kibble:{x:880,y:410},artisan_village:{x:1300,y:410},artisan_housing:{x:1300,y:760},memory_lane_trail:{x:820,y:420},rfid_system:{x:880,y:760},water_channels:{x:500,y:410},tree_art:{x:380,y:290},firewood:{x:380,y:420},chaga_program:{x:260,y:760},transport_fleet:{x:100,y:760},the_jewel:{x:1180,y:880}};function de(e){return e==null?null:e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}k`:`$${e}`}function Rd(e,t,n,r=new Set){if(r.has(e))return new Set;r.add(e);const l=n[e];if(!l)return new Set;const o=new Set;for(const s of l.dependencies){const a=t[s];a==="built"||a==="funded"||(o.add(s),Rd(s,t,n,r).forEach(c=>o.add(c)))}return o}function sg(e,t,n=6){const r=new Map,l=[{id:e,depth:0}],o=new Set([e]);for(;l.length;){const{id:s,depth:a}=l.shift();if(a>=n)continue;const c=t[s];if(c)for(const f of c.unlocks||[])o.has(f)||(o.add(f),r.set(f,a+1),l.push({id:f,depth:a+1}))}return r}const Pl=[1,.55,.32,.18,.1],ag=[2.5,1.8,1.2,.8,.5],ft=134,zt=50,pu=[{label:"All",min:0,max:1/0},{label:"<$500",min:0,max:499},{label:"$500$2k",min:500,max:2e3},{label:"$2k$10k",min:2001,max:1e4},{label:"$10k$50k",min:10001,max:5e4},{label:"$50k+",min:50001,max:1/0}];function ug({balance:e,goal:t,nodes:n,theme:r}){const l=Math.min(1,e/t),o=Lo.useRef(null),[s,a]=Lo.useState(200);Lo.useEffect(()=>{if(!o.current)return;const y=new ResizeObserver(w=>{for(const m of w)a(Math.max(60,m.contentRect.height-52))});return y.observe(o.current),()=>y.disconnect()},[]);const c=(n||[]).filter(y=>y.generalFundMin).map(y=>({label:y.label,min:y.generalFundMin,pct:Math.min(1,y.generalFundMin/t)})),f=r==="dark";return i.jsxs("div",{ref:o,style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",padding:"6px 0 4px",minHeight:0,overflow:"hidden"},children:[i.jsxs("div",{style:{position:"relative",width:24,flexShrink:0,height:s,margin:"0 auto"},children:[i.jsx("div",{style:{position:"absolute",left:4,top:0,width:16,height:s,background:f?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.08)",borderRadius:"8px 8px 0 0",border:`1px solid ${f?"rgba(255,255,255,0.12)":"rgba(0,0,0,0.15)"}`,overflow:"hidden"},children:i.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${Math.floor(l*100)}%`,background:"linear-gradient(180deg,#7FFF7F 0%,#4ABB4A 100%)",transition:"height 0.6s ease",borderRadius:"0 0 6px 6px"}})}),c.map((y,w)=>{const m=s-Math.floor(y.pct*s),M=e>=y.min;return i.jsx("div",{title:`${y.label}: ${de(y.min)}`,style:{position:"absolute",left:-2,top:m,width:28,height:2,background:M?"#7FFF7F":f?"rgba(255,200,80,0.65)":"rgba(180,140,40,0.8)"}},w)}),i.jsx("div",{style:{position:"absolute",bottom:-10,left:"50%",transform:"translateX(-50%)",width:20,height:20,borderRadius:"50%",background:l>0?"linear-gradient(135deg,#7FFF7F,#4ABB4A)":f?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.08)",border:`1px solid ${f?"rgba(255,255,255,0.18)":"rgba(0,0,0,0.2)"}`,boxShadow:l>0?"0 0 10px rgba(127,255,127,0.4)":"none"}})]}),i.jsxs("div",{style:{marginTop:18,color:f?"rgba(255,255,255,0.28)":"rgba(0,0,0,0.45)",fontSize:"7px",textAlign:"center",lineHeight:1.4,flexShrink:0},children:["Goal",i.jsx("br",{}),de(t)]}),i.jsxs("div",{style:{color:f?"rgba(255,255,255,0.22)":"rgba(0,0,0,0.35)",fontSize:"7px",textAlign:"center",marginTop:2,flexShrink:0},children:[Math.round(l*100),"%"]}),c.length>0&&i.jsx("div",{style:{width:"100%",padding:"4px 6px 0",marginTop:4,flexShrink:0},children:c.map((y,w)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:3,marginBottom:2},children:[i.jsx("div",{style:{width:6,height:1.5,background:e>=y.min?"#7FFF7F":f?"rgba(255,200,80,0.6)":"rgba(180,140,40,0.8)",flexShrink:0}}),i.jsx("span",{style:{color:e>=y.min?"rgba(127,255,127,0.7)":f?"rgba(255,200,80,0.6)":"rgba(180,140,40,0.9)",fontSize:"6px",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:y.label.slice(0,11)})]},w))})]})}function cg({nodes:e,nodeStatuses:t,onClose:n}){const[r,l]=S.useState(""),o=parseFloat(r.replace(/[^0-9.]/g,""))||0,s=S.useMemo(()=>Object.fromEntries(e.map(k=>[k.id,k])),[e]),a=S.useMemo(()=>{const k=new Set(e.filter(x=>{const p=t[x.id]??x.status;return p==="built"||p==="funded"}).map(x=>x.id));return k.add("land"),k},[e,t]),c=S.useCallback(k=>{const x=t[k.id]??k.status;return x==="built"||x==="funded"},[t]),f=S.useCallback((k,x)=>e.some(p=>p.phaseEssential&&p.phase<k.phase&&!x.has(p.id)&&!c(p)),[e,c]);S.useCallback((k,x)=>{const p=new Set(k),d=[];let g=x,F=!0;for(;F;){F=!1;for(const R of e)if(!p.has(R.id)&&!(R.cost==null||R.cost>g)&&!c(R)&&R.dependencies.every(P=>p.has(P))&&!f(R,p)){p.add(R.id),d.push(R),g-=R.cost,F=!0;break}}return{added:d,rem:g}},[e,c,f]);const y=S.useMemo(()=>{if(o<=0)return[];const k=e.filter(d=>a.has(d.id)||c(d)||d.cost==null||d.cost>o||f(d,a)?!1:d.dependencies.every(g=>a.has(g))),x=[];for(const d of k){const g=new Set([...a,d.id]),F=o-d.cost,R=new Set([d.id]);let P=!0;for(;P;){P=!1;for(const $ of e)R.has($.id)||$.dependencies.some(ee=>R.has(ee))&&(R.add($.id),P=!0)}R.delete(d.id);const U=new Set(g),H=[];let B=F;for(P=!0;P;){P=!1;for(const $ of e)if(R.has($.id)&&!U.has($.id)&&!($.cost==null||$.cost>B)&&!c($)&&$.dependencies.every(ee=>U.has(ee))&&!f($,U)){U.add($.id),H.push($),B-=$.cost,P=!0;break}}x.push({root:d,unlocked:[d,...H],totalCost:[d,...H].reduce(($,ee)=>$+(ee.cost||0),0),level:1});const I=e.filter($=>c($)||$.cost==null||$.cost>F||f($,g)?!1:$.dependencies.every(ee=>g.has(ee)));for(const $ of I){const ee=new Set([...g,$.id]),ie=F-$.cost,Z=new Set([$.id]);let Ye=!0;for(;Ye;){Ye=!1;for(const V of e)Z.has(V.id)||V.dependencies.some(ce=>Z.has(ce))&&(Z.add(V.id),Ye=!0)}Z.delete($.id);const ue=new Set(ee),xe=[];let O=ie,Q=!0;for(;Q;){Q=!1;for(const V of e)if(Z.has(V.id)&&!ue.has(V.id)&&!(V.cost==null||V.cost>O)&&!c(V)&&V.dependencies.every(ce=>ue.has(ce))&&!f(V,ue)){ue.add(V.id),xe.push(V),O-=V.cost,Q=!0;break}}x.push({root:$,prefix:d,unlocked:[$,...xe],totalCost:[$,...xe].reduce((V,ce)=>V+(ce.cost||0),0),level:2})}}const p=new Map;for(const d of x){const g=`${d.level}:${d.root.id}`;(!p.has(g)||d.unlocked.length>p.get(g).unlocked.length)&&p.set(g,d)}return[...p.values()].sort((d,g)=>d.level-g.level||g.unlocked.length-d.unlocked.length||g.totalCost-d.totalCost).slice(0,15)},[o,e,t,a,c,f]),w=S.useMemo(()=>{if(o<=0)return[];const k=new Set(y.map(x=>{var p;return(p=x.root)==null?void 0:p.id}).filter(Boolean));return e.filter(x=>a.has(x.id)||c(x)||k.has(x.id)||(x.cost||0)>o?!1:x.dependencies.filter(d=>!a.has(d)).length===1).map(x=>{const p=x.dependencies.find(d=>!a.has(d));return{node:x,blocker:s[p]}}).filter(x=>x.blocker&&x.blocker.id!=="land"&&x.blocker.cost!=null).slice(0,3)},[e,t,a,c,s,o,y]),m=y[0],M=(m==null?void 0:m.unlocked.length)||0,z=(m==null?void 0:m.totalCost)||0;return i.jsx("div",{style:{position:"absolute",inset:0,zIndex:50,background:"rgba(0,0,0,0.88)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:n,children:i.jsxs("div",{style:{background:"#0d1a0d",border:"1px solid rgba(196,168,130,0.3)",borderRadius:"6px",padding:"24px",maxWidth:600,width:"92%",height:"90vh",maxHeight:"90vh",overflowY:"auto",display:"flex",flexDirection:"column"},onClick:k=>k.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8px",letterSpacing:"0.3em",textTransform:"uppercase",marginBottom:"3px"},children:"New Doggerland"}),i.jsx("div",{style:{color:"#F5EFE0",fontSize:"16px"},children:"Your Impact Calculator"})]}),i.jsx("button",{onClick:n,style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",fontSize:"20px",cursor:"pointer",lineHeight:1},children:""})]}),i.jsxs("div",{style:{marginBottom:"16px"},children:[i.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"9px",letterSpacing:"0.15em",textTransform:"uppercase",display:"block",marginBottom:"6px"},children:"Enter a gift amount ($)"}),i.jsx("input",{value:r,onChange:k=>l(k.target.value),placeholder:"e.g. 50000",autoFocus:!0,style:{width:"100%",boxSizing:"border-box",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(196,168,130,0.3)",borderRadius:"4px",padding:"8px 12px",color:"#F5EFE0",fontSize:"18px",fontFamily:"system-ui,sans-serif",outline:"none"}})]}),o>0?i.jsxs(i.Fragment,{children:[m&&i.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"},children:[{label:"Best outcome: nodes funded",value:M,color:"#7FFF7F"},{label:"Capital deployed",value:de(z)||"$0",color:"#C4A882"},...o-z>500?[{label:"Remaining",value:de(o-z),color:"rgba(255,255,255,0.35)"}]:[]].map(k=>i.jsxs("div",{style:{flex:"1 1 auto",minWidth:110,background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:"4px",padding:"8px 12px"},children:[i.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"7.5px",letterSpacing:"0.12em",textTransform:"uppercase",marginBottom:"2px"},children:k.label}),i.jsx("div",{style:{color:k.color,fontSize:"16px",fontWeight:"bold"},children:k.value})]},k.label))}),y.map((k,x)=>{var R;const p=k.unlocked.reduce((P,U)=>P+(U.incomeMin||0),0),d=x===0,g=k.root,F=g?k.unlocked.filter(P=>P.id!==g.id):k.unlocked;return i.jsxs("div",{style:{marginBottom:"10px",background:d?"rgba(196,168,130,0.04)":"rgba(255,255,255,0.015)",border:`1px solid ${d?"rgba(196,168,130,0.2)":"rgba(255,255,255,0.06)"}`,borderRadius:"5px",padding:"12px 14px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[i.jsxs("span",{style:{color:d?"#C4A882":"rgba(255,255,255,0.32)",fontSize:"8px",letterSpacing:"0.12em",textTransform:"uppercase"},children:["Starting with ",g.label]}),i.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[p>0&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.6)",fontSize:"8px"},children:["+",de(p),"/yr"]}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px"},children:[k.unlocked.length," node",k.unlocked.length!==1?"s":""]}),i.jsxs("span",{style:{color:"#C4A882",fontSize:"8px",fontWeight:"bold"},children:["Total: ",de(k.level===2?k.totalCost+(((R=k.prefix)==null?void 0:R.cost)||0):k.totalCost)]})]})]}),k.prefix&&(()=>{const P=bt[k.prefix.category]||bt.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"3px 0 5px",marginBottom:"4px",borderBottom:"1px solid rgba(255,255,255,0.05)",opacity:.45},children:[i.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:P.color,flexShrink:0}}),i.jsxs("span",{style:{flex:1,color:"rgba(255,255,255,0.6)",fontSize:"9px",fontStyle:"italic"},children:[k.prefix.label," ",i.jsx("span",{style:{opacity:.7},children:"(prerequisite)"})]}),i.jsx("span",{style:{color:"#C4A882",fontSize:"9px"},children:de(k.prefix.cost)})]})})(),g&&(()=>{const P=bt[g.category]||bt.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",borderBottom:F.length>0?"1px solid rgba(196,168,130,0.1)":"none",marginBottom:F.length>0?"4px":"0"},children:[i.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:P.color,flexShrink:0}}),i.jsx("span",{style:{flex:1,color:"#F5EFE0",fontSize:"10px",fontWeight:"bold"},children:g.label}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:["Ph ",g.phase]}),g.incomeMin&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.45)",fontSize:"8px"},children:["+",de(g.incomeMin),"/yr"]}),i.jsx("span",{style:{color:"#C4A882",fontSize:"10px",fontWeight:"bold"},children:de(g.cost)})]})})(),F.map((P,U)=>{const H=bt[P.category]||bt.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0",borderTop:U>0?"1px solid rgba(255,255,255,0.03)":"none"},children:[g&&i.jsx("span",{style:{color:"rgba(255,255,255,0.1)",fontSize:"9px",width:10,flexShrink:0},children:""}),i.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:H.color,flexShrink:0}}),i.jsx("span",{style:{flex:1,color:"rgba(255,255,255,0.78)",fontSize:"9.5px"},children:P.label}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"8px"},children:["Ph ",P.phase]}),P.incomeMin&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.45)",fontSize:"8px"},children:["+",de(P.incomeMin),"/yr"]}),i.jsx("span",{style:{color:"#C4A882",fontSize:"9.5px",fontWeight:"bold",minWidth:40,textAlign:"right"},children:de(P.cost)})]},P.id)})]},x)}),y.length===0&&i.jsxs("div",{style:{textAlign:"center",padding:"24px 0"},children:[i.jsxs("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",marginBottom:"12px"},children:["No reachable nodes fit within ",de(o),"."]}),w.length>0&&i.jsxs("div",{style:{color:"rgba(196,168,130,0.4)",fontSize:"9px",lineHeight:1.8},children:["Almost in reach:"," ",w.map(({node:k,blocker:x},p)=>i.jsxs("span",{children:[k.label," ",i.jsxs("span",{style:{opacity:.6},children:["(needs ",x.label," first)"]}),p<w.length-1?", ":""]},k.id))]})]}),y.length>0&&w.length>0&&i.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"10px",marginTop:"4px",color:"rgba(255,255,255,0.2)",fontSize:"8.5px",lineHeight:1.6},children:["Almost in reach:"," ",w.map(({node:k,blocker:x},p)=>i.jsxs("span",{children:[k.label," ",i.jsxs("span",{style:{opacity:.6},children:["(needs ",x.label,")"]}),p<w.length-1?", ":""]},k.id))]})]}):i.jsx("div",{style:{color:"rgba(255,255,255,0.2)",fontSize:"9.5px",textAlign:"center",padding:"20px 0"},children:"Enter any amount to see what your gift would unlock"})]})})}function dg({nodes:e,nodeStatuses:t,exportedAt:n,onClose:r}){const l=[...new Set(e.map(m=>m.phase))].sort((m,M)=>m-M),o={built:0,funded:1,under_construction:2,available:3,locked:4},s={built:"Complete",funded:"Fully Funded",under_construction:"Under Construction",available:"Open for Funding",locked:"Planned"},a={built:"#FFD700",funded:"#7FFF7F",under_construction:"#55CCFF",available:"#FFAA44",locked:"rgba(255,255,255,0.22)"},c=e.reduce((m,M)=>m+(M.cost||0),0),f=e.filter(m=>t[m.id]==="built"||t[m.id]==="funded").reduce((m,M)=>m+(M.cost||0),0),y=e.filter(m=>t[m.id]==="built"||t[m.id]==="funded").length,w={0:"Foundation",1:"Phase 1 - Core Infrastructure",2:"Phase 2 - Sanctuary & Culture",3:"Phase 3 - Guest Experience",4:"Phase 4 - Full Vision"};return i.jsx("div",{style:{position:"absolute",inset:0,zIndex:50,background:"rgba(0,0,0,0.92)",display:"flex",alignItems:"flex-start",justifyContent:"center",overflowY:"auto",padding:"24px 0"},onClick:r,children:i.jsxs("div",{style:{background:"#0a150a",border:"1px solid rgba(196,168,130,0.2)",borderRadius:"6px",maxWidth:640,width:"90%",fontFamily:"system-ui,sans-serif"},onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{style:{padding:"28px 32px 20px",borderBottom:"1px solid rgba(196,168,130,0.12)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8px",letterSpacing:"0.4em",textTransform:"uppercase",marginBottom:"5px"},children:"New Doggerland"}),i.jsx("div",{style:{color:"#F5EFE0",fontSize:"20px",letterSpacing:"0.04em",marginBottom:"3px"},children:"Development Roadmap"}),n&&i.jsxs("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:["As of ",n.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),i.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"rgba(255,255,255,0.3)",fontSize:"20px",cursor:"pointer"},children:""})]}),i.jsx("div",{style:{display:"flex",gap:"24px",marginTop:"16px",flexWrap:"wrap"},children:[{label:"Total Project Cost",value:de(c)},{label:"Capital Deployed",value:de(f)},{label:"Nodes Complete / Funded",value:`${y} of ${e.length}`}].map(m=>i.jsxs("div",{children:[i.jsx("div",{style:{color:"rgba(255,255,255,0.28)",fontSize:"7.5px",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"2px"},children:m.label}),i.jsx("div",{style:{color:"#C4A882",fontSize:"13px"},children:m.value})]},m.label))})]}),l.map(m=>{const M=[...e].filter(k=>k.phase===m).sort((k,x)=>(o[t[k.id]]??4)-(o[t[x.id]]??4));if(!M.length)return null;const z=M.reduce((k,x)=>k+(x.cost||0),0);return i.jsxs("div",{style:{padding:"14px 32px",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"8px"},children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"9px",letterSpacing:"0.2em",textTransform:"uppercase"},children:w[m]||`Phase ${m}`}),i.jsx("div",{style:{color:"rgba(196,168,130,0.35)",fontSize:"8.5px"},children:de(z)})]}),M.map(k=>{const x=t[k.id]||"locked",p=bt[k.category]||bt.community;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"4px 0",borderBottom:"1px solid rgba(255,255,255,0.025)"},children:[i.jsx("div",{style:{width:3,height:3,borderRadius:"50%",background:p.color,flexShrink:0,opacity:x==="locked"?.4:1}}),i.jsx("span",{style:{flex:1,color:x==="locked"?"rgba(255,255,255,0.38)":"rgba(255,255,255,0.85)",fontSize:"9.5px"},children:k.label}),(k.incomeMin||k.incomeMax)&&i.jsxs("span",{style:{color:"rgba(127,255,127,0.5)",fontSize:"8px"},children:["",k.incomeMin&&k.incomeMax?`${de(k.incomeMin)}${de(k.incomeMax)}`:de(k.incomeMin||k.incomeMax),"/yr"]}),k.cost&&i.jsx("span",{style:{color:"rgba(196,168,130,0.5)",fontSize:"8.5px",minWidth:42,textAlign:"right"},children:de(k.cost)}),i.jsx("span",{style:{fontSize:"7.5px",color:a[x],minWidth:90,textAlign:"right"},children:s[x]})]},k.id)})]},m)}),i.jsxs("div",{style:{padding:"14px 32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{color:"rgba(255,255,255,0.12)",fontSize:"8px"},children:"newdoggerland.org"}),i.jsx("button",{onClick:()=>window.print(),style:{padding:"5px 14px",background:"rgba(196,168,130,0.08)",border:"1px solid rgba(196,168,130,0.25)",color:"#C4A882",borderRadius:"3px",cursor:"pointer",fontSize:"8.5px",fontFamily:"system-ui,sans-serif"},children:"Print / Save as PDF"})]})]})})}function pg(){const[e,t]=S.useState(cu),[n,r]=S.useState(du),[l,o]=S.useState(()=>({...ig})),[s,a]=S.useState(null),[c,f]=S.useState(null),[y,w]=S.useState(null),[m,M]=S.useState(()=>Object.fromEntries(cu.map(h=>[h.id,h.status]))),[z,k]=S.useState(()=>Object.fromEntries(du.map(h=>[h.id,h.fundedCount]))),[x,p]=S.useState({balance:0,goal:5e5}),[d,g]=S.useState(!1),[F,R]=S.useState({}),[P,U]=S.useState(null),[H,B]=S.useState([]),[I,$]=S.useState(!1),[ee,ie]=S.useState(!1),[Z,Ye]=S.useState(0),[ue,xe]=S.useState(null),[O,Q]=S.useState(null),[V,ce]=S.useState(!0),[ne,Qe]=S.useState(()=>{var h;try{const j=localStorage.getItem("nd-theme");return j||(((h=window.matchMedia)==null?void 0:h.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light")}catch{return"light"}}),[Ie,we]=S.useState({x:null,y:null}),[Pe,Et]=S.useState(!1),Bt=S.useRef(null),[dt,Ke]=S.useState(null),$e=S.useRef(null),[he,E]=S.useState({x:60,y:-56,w:1220,h:712}),_=S.useRef(!1),[T,Y]=S.useState(!1),G=S.useRef(null),te=S.useRef(null),q=S.useMemo(()=>ne==="dark"?{bg:"linear-gradient(160deg,#060c06 0%,#0c160c 50%,#060a06 100%)",headerBg:"linear-gradient(180deg,rgba(0,0,0,0.95) 0%,transparent 100%)",text:"#F5EFE0",textDim:"rgba(255,255,255,0.28)",textFaint:"rgba(255,255,255,0.12)",gold:"#C4A882",panelBg:"rgba(0,0,0,0.55)",panelBorder:"rgba(255,255,255,0.08)",modalBg:"rgba(0,0,0,0.88)",buttonBg:"rgba(255,255,255,0.04)",buttonBorder:"rgba(255,255,255,0.1)",nodeBg:"#090f09",nodeText:"#F5EFE0",edgeDim:"rgba(255,255,255,0.065)",phaseSep:"rgba(196,168,130,0.02)",nodeAlpha:{built:"44",underConstruction:"38",funded:"2a",locked:"15"}}:{bg:"linear-gradient(160deg,#d8e0d8 0%,#e4ebe4 50%,#d8e0d8 100%)",headerBg:"linear-gradient(180deg,rgba(245,248,245,0.98) 0%,rgba(245,248,245,0.85) 100%)",text:"#0a1a0a",textDim:"rgba(0,0,0,0.6)",textFaint:"rgba(0,0,0,0.25)",gold:"#6B5010",panelBg:"rgba(248,250,248,0.98)",panelBorder:"rgba(0,0,0,0.18)",modalBg:"rgba(250,252,250,0.98)",buttonBg:"rgba(0,0,0,0.06)",buttonBorder:"rgba(0,0,0,0.18)",nodeBg:"#f8faf8",nodeText:"#000000",edgeDim:"rgba(0,0,0,0.12)",phaseSep:"rgba(139,105,20,0.05)",nodeAlpha:{built:"99",underConstruction:"80",funded:"68",locked:"42"}},[ne]);S.useEffect(()=>{if(_.current||!l||Object.keys(l).length===0)return;const h=l.land;if(!h)return;_.current=!0;const j=Object.values(l).map(K=>K.x);Object.values(l).map(K=>K.y);const W=67,A=40,L=Math.min(...j)-W-A,oe=Math.max(...j)+W+A-L,fe=window.innerWidth,u=window.innerHeight,v=fe-240,C=u-72,b=oe,J=b*(C/v);E({x:L,y:h.y-120,w:b,h:J})},[l]),S.useEffect(()=>{const h=W=>{W.nodeStatuses&&Object.keys(W.nodeStatuses).length>0&&M(W.nodeStatuses),W.repeatableCounts&&k(W.repeatableCounts),W.generalFund&&p(W.generalFund),W.positions&&Object.keys(W.positions).length>0&&o(W.positions),typeof W.allowDrag=="boolean"&&g(W.allowDrag)};(async()=>{var W,A;try{if(window.storage){const[L,D]=await Promise.all([window.storage.get("nd_state").catch(()=>null),window.storage.get("nd_data").catch(()=>null)]);if(L!=null&&L.value){const fe=JSON.parse(L.value);h(fe),fe.positions&&Object.keys(fe.positions).length>0&&o(fe.positions)}if(D!=null&&D.value){const fe=JSON.parse(D.value);fe.nodes&&fe.nodes.length>0&&t(fe.nodes),fe.repeatables&&fe.repeatables.length>0&&r(fe.repeatables),fe.edgeNotes&&R(fe.edgeNotes),fe.phaseSeps&&B(fe.phaseSeps)}if((D==null?void 0:D.value)&&((A=(W=JSON.parse(D.value))==null?void 0:W.nodes)==null?void 0:A.length)>0)return}}catch{}try{const L=await fetch(`/tree/state.json?v=${Date.now()}`);if(L.ok){const D=await L.json();D.state&&h(D.state),D.positions&&Object.keys(D.positions).length>0&&o(D.positions),D.nodes&&D.nodes.length>0&&t(D.nodes),D.repeatables&&D.repeatables.length>0&&r(D.repeatables),D.edgeNotes&&R(D.edgeNotes),D.phaseSeps&&B(D.phaseSeps),D.exportedAt&&U(new Date(D.exportedAt))}}catch{}})()},[]);const re=S.useMemo(()=>Object.fromEntries(e.map(h=>[h.id,h])),[e]),Ee=S.useMemo(()=>Object.fromEntries(n.map(h=>[h.id,h])),[n]),me=S.useCallback((h,j)=>{const W=te.current;if(!W)return{x:0,y:0};const A=W.getBoundingClientRect();return{x:(h-A.left)*(he.w/A.width)+he.x,y:(j-A.top)*(he.h/A.height)+he.y}},[he]),Me=S.useRef(null),Ae=S.useCallback((h,j)=>{var A,L;if(h.button!==0||(h.stopPropagation(),Me.current=j,!d))return;const W=me(h.clientX,h.clientY);$e.current={sx:W.x,sy:W.y,ox:((A=l[j])==null?void 0:A.x)??0,oy:((L=l[j])==null?void 0:L.y)??0,moved:!1},Ke(j)},[d,me,l]),Ht=S.useCallback((h,j)=>{var W;if(h.button===0){if(h.stopPropagation(),Me.current===j&&!((W=$e.current)!=null&&W.moved)){const A=re[j];A&&(a(L=>(L==null?void 0:L.id)===j?null:A),f(null),we({x:null,y:null}))}Me.current=null,Ke(null),$e.current=null}},[re]),Hn=S.useCallback(h=>{if(dt&&$e.current){const j=me(h.clientX,h.clientY),W=j.x-$e.current.sx,A=j.y-$e.current.sy;(Math.abs(W)>2||Math.abs(A)>2)&&($e.current.moved=!0);const L=$e.current.oy+A;o(D=>({...D,[dt]:{x:$e.current.ox+W,y:L}}))}else if(T&&G.current){const j=(G.current.cx-h.clientX)*(he.w/window.innerWidth),W=(G.current.cy-h.clientY)*(he.h/window.innerHeight);E(A=>({...A,x:G.current.vx+j,y:G.current.vy+W}))}else if(Pe&&Bt.current){const j=Bt.current;we({x:j.ox+h.clientX-j.sx,y:j.oy+h.clientY-j.sy})}},[dt,T,Pe,me,he,H]),Yn=S.useCallback(h=>{dt&&(Ke(null),$e.current=null),Y(!1),Et(!1)},[dt]),nn=S.useCallback(h=>{(h.target===te.current||h.target.tagName==="svg")&&(Y(!0),G.current={cx:h.clientX,cy:h.clientY,vx:he.x,vy:he.y},a(null),f(null))},[he]),Fn=S.useCallback(h=>{if(h.preventDefault(),h.ctrlKey||h.metaKey){const j=te.current;if(!j)return;const W=j.getBoundingClientRect(),A=h.deltaY>0?1.12:.88;E(L=>{const D=L.x+(h.clientX-W.left)*(L.w/W.width),oe=L.y+(h.clientY-W.top)*(L.h/W.height);return{x:D-(D-L.x)*A,y:oe-(oe-L.y)*A,w:Math.max(400,Math.min(3e3,L.w*A)),h:Math.max(300,Math.min(2500,L.h*A))}})}else{const j=te.current;if(!j)return;const W=j.getBoundingClientRect(),A=he.w/W.width,L=h.shiftKey?h.deltaY*A*.6:0,D=h.shiftKey?0:h.deltaY*A*.6;E(oe=>({...oe,x:oe.x+L,y:oe.y+D}))}},[he]);S.useEffect(()=>{const h=te.current;if(h)return h.addEventListener("wheel",Fn,{passive:!1}),()=>h.removeEventListener("wheel",Fn)},[Fn]);const kt=pu[Z],_e=kt.min>0||kt.max<1/0||ue!==null||O!==null,To=S.useMemo(()=>new Set(e.filter(h=>!(ue!==null&&h.category!==ue||O!==null&&h.phase!==O||(kt.min>0||kt.max<1/0)&&(h.cost===null||h.cost<kt.min||h.cost>kt.max))).map(h=>h.id)),[e,kt,ue,O]),Io=S.useMemo(()=>_e?n.filter(h=>h.cost>=kt.min&&h.cost<=kt.max):n,[n,kt,_e]),Vn=S.useMemo(()=>y?sg(y.id,re):new Map,[y,re]),Mt=S.useMemo(()=>s?Rd(s.id,m,re):new Set,[s,m,re]),En=S.useMemo(()=>s?s.dependencies.filter(h=>m[h]==="built"||m[h]==="funded"):[],[s,m]),pl=S.useMemo(()=>{if(!s)return 0;let h=s.cost||0;return Mt.forEach(j=>{var W;h+=((W=re[j])==null?void 0:W.cost)||0}),h},[s,Mt,re]),fl=S.useCallback(h=>{if(h.generalFundMin&&x.balance<h.generalFundMin)return!1;for(const j of h.repeatableReqs||[])if((z[j.repeatableId]||0)<j.minCount)return!1;return!0},[x,z]),No=S.useMemo(()=>{const h=[];return e.forEach(j=>{j.dependencies.forEach(W=>{const A=l[W],L=l[j.id];A&&L&&h.push({id:`${W}${j.id}`,from:A,to:L,fromId:W,toId:j.id})})}),h},[e,l]),Do=S.useCallback(h=>{if(s){if(Mt.has(h.fromId)&&(Mt.has(h.toId)||h.toId===s.id))return{color:"rgba(255,80,20,0.85)",width:2,marker:"arr-red"};if(En.includes(h.fromId)&&h.toId===s.id)return{color:"rgba(127,255,127,0.55)",width:1.5,marker:"arr-green"}}if(y){const W=h.fromId===y.id,A=Vn.get(h.fromId),L=Vn.get(h.toId);if((W||A!==void 0)&&L!==void 0){const D=Math.min((L??1)-1,Pl.length-1);return{color:`rgba(68,200,255,${Pl[D]})`,width:ag[D],marker:"arr-blue"}}}const j=s||y||_e;return{color:q.edgeDim,width:.7,marker:"arr-dim",opacity:j?.18:1}},[s,y,Mt,En,Vn,_e]),Oo=`${he.x} ${he.y} ${he.w} ${he.h}`,Mn=Ie.x??(typeof window<"u"?Math.max(10,window.innerWidth-310):900),gl=Ie.y??82;return i.jsxs("div",{style:{width:"100%",height:"100vh",background:q.bg,fontFamily:"system-ui,sans-serif",overflow:"hidden",position:"relative",userSelect:"none"},onMouseMove:Hn,onMouseUp:Yn,children:[i.jsx("div",{style:{position:"absolute",top:8,left:8,zIndex:25,width:54,height:54},children:i.jsx("img",{src:"https://newdoggerland.org/ND001.png",alt:"ND",style:{width:"100%",height:"100%",objectFit:"contain",opacity:.92,filter:"drop-shadow(0 0 6px rgba(255,215,0,0.3))"}})}),i.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,background:q.headerBg,zIndex:10,padding:"8px 90px 10px 164px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",gap:"8px"},children:[i.jsxs("div",{style:{flex:"0 0 auto",display:"flex",alignItems:"center",gap:"12px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{color:q.gold,fontSize:"8px",letterSpacing:"0.38em",textTransform:"uppercase",fontFamily:"Georgia,serif"},children:"New Doggerland"}),i.jsx("div",{style:{color:q.text,fontSize:"16px",letterSpacing:"0.06em"},children:"Development Skill Tree"})]}),i.jsx("button",{onClick:()=>$(!0),style:{padding:"5px 14px",background:ne==="dark"?"rgba(127,255,127,0.08)":"rgba(75,180,75,0.12)",border:`1px solid ${ne==="dark"?"rgba(127,255,127,0.35)":"rgba(75,180,75,0.5)"}`,color:ne==="dark"?"rgba(127,255,127,0.75)":"rgba(40,120,40,0.95)",borderRadius:"3px",cursor:"pointer",fontSize:"10px",fontFamily:"system-ui,sans-serif",letterSpacing:"0.03em",fontWeight:"500",transition:"all 0.2s"},children:"Measure Your Impact"})]}),i.jsxs("div",{style:{flex:"1 1 auto",display:"flex",gap:"7px",alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end"},children:[i.jsx("span",{style:{color:q.textDim,fontSize:"8px",letterSpacing:"0.1em"},children:"SHOW:"}),pu.map((h,j)=>i.jsx("button",{onClick:()=>Ye(j),style:{padding:"3px 7px",background:Z===j?"rgba(196,168,130,0.2)":q.buttonBg,border:`1px solid ${Z===j?q.gold:q.buttonBorder}`,color:Z===j?q.gold:q.textDim,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:h.label},j)),i.jsxs("button",{onClick:()=>ce(h=>!h),style:{padding:"3px 8px",background:V?"rgba(68,180,255,0.1)":q.buttonBg,border:`1px solid ${V?"rgba(68,180,255,0.4)":q.buttonBorder}`,color:V?"rgba(68,200,255,0.85)":q.textDim,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:[V?"":""," Sponsor Items"]}),i.jsx("div",{style:{width:"1px",height:"16px",background:q.textFaint}}),i.jsx("button",{onClick:()=>ie(!0),style:{padding:"3px 8px",background:"rgba(196,168,130,0.05)",border:`1px solid ${q.buttonBorder}`,color:q.gold,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:" Share"}),i.jsx("button",{onClick:()=>{window.location.href="https://newdoggerland.org/governance-discovery.html"},style:{padding:"3px 8px",background:"rgba(196,168,130,0.05)",border:`1px solid ${q.buttonBorder}`,color:q.gold,borderRadius:"3px",cursor:"pointer",fontSize:"8px",fontFamily:"system-ui,sans-serif"},children:" Governance"}),i.jsx("button",{onClick:()=>{const h=ne==="dark"?"light":"dark";Qe(h);try{localStorage.setItem("nd-theme",h)}catch{}},style:{padding:"3px 8px",background:q.buttonBg,border:`1px solid ${q.buttonBorder}`,color:q.textDim,borderRadius:"3px",cursor:"pointer",fontSize:"10px",fontFamily:"system-ui,sans-serif"},children:ne==="dark"?"":""})]})]}),i.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[Object.entries(bt).map(([h,j])=>i.jsxs("div",{onClick:()=>xe(ue===h?null:h),style:{display:"flex",alignItems:"center",gap:"3px",cursor:"pointer",padding:"2px 6px",borderRadius:"3px",background:ue===h?ne==="dark"?"rgba(255,255,255,0.07)":"rgba(0,0,0,0.1)":"transparent",border:`1px solid ${ue===h?j.color:"transparent"}`,transition:"all 0.15s"},children:[i.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:j.color,opacity:ue&&ue!==h?.35:1}}),i.jsx("span",{style:{color:ue===h?j.color:q.textDim,fontSize:"7.5px",fontWeight:ne==="light"?"500":"normal"},children:j.label})]},h)),i.jsx("div",{style:{width:"1px",height:"12px",background:q.textFaint,margin:"0 2px"}}),[1,2,3,4].map(h=>i.jsx("div",{onClick:()=>Q(O===h?null:h),style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"2px 7px",borderRadius:"3px",background:O===h?ne==="dark"?"rgba(196,168,130,0.12)":"rgba(139,105,20,0.15)":"transparent",border:`1px solid ${O===h?q.gold:"transparent"}`,transition:"all 0.15s"},children:i.jsxs("span",{style:{color:O===h?q.gold:q.textDim,fontSize:"7.5px",fontWeight:ne==="light"?"500":"normal"},children:["Phase ",h]})},h)),(ue||O)&&i.jsx("div",{onClick:()=>{xe(null),Q(null)},style:{cursor:"pointer",color:ne==="dark"?"rgba(255,100,100,0.6)":"rgba(200,60,60,0.8)",fontSize:"7.5px",padding:"2px 4px"},children:" clear"}),P&&i.jsxs("div",{style:{marginLeft:"auto",color:"rgba(255,255,255,0.2)",fontSize:"7px",letterSpacing:"0.06em",whiteSpace:"nowrap"},children:["Updated ",P.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),i.jsxs("div",{style:{position:"absolute",bottom:12,left:V?164:12,zIndex:10,background:"rgba(0,0,0,0.5)",padding:"5px 9px",borderRadius:"3px",border:"1px solid rgba(255,255,255,0.05)",transition:"bottom 0.2s"},children:[i.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[{color:"#252525",label:"Planned"},{color:"#FFAA44",label:"Open for Funding"},{color:"#7FFF7F",label:"Fully Funded"},{color:"#55CCFF",label:"Under Construction"},{color:"#FFD700",label:"Complete"}].map(({color:h,label:j})=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:h,border:"1px solid rgba(255,255,255,0.2)",flexShrink:0}}),i.jsx("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"7.5px"},children:j})]},j))}),i.jsxs("div",{children:[i.jsx("span",{style:{color:"rgba(255,100,50,0.75)",fontSize:"8px"},children:"Click"}),i.jsx("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:" full unfulfilled chain | "}),i.jsx("span",{style:{color:"rgba(68,221,255,0.75)",fontSize:"8px"},children:"Hover"}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px"},children:[" downstream | ",d?"Drag  ":"","Scroll  Shift+Scroll  Ctrl+Scroll to zoom"]})]})]}),i.jsxs("svg",{ref:te,width:"100%",height:"100%",viewBox:Oo,style:{cursor:T?"grabbing":"default"},onMouseDown:nn,children:[i.jsxs("defs",{children:[[["arr-red","rgba(255,80,20,0.9)"],["arr-blue","rgba(68,221,255,0.9)"],["arr-green","rgba(127,255,127,0.8)"],["arr-dim","rgba(255,255,255,0.14)"]].map(([h,j])=>i.jsx("marker",{id:h,markerWidth:"5",markerHeight:"5",refX:"4",refY:"2.5",orient:"auto",children:i.jsx("path",{d:"M0,0 L5,2.5 L0,5z",fill:j})},h)),i.jsxs("filter",{id:"gs",children:[i.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),i.jsxs("feMerge",{children:[i.jsx("feMergeNode",{in:"b"}),i.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),i.jsxs("filter",{id:"gst",children:[i.jsx("feGaussianBlur",{stdDeviation:"8",result:"b"}),i.jsxs("feMerge",{children:[i.jsx("feMergeNode",{in:"b"}),i.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d&&H&&H.map((h,j)=>{const W=Object.values(l).map(D=>D.x),A=Math.min(...W,0)-60,L=Math.max(...W,0)+160;return i.jsxs("g",{style:{pointerEvents:"none"},children:[i.jsx("rect",{x:A,y:h.y-45,width:L-A,height:90,fill:q.phaseSep}),i.jsx("line",{x1:A,y1:h.y,x2:L,y2:h.y,stroke:"rgba(196,168,130,0.22)",strokeWidth:"0.8",strokeDasharray:"8,6"}),i.jsxs("text",{x:A+8,y:h.y-6,fill:"rgba(196,168,130,0.35)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",h.fromPhase]}),i.jsxs("text",{x:A+8,y:h.y+13,fill:"rgba(196,168,130,0.35)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",h.toPhase]})]},`sep-${j}`)}),i.jsxs("g",{style:{pointerEvents:"none"},children:[e.map(h=>{const j=l[h.id];return j?h.category==="start"?i.jsx("polygon",{points:`${j.x},${j.y-46} ${j.x+46},${j.y} ${j.x},${j.y+46} ${j.x-46},${j.y}`,fill:q.nodeBg,style:{pointerEvents:"none"}},`bg-${h.id}`):i.jsx("rect",{x:j.x-ft/2-1,y:j.y-zt/2-1,width:ft+2,height:zt+2,rx:"4",fill:q.nodeBg,style:{pointerEvents:"none"}},`bg-${h.id}`):null}),No.map(h=>{const j=Do(h),W=(h.from.x+h.to.x)/2;return i.jsx("path",{d:`M${h.from.x},${h.from.y} C${W},${h.from.y} ${W},${h.to.y} ${h.to.x},${h.to.y}`,stroke:j.color,strokeWidth:j.width,fill:"none",markerEnd:`url(#${j.marker})`,opacity:j.opacity??1},h.id)})]}),e.map(h=>{const j=l[h.id];if(!j)return null;const W=bt[h.category],A=m[h.id],L=h.category==="start",D=!_e||To.has(h.id),oe=(s==null?void 0:s.id)===h.id,fe=!!s&&Mt.has(h.id),u=y?Vn.get(h.id):void 0,v=u!==void 0,C=(y==null?void 0:y.id)===h.id,b=fl(h),K=!L&&(_e&&!D||(s||y)&&!oe&&!fe&&!v&&!C)?.07:A==="locked"?.5:1,Ne=oe?"#FFD700":fe?"#FF501A":v?`rgba(68,200,255,${Pl[Math.min((u??1)-1,Pl.length-1)]})`:C?W.glow:W.color,le=oe||fe?2:v?1.5:C?1.8:.7,We=h.dependencies.every(Se=>m[Se]==="built"||m[Se]==="funded"||m[Se]==="under_construction")&&!b&&A==="locked";return L?i.jsxs("g",{transform:`translate(${j.x},${j.y})`,style:{cursor:d?"grab":"default"},onMouseDown:Se=>Ae(Se,h.id),onMouseUp:Se=>Ht(Se,h.id),onMouseEnter:()=>!dt&&w(h),onMouseLeave:()=>w(null),children:[i.jsx("polygon",{points:"0,-44 44,0 0,44 -44,0",fill:"rgba(255,215,0,0.12)",stroke:"#FFD700",strokeWidth:"1.5",filter:"url(#gst)"}),i.jsx("text",{y:"5",textAnchor:"middle",fill:"#FFD700",fontSize:"9.5",fontWeight:"bold",children:"Land Secured"})]},h.id):i.jsxs("g",{transform:`translate(${j.x-ft/2},${j.y-zt/2})`,style:{cursor:dt===h.id?"grabbing":d?"grab":"pointer",opacity:K},onMouseDown:Se=>Ae(Se,h.id),onMouseUp:Se=>Ht(Se,h.id),onMouseEnter:()=>!dt&&w(h),onMouseLeave:()=>w(null),children:[(oe||fe||v||C)&&i.jsx("rect",{x:"-3",y:"-3",width:ft+6,height:zt+6,rx:"5",fill:"none",stroke:Ne,strokeWidth:".8",opacity:".3",filter:"url(#gs)"}),We&&i.jsx("rect",{x:"-2",y:"-2",width:ft+4,height:zt+4,rx:"4",fill:"none",stroke:"rgba(255,200,50,0.6)",strokeWidth:"1",strokeDasharray:"4,3"}),ne==="light"&&i.jsx("rect",{x:"0",y:"0",width:ft,height:zt,rx:"3",fill:`${W.color}15`}),i.jsx("rect",{x:"0",y:"0",width:ft,height:zt,rx:"3",fill:A==="built"?`${W.color}${q.nodeAlpha.built}`:A==="under_construction"?`${W.color}${q.nodeAlpha.underConstruction}`:A==="funded"?`${W.color}${q.nodeAlpha.funded}`:`${W.color}${q.nodeAlpha.locked}`,stroke:Ne,strokeWidth:le,strokeOpacity:".85"}),A==="funded"&&i.jsx("rect",{x:"0",y:"0",width:ft,height:zt,rx:"3",fill:"rgba(255,255,255,0.09)"}),i.jsx("rect",{x:"0",y:"0",width:ft,height:"2.5",rx:"1",fill:W.color,opacity:".8"}),de(h.cost)&&i.jsxs(i.Fragment,{children:[i.jsx("rect",{x:ft-37,y:"6",width:"32",height:"11",rx:"2",fill:"rgba(0,0,0,0.42)"}),i.jsx("text",{x:ft-21,y:"14.5",textAnchor:"middle",fill:W.glow,fontSize:"7.5",children:de(h.cost)})]}),i.jsx("text",{x:ft/2,y:zt/2+4,textAnchor:"middle",fill:q.nodeText,fontSize:"9.5",fontWeight:oe?"bold":"normal",children:h.label.length>19?h.label.slice(0,18)+"":h.label}),i.jsx("circle",{cx:"8",cy:zt-8,r:"3",fill:A==="built"?"#FFD700":A==="under_construction"?"#55CCFF":A==="funded"?"#7FFF7F":A==="available"?"#FFAA44":"#252525",stroke:"rgba(0,0,0,0.5)",strokeWidth:".5"}),We&&i.jsx("text",{x:ft-8,y:zt-6,textAnchor:"middle",fill:"rgba(255,200,50,0.9)",fontSize:"9",children:""}),i.jsxs("text",{x:"7",y:"12",fill:W.color,fontSize:"6",opacity:".55",children:["P",h.phase]})]},h.id)})]}),V&&i.jsxs("div",{style:{position:"absolute",left:0,top:72,bottom:0,width:154,zIndex:15,display:"flex",flexDirection:"column",background:q.panelBg,borderRight:`1px solid ${q.panelBorder}`},children:[i.jsxs("div",{style:{padding:"8px 10px 5px",borderBottom:`1px solid ${q.panelBorder}`,flexShrink:0},children:[i.jsx("div",{style:{color:q.gold,fontSize:"7.5px",letterSpacing:"0.22em",textTransform:"uppercase",marginBottom:"1px"},children:"Sponsor Items"}),i.jsx("div",{style:{color:q.textDim,fontSize:"6.5px"},children:"Named inaugural use"})]}),i.jsx("div",{style:{flex:1,overflowY:"auto",padding:"4px 6px 10px",display:"flex",flexDirection:"column",gap:"4px"},children:(_e?Io:n).map(h=>{const j=bt[h.category],W=m[h.requiredNode],A=W==="built"||W==="funded",L=(c==null?void 0:c.id)===h.id,D=z[h.id]||0,oe=e.filter(v=>(v.repeatableReqs||[]).some(C=>C.repeatableId===h.id)),fe=oe.length>0,u=fe?Math.max(...oe.map(v=>{var C;return((C=v.repeatableReqs.find(b=>b.repeatableId===h.id))==null?void 0:C.minCount)||0})):0;return i.jsxs("div",{onClick:()=>{f(L?null:h),a(null),we({x:null,y:null})},style:{background:L?`${j.color}${ne==="dark"?"22":"35"}`:ne==="dark"?"rgba(255,255,255,0.025)":"rgba(0,0,0,0.04)",border:`1px solid ${L?j.color:ne==="dark"?"rgba(255,255,255,0.07)":"rgba(0,0,0,0.1)"}`,borderRadius:"3px",padding:"6px 8px",cursor:"pointer",opacity:A?1:ne==="dark"?.4:.55,flexShrink:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"3px"},children:[i.jsx("span",{style:{fontSize:"13px",lineHeight:1,flexShrink:0},children:h.icon}),i.jsx("span",{style:{color:q.text,fontSize:"8.5px",lineHeight:1.25,flex:1,fontWeight:ne==="light"?"500":"normal"},children:h.label})]}),i.jsx("div",{style:{color:j.glow,fontSize:"11px",fontWeight:"bold",marginBottom:fe?"3px":0},children:de(h.cost)}),fe&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px"},children:[i.jsx("span",{style:{color:ne==="dark"?"rgba(255,200,80,0.65)":"rgba(180,140,40,0.8)",fontSize:"6.5px"},children:"unlock"}),i.jsxs("span",{style:{color:ne==="dark"?"rgba(255,200,80,0.9)":"rgba(180,140,40,1)",fontSize:"6.5px"},children:[D,"/",u]})]}),i.jsx("div",{style:{height:"3px",background:ne==="dark"?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.12)",borderRadius:"2px",overflow:"hidden"},children:i.jsx("div",{style:{height:"100%",width:`${Math.min(1,D/u)*100}%`,background:ne==="dark"?"rgba(255,200,80,0.7)":"rgba(180,140,40,0.8)",borderRadius:"2px",transition:"width 0.3s"}})})]})]},h.id)})})]}),i.jsxs("div",{style:{position:"absolute",right:0,top:72,bottom:0,width:84,zIndex:15,background:q.panelBg,borderLeft:`1px solid ${q.panelBorder}`,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[i.jsxs("div",{style:{color:q.gold,fontSize:"7px",letterSpacing:"0.18em",textTransform:"uppercase",textAlign:"center",padding:"8px 4px 3px",borderBottom:`1px solid ${q.panelBorder}`,width:"100%",flexShrink:0},children:["General",i.jsx("br",{}),"Fund"]}),i.jsx("div",{style:{color:q.text,fontSize:"11px",fontWeight:"bold",padding:"5px 4px 2px",textAlign:"center",flexShrink:0},children:de(x.balance)}),i.jsx(ug,{balance:x.balance,goal:x.goal,nodes:e,theme:ne})]}),"      ",(s||c)&&(()=>{var A;const h=!!s,j=h?s:c,W=bt[j.category];return i.jsxs("div",{style:{position:"fixed",left:Mn,top:gl,width:286,background:"rgba(4,9,4,0.98)",border:`1px solid ${W.color}`,borderRadius:"5px",zIndex:30,boxShadow:`0 0 28px ${W.color}22`},children:[i.jsxs("div",{style:{padding:"7px 12px",borderBottom:"1px solid rgba(255,255,255,0.07)",cursor:"grab",display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseDown:L=>{L.preventDefault(),Et(!0),Bt.current={sx:L.clientX,sy:L.clientY,ox:Mn,oy:gl}},children:[i.jsx("span",{style:{color:W.glow,fontSize:"8px",letterSpacing:"0.25em",textTransform:"uppercase"},children:h?`${W.label}  Phase ${j.phase}`:" Repeatable Sponsor Item"}),i.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"9px"},children:""})]}),i.jsxs("div",{style:{padding:"12px"},children:[!h&&i.jsx("div",{style:{fontSize:"18px",marginBottom:"3px"},children:j.icon}),i.jsx("div",{style:{color:"#F5EFE0",fontSize:"13px",marginBottom:"4px",lineHeight:1.3},children:j.label}),de(j.cost)&&i.jsx("div",{style:{color:W.glow,fontSize:"16px",marginBottom:"8px"},children:de(j.cost)}),i.jsx("div",{style:{color:"rgba(255,255,255,0.52)",fontSize:"10px",lineHeight:1.65,marginBottom:"10px"},children:j.description}),j.perk&&i.jsxs("div",{style:{marginBottom:"9px",background:"rgba(196,168,130,0.06)",border:"1px solid rgba(196,168,130,0.2)",borderRadius:"3px",padding:"7px 9px"},children:[i.jsx("div",{style:{color:"rgba(196,168,130,0.6)",fontSize:"7.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"3px"},children:"Donor Incentive"}),i.jsx("div",{style:{color:"#C4A882",fontSize:"10px",lineHeight:1.5},children:j.perk})]}),h&&j.generalFundMin&&i.jsxs("div",{style:{marginBottom:"9px",background:"rgba(127,255,127,0.04)",border:"1px solid rgba(127,255,127,0.15)",borderRadius:"3px",padding:"7px 9px"},children:[i.jsx("div",{style:{color:"rgba(127,255,127,0.6)",fontSize:"7.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"3px"},children:"General Fund Requirement"}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"9.5px"},children:"Minimum balance"}),i.jsx("span",{style:{color:x.balance>=j.generalFundMin?"#7FFF7F":"rgba(255,200,80,0.9)",fontSize:"10px",fontWeight:"bold"},children:de(j.generalFundMin)})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2px"},children:[i.jsx("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"9px"},children:"Current balance"}),i.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"9px"},children:de(x.balance)})]}),x.balance<j.generalFundMin&&i.jsxs("div",{style:{color:"rgba(255,200,80,0.7)",fontSize:"8px",marginTop:"4px"},children:[" General fund needs ",de(j.generalFundMin-x.balance)," more"]})]}),h&&(j.incomeMin||j.incomeMax)&&i.jsxs("div",{style:{marginBottom:"9px",background:"rgba(127,255,127,0.04)",border:"1px solid rgba(127,255,127,0.18)",borderRadius:"3px",padding:"7px 9px"},children:[i.jsx("div",{style:{color:"rgba(127,255,127,0.6)",fontSize:"7.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"3px"},children:"Projected Annual Income"}),i.jsxs("div",{style:{color:"#7FFF7F",fontSize:"12px",fontWeight:"bold"},children:[j.incomeMin&&j.incomeMax?`${de(j.incomeMin)}  ${de(j.incomeMax)}`:j.incomeMin?`From ${de(j.incomeMin)}`:`Up to ${de(j.incomeMax)}`,i.jsx("span",{style:{color:"rgba(127,255,127,0.5)",fontSize:"9px",fontWeight:"normal"},children:" / yr"})]})]}),h&&(j.repeatableReqs||[]).length>0&&i.jsxs("div",{style:{marginBottom:"9px",background:"rgba(255,200,80,0.04)",border:"1px solid rgba(255,200,80,0.18)",borderRadius:"3px",padding:"7px 9px"},children:[i.jsx("div",{style:{color:"rgba(255,200,80,0.65)",fontSize:"7.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"5px"},children:"Requires Sponsor Items"}),j.repeatableReqs.map(L=>{const D=Ee[L.repeatableId],oe=z[L.repeatableId]||0,fe=oe>=L.minCount;return D?i.jsxs("div",{style:{marginBottom:"6px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3px"},children:[i.jsxs("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"9px"},children:[D.icon," ",D.label]}),i.jsxs("span",{style:{color:fe?"#7FFF7F":"rgba(255,200,80,0.9)",fontSize:"9px",fontWeight:"bold"},children:[oe," / ",L.minCount]})]}),i.jsx("div",{style:{height:"4px",background:"rgba(255,255,255,0.07)",borderRadius:"2px",overflow:"hidden"},children:i.jsx("div",{style:{height:"100%",width:`${Math.min(1,oe/L.minCount)*100}%`,background:fe?"rgba(127,255,127,0.7)":"rgba(255,200,80,0.6)",borderRadius:"2px",transition:"width 0.3s"}})})]},L.repeatableId):null})]}),h&&Mt.size>0&&i.jsxs("div",{style:{marginBottom:"9px"},children:[i.jsxs("div",{style:{color:"#FF501A",fontSize:"8px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"3px"},children:[" Unfulfilled chain (",Mt.size,")"]}),[...Mt].map(L=>{const D=re[L];return D?i.jsxs("div",{style:{color:"rgba(255,80,26,0.72)",fontSize:"9.5px",marginBottom:"2px"},children:[" ",D.label,D.cost?` (${de(D.cost)})`:"","  "]},L):null})]}),h&&En.length>0&&i.jsxs("div",{style:{marginBottom:"9px"},children:[i.jsx("div",{style:{color:"#7FFF7F",fontSize:"8px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"3px"},children:" Dependencies Met"}),En.map(L=>{const D=re[L];return D?i.jsxs("div",{style:{color:"rgba(127,255,127,0.6)",fontSize:"9.5px",marginBottom:"2px"},children:[" ",D.label]},L):null})]}),h&&pl>0&&!["built","funded"].includes(m[s.id])&&i.jsxs("div",{style:{color:"rgba(255,255,255,0.25)",fontSize:"8px",marginBottom:"9px"},children:["Full chain: ",i.jsx("span",{style:{color:"#C4A882"},children:de(pl)})]}),!h&&i.jsxs("div",{style:{background:"rgba(68,200,255,0.06)",border:"1px solid rgba(68,200,255,0.22)",borderRadius:"3px",padding:"8px 10px",marginBottom:"10px"},children:[i.jsx("div",{style:{color:"rgba(68,200,255,0.65)",fontSize:"7.5px",letterSpacing:"0.22em",textTransform:"uppercase",marginBottom:"3px"},children:"Donor Perk"}),i.jsx("div",{style:{color:"rgba(68,200,255,0.9)",fontSize:"10px"},children:j.perk})]}),!h&&i.jsxs("div",{style:{color:"rgba(255,255,255,0.2)",fontSize:"8px"},children:["Requires: ",i.jsx("span",{style:{color:"rgba(255,255,255,0.42)"},children:(A=re[j.requiredNode])==null?void 0:A.label})]}),h&&j.dependencies.length>0&&j.dependencies.some(L=>F[`${L}|${j.id}`])&&i.jsxs("div",{style:{marginBottom:"9px"},children:[i.jsx("div",{style:{color:"rgba(255,255,255,0.25)",fontSize:"7.5px",letterSpacing:"0.18em",textTransform:"uppercase",marginBottom:"4px"},children:"Why these dependencies?"}),j.dependencies.map(L=>{const D=F[`${L}|${j.id}`],oe=re[L];return D&&oe?i.jsxs("div",{style:{marginBottom:"5px",paddingLeft:"8px",borderLeft:"1px solid rgba(255,255,255,0.1)"},children:[i.jsx("div",{style:{color:"rgba(255,255,255,0.35)",fontSize:"8px",marginBottom:"1px"},children:oe.label}),i.jsx("div",{style:{color:"rgba(255,255,255,0.55)",fontSize:"9px",lineHeight:1.5},children:D})]},L):null})]}),h&&i.jsxs("div",{style:{paddingTop:"8px",borderTop:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"8px"},children:["Phase ",j.phase]}),(()=>{const L=m[s.id],D={locked:{label:"Planned",color:"rgba(255,255,255,0.26)",bg:"rgba(255,255,255,0.05)"},available:{label:"Open for Funding",color:"#FFAA44",bg:"rgba(255,170,68,0.1)"},funded:{label:"Fully Funded",color:"#7FFF7F",bg:"rgba(127,255,127,0.1)"},under_construction:{label:"Under Construction",color:"#55CCFF",bg:"rgba(85,204,255,0.1)"},built:{label:"Complete",color:"#FFD700",bg:"rgba(255,215,0,0.1)"}}[L]||{label:"Planned",color:"rgba(255,255,255,0.26)",bg:"rgba(255,255,255,0.05)"};return i.jsx("div",{style:{padding:"2px 10px",borderRadius:"9px",fontSize:"8px",letterSpacing:"0.08em",border:`1px solid ${D.color}`,color:D.color,background:D.bg},children:D.label})})()]})]})]})})(),I&&i.jsx(cg,{nodes:e,nodeStatuses:m,onClose:()=>$(!1)}),ee&&i.jsx(dg,{nodes:e,nodeStatuses:m,exportedAt:P,onClose:()=>ie(!1)})]})}const zd={start:{label:"Origin",color:"#FFD700",order:0},infrastructure:{label:"Infrastructure",color:"#8B7355",order:1},sanctuary:{label:"Sanctuary",color:"#4A7C59",order:2},cultural:{label:"Cultural",color:"#7B5EA7",order:3},community:{label:"Community",color:"#C17B2F",order:4},enrichment:{label:"Enrichment",color:"#2F7B8C",order:5},resort:{label:"Resort",color:"#8C4A2F",order:6},experience:{label:"Experience",color:"#5A7B3F",order:7},revenue:{label:"Revenue",color:"#2F6B8C",order:8},legacy:{label:"Legacy",color:"#8C6B2F",order:9}},At=zd,fg=["locked","available","funded","under_construction","built"],on={locked:{label:"Planned",color:"rgba(255,255,255,0.26)",bg:"rgba(255,255,255,0.05)"},available:{label:"Open for Funding",color:"#FFAA44",bg:"rgba(255,170,68,0.1)"},funded:{label:"Fully Funded",color:"#7FFF7F",bg:"rgba(127,255,127,0.1)"},under_construction:{label:"Under Construction",color:"#55CCFF",bg:"rgba(85,204,255,0.1)"},built:{label:"Complete",color:"#FFD700",bg:"rgba(255,215,0,0.1)"}};function Tl(e){return e==null||e===""?"-":e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}k`:`$${e}`}function di(){return Math.random().toString(36).slice(2,9)}function gg(e){if(e.length===0)return{};const t=Object.fromEntries(e.map(B=>[B.id,B])),n={};e.forEach(B=>{n[B.id]=0}),e.forEach(B=>{(B.unlocks||[]).forEach(I=>{t[I]&&(n[I]=(n[I]||0)+1)})});const r={};e.forEach(B=>{r[B.id]=0});const l=e.filter(B=>(B.dependencies||[]).filter(I=>t[I]).length===0).map(B=>B.id),o=new Set(l);for(;l.length;){const B=l.shift(),I=t[B];if(I)for(const $ of I.unlocks||[])t[$]&&(r[$]=Math.max(r[$]||0,r[B]+1),n[$]--,n[$]<=0&&!o.has($)&&(o.add($),l.push($)))}e.forEach(B=>{r[B.id]===void 0&&(r[B.id]=0)});const s={};e.forEach(B=>{s[B.id]=r[B.id]*10+Math.min(B.phase||0,9)});const a=[...new Set(Object.values(s))].sort((B,I)=>B-I),c=Object.fromEntries(a.map((B,I)=>[B,I]));e.forEach(B=>{s[B.id]=c[s[B.id]]});const f={};e.forEach(B=>{const I=s[B.id];f[I]||(f[I]=[]),f[I].push(B.id)});const y=Object.keys(f).map(Number).sort((B,I)=>B-I),w={};y.forEach(B=>{f[B].forEach((I,$)=>{w[I]=f[B].length===1?.5:$/(f[B].length-1)})});const m=(B,I)=>{const $=t[B],ee=I?($.dependencies||[]).filter(ie=>t[ie]):($.unlocks||[]).filter(ie=>t[ie]);return ee.length===0?w[B]:ee.reduce((ie,Z)=>ie+(w[Z]??.5),0)/ee.length},M=(B,I)=>{const $=f[B],ee=$.map(ie=>({id:ie,score:m(ie,I)}));ee.sort((ie,Z)=>ie.score-Z.score),ee.forEach((ie,Z)=>{w[ie.id]=$.length===1?.5:Z/($.length-1)}),f[B]=ee.map(ie=>ie.id)};for(let B=0;B<4;B++)B%2===0?y.forEach(I=>M(I,!0)):[...y].reverse().forEach(I=>M(I,!1));const z=1380,k=160,x=120,p=80,d=80,g=80,F=z-d-g,R=6,P=(B,I)=>{let $=0;for(let Z=0;Z<B.length;Z++)$=Math.imul(31,$)+B.charCodeAt(Z)|0;const ie=((I==="x"?$^305419896:$^3735928559)>>>0)/4294967295*2-1;return I==="x"?ie*30:ie*18};let U=0;const H={};return y.forEach(B=>{const I=f[B],$=[];for(let ee=0;ee<I.length;ee+=R)$.push(I.slice(ee,ee+R));$.forEach(ee=>{const ie=p+U*x;let Z=ee.map((ne,Qe)=>ee.length===1?d+F/2:d+Qe/(ee.length-1)*F);const Ye=ee.length>1?Z[Z.length-1]-Z[0]:0;if((ee.length-1)*k>Ye&&ee.length>1){const ne=(Z[0]+Z[Z.length-1])/2;Z=ee.map((Qe,Ie)=>ne+(Ie-(ee.length-1)/2)*k)}const xe=Math.min(...Z),O=Math.max(...Z),Q=Math.min(0,xe-d),V=Math.max(0,O-(z-g)),ce=Q!==0?-Q:V!==0?-V:0;ee.forEach((ne,Qe)=>{const Ie=Z[Qe]+ce,we=P(ne,"x"),Pe=P(ne,"y");H[ne]={x:Math.round(Ie+we),y:Math.round(ie+Pe)}}),U++})}),H}const hg=25;function mg({nodes:e,nodeStatuses:t,positions:n,onPositionsChange:r,onNodeSelect:l,onEdgeSelect:o,selectedId:s,showPhaseSep:a,phaseSeps:c,onPhaseSepsChange:f,onNodePhaseChange:y,showGrid:w,gridSize:m,selectedNodes:M,onSelectedNodesChange:z}){const k=S.useRef(null),x=S.useRef({dragging:null,dragOffset:{x:0,y:0},panning:!1,panStart:{x:0,y:0},panVb:null,didDrag:!1,draggingSep:null,groupDragOffsets:null,rubber:null,draggingBoundary:null,draggingColumn:null}),[p,d]=S.useState(null),g=134,F=50,R=150,P=70,U=Object.values(n),H=U.map(E=>E.x),B=U.map(E=>E.y),I=Math.min(...H,0)-80,$=Math.max(...H,0)+160,ee=Math.min(...B,0)-60,ie=Math.max(...B,0)+80,[Z,Ye]=S.useState({x:I,y:ee,w:$-I,h:ie-ee}),ue=S.useMemo(()=>{var te,q;const _=e.map(re=>({...re,pos:n[re.id]})).filter(re=>re.pos).sort((re,Ee)=>re.pos.x-Ee.pos.x),T=[];let Y=[],G=null;for(const re of _)if(G===null||Math.abs(re.pos.x-G)<75)Y.push(re),G=re.pos.x;else{if(Y.length>0){const Ee={};Y.forEach(Me=>Ee[Me.category]=(Ee[Me.category]||0)+1);const me=((te=Object.entries(Ee).sort((Me,Ae)=>Ae[1]-Me[1])[0])==null?void 0:te[0])||"community";T.push({nodes:Y,centerX:Y.reduce((Me,Ae)=>Me+Ae.pos.x,0)/Y.length,category:me})}Y=[re],G=re.pos.x}if(Y.length>0){const re={};Y.forEach(me=>re[me.category]=(re[me.category]||0)+1);const Ee=((q=Object.entries(re).sort((me,Me)=>Me[1]-me[1])[0])==null?void 0:q[0])||"community";T.push({nodes:Y,centerX:Y.reduce((me,Me)=>me+Me.pos.x,0)/Y.length,category:Ee})}return T},[e,n]),xe=S.useCallback((E,_)=>{const T=k.current;if(!T)return{x:0,y:0};const Y=T.getBoundingClientRect();return{x:Z.x+(E-Y.left)*(Z.w/Y.width),y:Z.y+(_-Y.top)*(Z.h/Y.height)}},[Z]),O=S.useCallback((E,_)=>{if(!_||_.length===0)return null;const T=[..._].sort((G,te)=>G.y-te.y);let Y=T[0].fromPhase;for(const G of T)E>G.y&&(Y=G.toPhase);return Y},[]),Q=S.useCallback((E,_)=>w?{x:Math.round(E/150)*150,y:Math.round(_/70)*70}:{x:Math.round(E),y:Math.round(_)},[w]),V=S.useCallback((E,_)=>{if(E.stopPropagation(),E.button===2){E.preventDefault(),x.current.panning=!0,x.current.panStart={x:E.clientX,y:E.clientY},x.current.panVb={...Z},x.current.rubber=null;return}const T=xe(E.clientX,E.clientY);if(M&&M.size>1&&M.has(_)){const G={};M.forEach(te=>{const q=n[te]||{x:0,y:0};G[te]={x:T.x-q.x,y:T.y-q.y}}),x.current.dragging=_,x.current.groupDragOffsets=G}else{const G=n[_]||{x:0,y:0};x.current.dragging=_,x.current.dragOffset={x:T.x-G.x,y:T.y-G.y},x.current.groupDragOffsets=null}x.current.panning=!1,x.current.didDrag=!1},[xe,n,M,Z]),ce=S.useCallback((E,_)=>{if(E.stopPropagation(),!x.current.didDrag)z==null||z(new Set),l==null||l(_);else if(!x.current.groupDragOffsets&&c&&c.length>0){const T=n[_];if(T){const Y=O(T.y,c);Y!==null&&(y==null||y(_,Y))}}x.current.dragging=null,x.current.groupDragOffsets=null,x.current.panning=!1},[l,z,n,c,O,y]),ne=S.useCallback((E,_)=>{E.stopPropagation(),x.current.draggingSep=_,x.current.didDrag=!1,x.current.panning=!1},[]),Qe=S.useCallback(E=>{if(E.stopPropagation(),x.current.didDrag&&x.current.draggingSep!==null){const _=c;e.forEach(T=>{const Y=n[T.id];if(!Y)return;const G=O(Y.y,_);G!==null&&G!==T.phase&&(y==null||y(T.id,G))})}x.current.draggingSep=null,x.current.panning=!1,x.current.didDrag=!1},[c,e,n,O,y]),Ie=S.useCallback(E=>{if(x.current.dragging||x.current.draggingSep!==null)return;if(E.button===2){E.preventDefault(),x.current.panning=!0,x.current.panStart={x:E.clientX,y:E.clientY},x.current.panVb={...Z},x.current.rubber=null,x.current.didDrag=!1;return}const _=xe(E.clientX,E.clientY);x.current.rubber={startX:_.x,startY:_.y},x.current.panning=!1,x.current.didDrag=!1,d({x:_.x,y:_.y,w:0,h:0})},[xe,Z]),we=S.useCallback(E=>{const _=x.current;if(_.dragging){_.didDrag=!0;const T=xe(E.clientX,E.clientY);if(_.groupDragOffsets)r(Y=>{const G={...Y};return Object.entries(_.groupDragOffsets).forEach(([te,q])=>{const re=Q(T.x-q.x,T.y-q.y);G[te]=re}),G});else{const{x:Y,y:G}=Q(T.x-_.dragOffset.x,T.y-_.dragOffset.y);r(te=>({...te,[_.dragging]:{x:Y,y:G}}))}}else if(_.draggingSep!==null){_.didDrag=!0;const T=xe(E.clientX,E.clientY),Y=Math.round(T.y);f(G=>G.map((te,q)=>q===_.draggingSep?{...te,y:Y}:te))}else if(_.draggingBoundary!==null){if(!ue||!ue[_.draggingBoundary])return;_.didDrag=!0;const T=xe(E.clientX,E.clientY),Y=T.x-_.boundaryDragStart.baseX;r(G=>{const te={...G},q=ue[_.draggingBoundary];return!q||!q.nodes?G:(q.nodes.forEach(re=>{const Ee=G[re.id];Ee&&(te[re.id]={x:Ee.x+Y,y:Ee.y})}),te)}),_.boundaryDragStart.baseX=T.x}else if(_.draggingColumn!==null){if(!ue||!ue[_.draggingColumn])return;_.didDrag=!0;const Y=xe(E.clientX,E.clientY).x-_.columnDragStart.x;r(G=>{const te={...G},q=ue[_.draggingColumn];return!q||!q.nodes?G:(q.nodes.forEach(re=>{const Ee=G[re.id];if(Ee&&_.columnDragStart.nodeOffsets){const me=_.columnDragStart.nodeOffsets[re.id];me!==void 0&&(te[re.id]={x:_.columnDragStart.baseX+Y+me.x,y:Ee.y})}}),te)})}else if(_.rubber){_.didDrag=!0;const T=xe(E.clientX,E.clientY),Y=Math.min(T.x,_.rubber.startX),G=Math.min(T.y,_.rubber.startY),te=Math.abs(T.x-_.rubber.startX),q=Math.abs(T.y-_.rubber.startY);d({x:Y,y:G,w:te,h:q})}else if(_.panning&&_.panVb){const T=k.current;if(!T)return;const Y=T.getBoundingClientRect(),G=(E.clientX-_.panStart.x)*(_.panVb.w/Y.width),te=(E.clientY-_.panStart.y)*(_.panVb.h/Y.height);Ye({..._.panVb,x:_.panVb.x-G,y:_.panVb.y-te})}},[xe,Q,r,f,c,e,ue,n]),Pe=S.useCallback(E=>{const _=x.current;if(_.rubber&&_.didDrag){const T=p;if(T&&T.w>4&&T.h>4){const Y=new Set;e.forEach(G=>{const te=n[G.id];te&&te.x>=T.x&&te.x<=T.x+T.w&&te.y>=T.y&&te.y<=T.y+T.h&&Y.add(G.id)}),z==null||z(Y)}else z==null||z(new Set),_.panning=!0,_.panStart={x:0,y:0},_.panVb={...Z}}else _.rubber&&!_.didDrag&&(z==null||z(new Set));_.dragging=null,_.groupDragOffsets=null,_.draggingSep=null,_.draggingBoundary=null,_.draggingColumn=null,_.panning=!1,_.didDrag=!1,_.rubber=null,d(null)},[e,n,p,z,Z]),Et=S.useCallback(E=>{E.preventDefault();const _=k.current;if(!_)return;const T=_.getBoundingClientRect(),Y=Z.x+(E.clientX-T.left)*(Z.w/T.width),G=Z.y+(E.clientY-T.top)*(Z.h/T.height),te=E.deltaY>0?1.12:.89;Ye(q=>({x:Y-(Y-q.x)*te,y:G-(G-q.y)*te,w:q.w*te,h:q.h*te}))},[Z]),Bt=[];e.forEach(E=>{E.dependencies.forEach(_=>{const T=n[_],Y=n[E.id];T&&Y&&Bt.push({key:`${_}-${E.id}`,fromId:_,toId:E.id,from:T,to:Y})})});const dt=`${Z.x} ${Z.y} ${Z.w} ${Z.h}`,Ke=I+20,$e=$-20,he=(I+$)/2;return i.jsxs("svg",{ref:k,width:"100%",height:"100%",viewBox:dt,style:{background:"rgba(0,0,0,0.4)",borderRadius:"4px",display:"block",userSelect:"none"},onMouseDown:Ie,onMouseMove:we,onMouseUp:Pe,onMouseLeave:Pe,onContextMenu:E=>E.preventDefault(),onWheel:Et,children:[i.jsxs("g",{style:{pointerEvents:"none"},children:[i.jsx("line",{x1:690,y1:ee,x2:690,y2:ie,stroke:"rgba(85,200,255,0.25)",strokeWidth:"0.8",strokeDasharray:"6,5"}),i.jsx("text",{x:694,y:ee+14,fill:"rgba(85,200,255,0.4)",fontSize:"8",fontFamily:"Georgia,serif",children:"centre"}),i.jsx("line",{x1:I,y1:80,x2:$,y2:80,stroke:"rgba(255,200,80,0.25)",strokeWidth:"0.8",strokeDasharray:"6,5"}),i.jsx("text",{x:I+6,y:76,fill:"rgba(255,200,80,0.4)",fontSize:"8",fontFamily:"Georgia,serif",children:"top guide"})]}),w&&i.jsxs("g",{style:{pointerEvents:"none"},children:[Array.from({length:Math.ceil(($-I)/R)+3},(E,_)=>{const T=Math.floor((I-R)/R)*R+_*R;return T<I-R||T>$+R?null:i.jsx("line",{x1:T,y1:ee-50,x2:T,y2:ie,stroke:"rgba(255,255,255,0.12)",strokeWidth:"0.8"},`vg-${_}`)}),Array.from({length:Math.ceil((ie-ee)/P)+3},(E,_)=>{const T=Math.floor((ee-P)/P)*P+_*P;return T<ee-P||T>ie+P?null:i.jsx("line",{x1:I,y1:T,x2:$,y2:T,stroke:"rgba(255,255,255,0.12)",strokeWidth:"0.8"},`hg-${_}`)}),Array.from({length:Math.ceil(($-I)/R)+3},(E,_)=>Array.from({length:Math.ceil((ie-ee)/P)+3},(T,Y)=>{const G=Math.floor((I-R)/R)*R+_*R,te=Math.floor((ee-P)/P)*P+Y*P;return G<I-R||G>$+R||te<ee-P||te>ie+P?null:i.jsx("circle",{cx:G,cy:te,r:"2",fill:"rgba(255,255,255,0.2)"},`snap-${_}-${Y}`)}))]}),w&&ue.length>0&&i.jsxs("g",{children:[ue.map((E,_)=>{const T=At[E.category]||At.community;return i.jsxs("g",{children:[i.jsx("rect",{x:E.centerX-80,y:ee+20,width:160,height:40,fill:T.color,opacity:"0.2",rx:"6",stroke:T.color,strokeWidth:"1.5",strokeOpacity:"0.5"}),i.jsx("text",{x:E.centerX,y:ee+42,textAnchor:"middle",fill:T.color,fontSize:"13",fontWeight:"bold",opacity:"0.95",children:T.label}),i.jsxs("text",{x:E.centerX,y:ee+54,textAnchor:"middle",fill:T.color,fontSize:"9",opacity:"0.7",children:[E.nodes.length," node",E.nodes.length!==1?"s":""]})]},`col-header-${_}`)}),ue.map((E,_)=>{if(_===0)return null;const T=(ue[_-1].centerX+E.centerX)/2,Y=At[E.category]||At.community;return i.jsx("g",{children:i.jsx("line",{x1:T,y1:ee,x2:T,y2:ie,stroke:Y.color,strokeWidth:"2",opacity:"0.4",strokeDasharray:"8,4",style:{pointerEvents:"none"}})},`col-boundary-${_}`)})]}),a&&c&&c.map((E,_)=>i.jsxs("g",{style:{cursor:"ns-resize"},onMouseDown:T=>ne(T,_),onMouseUp:T=>Qe(T),children:[i.jsx("line",{x1:Ke,y1:E.y,x2:$e,y2:E.y,stroke:"transparent",strokeWidth:"20"}),i.jsx("line",{x1:Ke,y1:E.y,x2:$e,y2:E.y,stroke:"rgba(196,168,130,0.3)",strokeWidth:"0.8",strokeDasharray:"8,6"}),i.jsxs("text",{x:Ke+6,y:E.y-6,fill:"rgba(196,168,130,0.45)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",E.fromPhase]}),i.jsxs("text",{x:Ke+6,y:E.y+13,fill:"rgba(196,168,130,0.45)",fontSize:"8",fontFamily:"Georgia,serif",children:[" Phase ",E.toPhase]}),i.jsx("rect",{x:he-22,y:E.y-7,width:"44",height:"14",rx:"7",fill:"rgba(196,168,130,0.1)",stroke:"rgba(196,168,130,0.3)",strokeWidth:"0.6"}),i.jsx("text",{x:he,y:E.y+2,textAnchor:"middle",fill:"rgba(196,168,130,0.6)",fontSize:"7",fontFamily:"Georgia,serif",children:" drag"})]},`sep-${_}`)),Bt.map(E=>{const _=(E.from.x+E.to.x)/2,T=`M${E.from.x},${E.from.y} C${_},${E.from.y} ${_},${E.to.y} ${E.to.x},${E.to.y}`,Y=s===`edge:${E.key}`;return i.jsxs("g",{onMouseDown:G=>{G.stopPropagation(),x.current.didDrag=!1},onMouseUp:G=>{G.stopPropagation(),x.current.didDrag||o==null||o(E.fromId,E.toId)},style:{cursor:"pointer"},children:[i.jsx("path",{d:T,stroke:"transparent",strokeWidth:"10",fill:"none"}),i.jsx("path",{d:T,stroke:Y?"#FFD700":"rgba(255,255,255,0.12)",strokeWidth:Y?"1.8":"1",fill:"none"})]},E.key)}),e.map(E=>{const _=n[E.id];if(!_)return null;const T=At[E.category]||At.community,Y=t[E.id]||"locked",G=Y==="built"?`${T.color}55`:Y==="under_construction"?`${T.color}44`:Y==="funded"?`${T.color}33`:Y==="available"?`${T.color}22`:`${T.color}0f`,te=x.current.dragging===E.id,q=s===E.id,re=M&&M.has(E.id),Ee=te||q||re,me=re?"#88CCFF":"#FFD700",Me=c&&c.some(Ae=>Math.abs(_.y-Ae.y)<hg);return i.jsxs("g",{transform:`translate(${_.x-g/2},${_.y-F/2})`,style:{cursor:"grab"},title:Me?" Node overlaps phase line - drag to clear it":void 0,onMouseDown:Ae=>V(Ae,E.id),onMouseUp:Ae=>ce(Ae,E.id),children:[Me&&i.jsx("rect",{x:"-5",y:"-5",width:g+10,height:F+10,rx:"6",fill:"rgba(255,30,30,0.12)",stroke:"#FF2020",strokeWidth:"3",style:{pointerEvents:"none"}}),Ee&&i.jsx("rect",{x:"-3",y:"-3",width:g+6,height:F+6,rx:"4",fill:re?"rgba(136,204,255,0.07)":"none",stroke:me,strokeWidth:"1.2",opacity:".85"}),i.jsx("rect",{x:"0",y:"0",width:g,height:F,rx:"2",fill:G,stroke:Me?"#FF2020":Ee?me:T.color,strokeWidth:Me?"2.5":Ee?"1.2":".6",strokeOpacity:".95"}),Y==="funded"&&i.jsx("rect",{x:"0",y:"0",width:g,height:F,rx:"2",fill:"rgba(255,255,255,0.09)"}),i.jsx("text",{x:g/2,y:F/2+3,textAnchor:"middle",fill:"rgba(255,255,255,0.8)",fontSize:"9.5",fontFamily:"Georgia,serif",children:E.label.length>19?E.label.slice(0,18)+"":E.label}),(()=>{const Ae=c&&c.length>0?(()=>{const Hn=[...c].sort((nn,Fn)=>nn.y-Fn.y);let Yn=Hn[0].fromPhase;for(const nn of Hn)_.y>nn.y&&(Yn=nn.toPhase);return Yn})():E.phase,Ht=Ae!==E.phase;return i.jsxs("text",{x:"4",y:"10",fill:Ht?"#FFAA44":"rgba(255,255,255,0.28)",fontSize:"7",fontFamily:"Georgia,serif",children:["Ph",Ae,Ht?"!":""]})})()]},E.id)}),p&&p.w>2&&p.h>2&&i.jsx("rect",{x:p.x,y:p.y,width:p.w,height:p.h,fill:"rgba(136,204,255,0.06)",stroke:"rgba(136,204,255,0.5)",strokeWidth:"0.8",strokeDasharray:"6,4",rx:"2",style:{pointerEvents:"none"}})]})}const fu=[{id:"land",label:"Land Secured",category:"start",phase:0,cost:null,status:"built",description:"300-400 acres of Southern Maine forested land.",dependencies:[],unlocks:["porta_potties"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"porta_potties",label:"Porta-Potties",category:"infrastructure",phase:0,cost:3e3,status:"available",description:"First microphase. Monthly rental.",dependencies:["land"],unlocks:["perimeter_fence","basic_trails","water_well","power_solar","access_road","master_waller_dwelling","tree_art","firewood","chaga_program"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"perimeter_fence",label:"Perimeter Fence",category:"infrastructure",phase:1,cost:8e4,status:"locked",description:"Boundary fencing.",dependencies:["porta_potties"],unlocks:["sanctuary_core","forest_dining"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"water_well",label:"Water & Well",category:"infrastructure",phase:1,cost:45e3,status:"locked",description:"Primary water supply.",dependencies:["porta_potties"],unlocks:["sanctuary_core","water_channels","aqua_fetch"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"power_solar",label:"Power & Solar",category:"infrastructure",phase:1,cost:12e4,status:"locked",description:"Solar-primary power.",dependencies:["porta_potties"],unlocks:["basic_trails","listening_posts"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"basic_trails",label:"Basic Trail Network",category:"infrastructure",phase:1,cost:6e4,status:"locked",description:"Primary trail network.",dependencies:["porta_potties","power_solar"],unlocks:["memory_lane_trail","extreme_fetch","ice_rink","tree_art","mood_meadow","tunnel_network","sniff_library","sound_pads","dawn_chorus","gifting_tree","matchmaking_walks","firewood"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"access_road",label:"Access Road",category:"infrastructure",phase:1,cost:35e3,status:"locked",description:"Paved access road.",dependencies:["porta_potties"],unlocks:["central_village","dutch_snackbar","forest_dining"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"sanctuary_core",label:"Sanctuary Core",category:"sanctuary",phase:1,cost:25e4,status:"locked",description:"Core dog sanctuary.",dependencies:["perimeter_fence","water_well"],unlocks:["vet_facility","communication_boards","dog_daycare","scent_system","animal_adoption","multi_species"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"vet_facility",label:"Veterinary Facility",category:"sanctuary",phase:1,cost:18e4,status:"locked",description:"On-site vet clinic.",dependencies:["sanctuary_core"],unlocks:["transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"communication_boards",label:"Communication Boards",category:"sanctuary",phase:1,cost:25e3,status:"locked",description:"24-button boards.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"dog_daycare",label:"Dog Daycare",category:"sanctuary",phase:1,cost:15e3,status:"locked",description:"Supervised daycare.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"matchmaking_walks",label:"Dog Matchmaking Walks",category:"sanctuary",phase:1,cost:2e3,status:"locked",description:"Staff-matched walks.",dependencies:["sanctuary_core","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"scent_system",label:"Scent Coding System",category:"sanctuary",phase:2,cost:18e3,status:"locked",description:"Villa scent markers.",dependencies:["sanctuary_core"],unlocks:["scent_menu"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"scent_menu",label:"Dog Scent Menu",category:"sanctuary",phase:2,cost:8e3,status:"locked",description:"Dog-friendly scent menu.",dependencies:["scent_system"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"animal_adoption",label:"On-Site Animal Adoption",category:"sanctuary",phase:2,cost:5e3,status:"locked",description:"Zoo-style sponsorship.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"multi_species",label:"Multi-Species Sanctuary",category:"sanctuary",phase:2,cost:4e4,status:"locked",description:"Donkeys, goats, ducks.",dependencies:["sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"master_waller_dwelling",label:"Master Waller Dwelling",category:"cultural",phase:1,cost:175e3,status:"locked",description:"Home for the master waller.",dependencies:["porta_potties"],unlocks:["perimeter_wall"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"perimeter_wall",label:"Perimeter Wall (Begin)",category:"cultural",phase:1,cost:3e5,status:"locked",description:"Begin 3+ mile drystone wall.",dependencies:["master_waller_dwelling"],unlocks:["hero_stones","memorial_urn_stones"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"hero_stones",label:"Hero Stones Programme",category:"cultural",phase:1,cost:5e3,status:"locked",description:"Inscribed donor stones.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"memorial_urn_stones",label:"Memorial Urn Stones",category:"cultural",phase:1,cost:5e3,status:"locked",description:"Patron dogs' ashes.",dependencies:["perimeter_wall"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"dutch_snackbar",label:"Dutch Snackbar",category:"cultural",phase:1,cost:35e3,status:"locked",description:"Wood-fired pizza + patat.",dependencies:["access_road"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"forest_dining",label:"Forest Dining",category:"cultural",phase:1,cost:45e3,status:"locked",description:"Distributed forest grill sites.",dependencies:["perimeter_fence","access_road"],unlocks:["slow_table"],generalFundMin:null,repeatableReqs:[{repeatableId:"picnic_bench",minCount:6}],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"slow_table",label:"The Slow Table",category:"community",phase:1,cost:8e3,status:"locked",description:"Weekly communal dinner.",dependencies:["forest_dining"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"gingerworks",label:"Gingerworks",category:"cultural",phase:2,cost:35e4,status:"locked",description:"The pub and micro-brewery.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"repair_workshop",label:"Repair Workshop",category:"cultural",phase:2,cost:6e4,status:"locked",description:"Open-sided maker space.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"chapel",label:"Unitarian Chapel",category:"cultural",phase:3,cost:225e3,status:"locked",description:"Timber-frame chapel.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"extreme_fetch",label:"Extreme Fetch Field",category:"community",phase:1,cost:2e4,status:"locked",description:"Fan-shaped outfield.",dependencies:["basic_trails"],unlocks:["aqua_fetch"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"aqua_fetch",label:"Aqua Fetch Bay",category:"community",phase:2,cost:3e4,status:"locked",description:"Water-based Extreme Fetch.",dependencies:["extreme_fetch","water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"ice_rink",label:"Natural Ice Rink",category:"community",phase:1,cost:12e3,status:"locked",description:"Flooded uncooled rink.",dependencies:["basic_trails"],unlocks:["skating_trails"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"skating_trails",label:"Forest Skating Trails",category:"community",phase:2,cost:2e4,status:"locked",description:"Montreal-style trails.",dependencies:["ice_rink","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"gifting_tree",label:"The Gifting Tree",category:"community",phase:1,cost:500,status:"locked",description:"Weatherproof gift exchange.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"dawn_chorus",label:"Dawn Chorus Experience",category:"community",phase:1,cost:1500,status:"locked",description:"4:30am silent walk.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"sniff_library",label:"Sniff Library",category:"enrichment",phase:1,cost:4e3,status:"locked",description:"Sealed scent cartridges.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"tunnel_network",label:"Tunnel Network",category:"enrichment",phase:2,cost:12e3,status:"locked",description:"Buried tubes connecting dog park.",dependencies:["basic_trails","sanctuary_core"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"mood_meadow",label:"Mood Meadow",category:"enrichment",phase:1,cost:2e3,status:"locked",description:"Canine herb sections.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"sound_pads",label:"Mechanical Sound Pads",category:"enrichment",phase:1,cost:6e3,status:"locked",description:"BONK/DING/CLONK.",dependencies:["basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"listening_posts",label:"Listening Posts",category:"enrichment",phase:2,cost:5e3,status:"locked",description:"Dog-ear height speakers.",dependencies:["basic_trails","power_solar"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"central_village",label:"Central Village",category:"resort",phase:2,cost:8e5,status:"locked",description:"Central hub.",dependencies:["access_road","water_well","power_solar"],unlocks:["gingerworks","repair_workshop","kustom_kibble","artisan_village","villas_phase1"],generalFundMin:5e4,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"villas_phase1",label:"First 10 Villas",category:"resort",phase:2,cost:25e5,status:"locked",description:"BOGO model.",dependencies:["central_village"],unlocks:["villas_phase2","rfid_system"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"villas_phase2",label:"Next 20 Villas",category:"resort",phase:3,cost:5e6,status:"locked",description:"Scale to 30 villas.",dependencies:["villas_phase1"],unlocks:["artisan_housing","villas_phase3"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"villas_phase3",label:"50+ Villas",category:"resort",phase:4,cost:1e7,status:"locked",description:"Full villa estate.",dependencies:["villas_phase2"],unlocks:["the_jewel","transport_fleet"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"kustom_kibble",label:"Kustom Kibble",category:"resort",phase:2,cost:65e3,status:"locked",description:"BOGO kibble dispensers.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"artisan_village",label:"Artisan Village",category:"resort",phase:3,cost:2e6,status:"locked",description:"Arc of storefronts.",dependencies:["central_village"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"artisan_housing",label:"Artisan Housing",category:"resort",phase:3,cost:15e5,status:"locked",description:"On-site housing.",dependencies:["villas_phase2"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"memory_lane_trail",label:"Memory Lane Trail",category:"experience",phase:2,cost:28e3,status:"locked",description:"Synced speaker trail.",dependencies:["basic_trails","power_solar"],unlocks:["rfid_system"],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"rfid_system",label:"RFID Light & Sound",category:"experience",phase:2,cost:12e4,status:"locked",description:"Personal light/sound bubble.",dependencies:["memory_lane_trail","villas_phase1"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"water_channels",label:"Water Channels",category:"experience",phase:1,cost:45e3,status:"locked",description:"Stone-lined channels.",dependencies:["water_well"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"tree_art",label:"Tree Art Programme",category:"experience",phase:1,cost:4e3,status:"locked",description:"Living sculptures.",dependencies:["porta_potties"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"firewood",label:"Firewood Sales",category:"revenue",phase:1,cost:8e3,status:"locked",description:"Premium Maine hardwood.",dependencies:["porta_potties","basic_trails"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"chaga_program",label:"Chaga Programme",category:"revenue",phase:1,cost:15e3,status:"locked",description:"Birch inoculation.",dependencies:["porta_potties"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"transport_fleet",label:"Transport Fleet",category:"legacy",phase:4,cost:12e5,status:"locked",description:"Purpose-built rescue vehicles.",dependencies:["vet_facility","villas_phase3"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null},{id:"the_jewel",label:"The Jewel",category:"legacy",phase:4,cost:35e6,status:"locked",description:"Indoor water park. The crown.",dependencies:["villas_phase3"],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",costMonthly:null,costYearly:null,costOneTime:null,emphasis:!1,minProjectedIncome:null}],gu=[{id:"picnic_bench",label:"Picnic Bench",cost:800,category:"community",icon:"",description:"Handcrafted bench on your chosen trail.",perk:"Inaugural gathering naming rights",requiredNode:"basic_trails",fundedCount:0,targetCount:20},{id:"camping_pad",label:"Camping Pad",cost:1200,category:"community",icon:"",description:"Levelled tent pad. Donor's first night free.",perk:"Complimentary first night",requiredNode:"basic_trails",fundedCount:0,targetCount:15},{id:"tick_station",label:"Tick Check Station",cost:350,category:"infrastructure",icon:"",description:"Cedar-post station with mirror.",perk:"Inlaid stone nameplate",requiredNode:"basic_trails",fundedCount:0,targetCount:12},{id:"dog_water_station",label:"Dog Water Station",cost:600,category:"sanctuary",icon:"",description:"Gravity-fed stone trough.",perk:"First use for donor's dog",requiredNode:"water_well",fundedCount:0,targetCount:10},{id:"fire_ring",label:"Fire Ring",cost:2200,category:"community",icon:"",description:"Stone-set fire ring.",perk:"Host the inaugural fire",requiredNode:"basic_trails",fundedCount:0,targetCount:8},{id:"trail_bench",label:"Trail Rest Bench",cost:450,category:"community",icon:"",description:"Rough-hewn bench at scenic point.",perk:"Location choice",requiredNode:"basic_trails",fundedCount:0,targetCount:20},{id:"bird_feeder",label:"Bird Feeder Station",cost:280,category:"enrichment",icon:"",description:"Cedar multi-feeder post.",perk:"Family inaugural fill",requiredNode:"basic_trails",fundedCount:0,targetCount:15},{id:"blueberry_patch",label:"Blueberry Patch",cost:1800,category:"enrichment",icon:"",description:"Maine lowbush blueberry planting.",perk:"First harvest rights",requiredNode:"basic_trails",fundedCount:0,targetCount:6},{id:"bat_house",label:"Bat House",cost:320,category:"enrichment",icon:"",description:"Multi-chamber bat house.",perk:"Base plate inscription",requiredNode:"basic_trails",fundedCount:0,targetCount:10},{id:"agility_jump",label:"Agility Jump Set",cost:950,category:"enrichment",icon:"",description:"Hand-painted agility jump.",perk:"Inaugural ribbon ceremony",requiredNode:"sanctuary_core",fundedCount:0,targetCount:6},{id:"mushroom_log",label:"Mushroom Log",cost:90,category:"revenue",icon:"",description:"Single inoculated shiitake log.",perk:"Harvest the first flush",requiredNode:"porta_potties",fundedCount:0,targetCount:50},{id:"apple_tree",label:"Apple Tree Planting",cost:580,category:"enrichment",icon:"",description:"Heritage Maine apple variety.",perk:"Name the tree + first pick",requiredNode:"basic_trails",fundedCount:0,targetCount:12},{id:"stone_steps",label:"Stone Step Section",cost:2800,category:"infrastructure",icon:"",description:"10 hand-laid drystone steps.",perk:"First to walk the steps",requiredNode:"perimeter_wall",fundedCount:0,targetCount:30}],hu=[{id:"utv_trailer",label:"UTV + Trailer",cost:18e3,category:"infrastructure",icon:"",description:"Utility vehicle with flatbed trailer for daily land management and material transport."},{id:"pickup_truck",label:"Pickup Truck",cost:35e3,category:"infrastructure",icon:"",description:"4x4 pickup for supply runs, staff transport, and emergency access."},{id:"snow_blower",label:"Snow Blower",cost:2800,category:"infrastructure",icon:"",description:"Commercial-grade snow blower for winter trail and access maintenance."},{id:"log_splitter",label:"Log Splitter",cost:1200,category:"infrastructure",icon:"",description:"Hydraulic log splitter for firewood program and land clearing operations."},{id:"chainsaw_kit",label:"Professional Chainsaw Kit",cost:1800,category:"infrastructure",icon:"",description:"Professional-grade chainsaw with safety gear for trail maintenance and forestry work."},{id:"trailer_utility",label:"Utility Trailer",cost:3200,category:"infrastructure",icon:"",description:"Heavy-duty utility trailer for equipment and material transport."},{id:"atv",label:"ATV",cost:9500,category:"infrastructure",icon:"",description:"All-terrain vehicle for rapid access to remote areas and emergency response."},{id:"generator",label:"Backup Generator",cost:4500,category:"infrastructure",icon:"",description:"Diesel backup generator for power outages and construction sites."}],yg={land:{x:680,y:55},porta_potties:{x:680,y:160},perimeter_fence:{x:260,y:290},water_well:{x:500,y:290},power_solar:{x:760,y:290},access_road:{x:1020,y:290},basic_trails:{x:640,y:420},master_waller_dwelling:{x:100,y:290},sanctuary_core:{x:260,y:430},vet_facility:{x:100,y:540},communication_boards:{x:270,y:540},dog_daycare:{x:100,y:640},matchmaking_walks:{x:270,y:640},scent_system:{x:420,y:540},scent_menu:{x:420,y:640},animal_adoption:{x:560,y:640},multi_species:{x:560,y:540},perimeter_wall:{x:100,y:410},hero_stones:{x:30,y:510},memorial_urn_stones:{x:175,y:510},dutch_snackbar:{x:1180,y:410},forest_dining:{x:1020,y:410},slow_table:{x:1020,y:520},gingerworks:{x:1180,y:620},repair_workshop:{x:1020,y:620},chapel:{x:1300,y:510},extreme_fetch:{x:560,y:520},aqua_fetch:{x:490,y:640},ice_rink:{x:700,y:520},skating_trails:{x:700,y:640},gifting_tree:{x:820,y:520},dawn_chorus:{x:940,y:520},sniff_library:{x:560,y:420},tunnel_network:{x:640,y:760},mood_meadow:{x:760,y:640},sound_pads:{x:880,y:640},listening_posts:{x:940,y:420},central_village:{x:1020,y:290},villas_phase1:{x:1180,y:290},villas_phase2:{x:1180,y:510},villas_phase3:{x:1180,y:760},kustom_kibble:{x:880,y:410},artisan_village:{x:1300,y:410},artisan_housing:{x:1300,y:760},memory_lane_trail:{x:820,y:420},rfid_system:{x:880,y:760},water_channels:{x:500,y:410},tree_art:{x:380,y:290},firewood:{x:380,y:420},chaga_program:{x:260,y:760},transport_fleet:{x:100,y:760},the_jewel:{x:1180,y:880}},xg=["Nodes","Edges","Repeatables","Categories","General Fund"],vg="doggerland";function kg(){const[e,t]=S.useState(()=>{try{return sessionStorage.getItem("nd_admin")==="1"}catch{return!1}}),[n,r]=S.useState(""),[l,o]=S.useState(!1),s=()=>{if(n===vg){try{sessionStorage.setItem("nd_admin","1")}catch{}t(!0)}else o(!0),r(""),setTimeout(()=>o(!1),1200)};return e?i.jsx(wg,{}):i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#080e08",fontFamily:"system-ui,sans-serif"},children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"10px",letterSpacing:"0.35em",textTransform:"uppercase",marginBottom:"6px"},children:"New Doggerland"}),i.jsx("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"22px",letterSpacing:"0.05em",marginBottom:"28px"},children:"Admin"}),i.jsx("input",{type:"password",value:n,autoFocus:!0,onChange:a=>r(a.target.value),onKeyDown:a=>a.key==="Enter"&&s(),placeholder:"Password",style:{display:"block",width:"220px",padding:"10px 14px",marginBottom:"10px",background:l?"rgba(255,60,60,0.1)":"rgba(255,255,255,0.05)",border:`1px solid ${l?"rgba(255,80,80,0.6)":"rgba(255,255,255,0.15)"}`,borderRadius:"4px",color:"#F5EFE0",fontSize:"14px",fontFamily:"system-ui,sans-serif",outline:"none",textAlign:"center",transition:"border-color 0.2s, background 0.2s"}}),i.jsx("button",{onClick:s,style:{padding:"8px 28px",background:"rgba(196,168,130,0.1)",border:"1px solid rgba(196,168,130,0.4)",color:"#C4A882",borderRadius:"4px",cursor:"pointer",fontSize:"11px",letterSpacing:"0.15em",fontFamily:"system-ui,sans-serif"},children:"Enter"}),l&&i.jsx("div",{style:{color:"rgba(255,80,80,0.7)",fontSize:"9px",marginTop:"10px",letterSpacing:"0.1em"},children:"Incorrect password"})]})})}function wg(){const[e,t]=S.useState(fu),[n,r]=S.useState(gu),[l,o]=S.useState(hu),[s,a]=S.useState(zd),[c,f]=S.useState(yg),[y,w]=S.useState(()=>Object.fromEntries(fu.map(u=>[u.id,u.status]))),[m,M]=S.useState(()=>Object.fromEntries(gu.map(u=>[u.id,u.fundedCount]))),[z,k]=S.useState(()=>Object.fromEntries(hu.map(u=>[u.id,!1]))),[x,p]=S.useState({balance:12500,goal:5e5}),[d,g]=S.useState("Nodes"),[F,R]=S.useState(null),[P,U]=S.useState(null),[H,B]=S.useState("all"),[I,$]=S.useState(!1),[ee,ie]=S.useState(50),[Z,Ye]=S.useState({}),[ue,xe]=S.useState(null),O=S.useRef({}),Q=S.useRef(null),V=S.useCallback(u=>{g("Nodes"),R(u),U(u),setTimeout(()=>{const v=O.current[u];v&&v.scrollIntoView({behavior:"smooth",block:"nearest"})},50)},[]),ce=S.useCallback((u,v)=>{g("Edges"),U(`edge:${u}-${v}`)},[]),[ne,Qe]=S.useState(""),[Ie,we]=S.useState(!1),[Pe,Et]=S.useState(!0),[Bt,dt]=S.useState(new Set),[Ke,$e]=S.useState(null),[he,E]=S.useState(""),[_,T]=S.useState(""),[Y,G]=S.useState(""),[te,q]=S.useState(""),[re,Ee]=S.useState(""),me=S.useMemo(()=>Object.fromEntries(e.map(u=>[u.id,u])),[e]),Me=S.useCallback((u,v)=>{const C={};u.forEach(J=>{const K=v[J.id];K&&(C[J.phase]||(C[J.phase]=[]),C[J.phase].push(K.y))});const b=Object.keys(C).map(Number).sort((J,K)=>J-K);return b.slice(0,-1).map((J,K)=>({fromPhase:J,toPhase:b[K+1],y:Math.round((Math.max(...C[J])+Math.min(...C[b[K+1]]))/2)}))},[]);S.useEffect(()=>{Ke===null&&Object.keys(c).length>0&&$e(Me(e,c))},[Ke,c,e,Me]);const Ae=S.useCallback(async(u,v,C,b,J,K,Ne,le,Re,We)=>{try{if(!window.storage)return;await window.storage.set("nd_state",JSON.stringify({nodeStatuses:u,repeatableCounts:v,oneTimeFunded:C,generalFund:b,positions:J})),await window.storage.set("nd_data",JSON.stringify({nodes:K,repeatables:Ne,oneTimes:le,edgeNotes:Re,phaseSeps:We}))}catch{}},[]),Ht=S.useCallback(u=>{if(u.nodes&&t(u.nodes),u.repeatables&&r(u.repeatables),u.oneTimes&&o(u.oneTimes),u.categories&&a(u.categories),u.positions&&f(u.positions),u.edgeNotes&&Ye(u.edgeNotes),u.phaseSeps&&$e(u.phaseSeps),u.state){const v=u.state;v.nodeStatuses&&w(v.nodeStatuses),v.repeatableCounts&&M(v.repeatableCounts),v.oneTimeFunded&&k(v.oneTimeFunded),v.generalFund&&p(v.generalFund)}},[]),Hn=S.useCallback(async()=>{try{if(!window.storage)return!1;const u=await window.storage.get("nd_state"),v=await window.storage.get("nd_data");if(!(u!=null&&u.value)&&!(v!=null&&v.value))return!1;if(u!=null&&u.value){const C=JSON.parse(u.value);C.nodeStatuses&&w(C.nodeStatuses),C.repeatableCounts&&M(C.repeatableCounts),C.generalFund&&p(C.generalFund),C.positions&&f(C.positions)}if(v!=null&&v.value){const C=JSON.parse(v.value);C.nodes&&t(C.nodes),C.repeatables&&r(C.repeatables),C.edgeNotes&&Ye(C.edgeNotes),C.phaseSeps&&$e(C.phaseSeps)}return!0}catch{return!1}},[]);S.useEffect(()=>{(async()=>{try{const v=await fetch(`/tree/state.json?v=${Date.now()}`);if(v.ok){const C=await v.json();Q.current=C,Ht(C);return}}catch{}await Hn()||(Q.current=null)})()},[]);const Yn=S.useCallback(()=>{Q.current&&(Ht(Q.current),we(!1))},[Ht]);S.useEffect(()=>{const u=v=>{v.key==="Escape"&&dt(new Set)};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]);const nn=S.useCallback((u,v)=>{t(C=>C.map(b=>b.id===u?{...b,phase:v}:b)),we(!0)},[]),Fn=S.useCallback(async()=>{await Ae(y,m,z,x,c,e,n,l,Z,Ke),Qe("Saved "),we(!1),setTimeout(()=>Qe(""),2e3)},[y,m,z,x,c,e,n,l,Z,Ke,Ae]),kt=S.useCallback(()=>{const u=new Date,v={nodes:e,repeatables:n,oneTimes:l,categories:s,state:{nodeStatuses:y,repeatableCounts:m,oneTimeFunded:z,generalFund:x},positions:c,edgeNotes:Z,phaseSeps:Ke,exportedAt:u.toISOString()},C=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),b=document.createElement("a");b.href=URL.createObjectURL(C),b.download="state.json",b.click(),xe(u)},[e,n,l,s,y,m,z,x,c,Z,Ke]),_e=(u,v,C)=>{t(b=>b.map(J=>J.id===u?{...J,[v]:C}:J)),v==="status"&&w(b=>({...b,[u]:C}))},To=()=>{const u=`node_${di()}`,v={id:u,label:"New Node",category:"community",phase:1,cost:1e3,status:"locked",description:"",dependencies:[],unlocks:[],generalFundMin:null,repeatableReqs:[],perk:"",phaseEssential:!1};t(C=>[...C,v]),w(C=>({...C,[u]:"locked"})),f(C=>({...C,[u]:{x:700,y:500}})),R(u)},Io=u=>{var v;window.confirm(`Delete "${(v=me[u])==null?void 0:v.label}"? All edges to/from it will also be removed.`)&&(t(C=>C.filter(b=>b.id!==u).map(b=>({...b,dependencies:b.dependencies.filter(J=>J!==u),unlocks:b.unlocks.filter(J=>J!==u)}))),w(C=>{const b={...C};return delete b[u],b}),f(C=>{const b={...C};return delete b[u],b}),F===u&&R(null))},Vn=u=>{const v=me[u];if(!v)return;const C=`node_${di()}`,b=c[u]||{x:700,y:500},J={...v,id:C,label:v.label+" (copy)",dependencies:[],unlocks:[]};t(K=>[...K,J]),w(K=>({...K,[C]:y[u]||"locked"})),f(K=>({...K,[C]:{x:b.x+160,y:b.y}})),R(C),we(!0)},Mt=u=>{const v=n[0];v&&t(C=>C.map(b=>b.id===u?{...b,repeatableReqs:[...b.repeatableReqs||[],{repeatableId:v.id,minCount:1}]}:b))},En=(u,v,C,b)=>{t(J=>J.map(K=>{if(K.id!==u)return K;const Ne=[...K.repeatableReqs||[]];return Ne[v]={...Ne[v],[C]:C==="minCount"?parseInt(b)||1:b},{...K,repeatableReqs:Ne}}))},pl=(u,v)=>{t(C=>C.map(b=>b.id===u?{...b,repeatableReqs:(b.repeatableReqs||[]).filter((J,K)=>K!==v)}:b))};S.useCallback((u,v,C,b)=>{var Re,We,Se;const J=Object.fromEntries(b.map(Ue=>[Ue.id,Ue])),K=new Set;[...((Re=J[u])==null?void 0:Re.dependencies)||[]];const le=[...(((We=J[u])==null?void 0:We.dependencies)||[]).filter(Ue=>C?Ue!==C:!0)];for(;le.length;){const Ue=le.shift();if(Ue===v)return!0;K.has(Ue)||(K.add(Ue),(((Se=J[Ue])==null?void 0:Se.dependencies)||[]).forEach(pt=>le.push(pt)))}return!1},[]);const fl=S.useCallback((u,v)=>{const C=Object.fromEntries(u.map(le=>[le.id,le])),b=C[v];if(!b)return{nodes:u,removed:[]};const J=[];let K=[...b.dependencies];return K=K.filter(le=>K.filter(We=>We!==le).some(We=>{var pt,De;const Se=new Set,Ue=[...((pt=C[We])==null?void 0:pt.dependencies)||[]];for(;Ue.length;){const se=Ue.shift();if(se===le)return!0;Se.has(se)||(Se.add(se),(((De=C[se])==null?void 0:De.dependencies)||[]).forEach(rn=>Ue.push(rn)))}return!1})?(J.push(le),!1):!0),{nodes:u.map(le=>le.id===v?{...le,dependencies:K}:J.includes(le.id)?{...le,unlocks:le.unlocks.filter(Re=>Re!==v)}:le),removed:J}},[]),No=()=>{var u;!te||!re||te===re||(u=me[re])!=null&&u.dependencies.includes(te)||t(v=>{const C=v.map(K=>K.id===re?{...K,dependencies:[...K.dependencies,te]}:K.id===te?{...K,unlocks:[...K.unlocks,re]}:K),{nodes:b,removed:J}=fl(C,re);if(J.length>0){const K=Object.fromEntries(C.map(le=>[le.id,le])),Ne=J.map(le=>{var Re;return((Re=K[le])==null?void 0:Re.label)||le}).join(", ");setTimeout(()=>{G(` Removed redundant dep on "${Ne}" - already implied transitively.`),setTimeout(()=>G(""),4e3)},50)}return b})},Do=(u,v)=>{t(C=>C.map(b=>b.id===v?{...b,dependencies:b.dependencies.filter(J=>J!==u)}:b.id===u?{...b,unlocks:b.unlocks.filter(J=>J!==v)}:b))},Oo=()=>{if(!he||!_)return;const[u,v]=he.split("|");!u||!v||_===u||_===v||t(C=>{var Ue,pt,De;let b=C.map(se=>se.id===v?{...se,dependencies:se.dependencies.filter(rn=>rn!==u),unlocks:se.unlocks}:se.id===u?{...se,unlocks:se.unlocks.filter(rn=>rn!==v)}:se);b=b.map(se=>se.id===_?{...se,dependencies:[...new Set([...se.dependencies,u])]}:se.id===u?{...se,unlocks:[...new Set([...se.unlocks,_])]}:se),b=b.map(se=>se.id===v?{...se,dependencies:[...new Set([...se.dependencies,_])]}:se.id===_?{...se,unlocks:[...new Set([...se.unlocks,v])]}:se);const{nodes:J,removed:K}=fl(b,v),Ne=Object.fromEntries(C.map(se=>[se.id,se])),le=((Ue=Ne[_])==null?void 0:Ue.label)||_,Re=((pt=Ne[u])==null?void 0:pt.label)||u,We=((De=Ne[v])==null?void 0:De.label)||v,Se=K.length>0?` Removed redundant dep on "${K.map(se=>{var rn;return((rn=Ne[se])==null?void 0:rn.label)||se}).join(", ")}".`:"";return setTimeout(()=>{G(` Inserted "${le}" between "${Re}" and "${We}".${Se}`),setTimeout(()=>G(""),5e3)},50),E(""),T(""),J})},Mn=S.useMemo(()=>{const u=[];return e.forEach(v=>v.dependencies.forEach(C=>{me[C]&&u.push({fromId:C,fromLabel:me[C].label,toId:v.id,toLabel:v.label})})),u},[e,me]),gl=()=>{const u=`rep_${di()}`;r(v=>{var C;return[...v,{id:u,label:"New Item",cost:500,category:"community",icon:"",description:"",perk:"",requiredNode:((C=e[0])==null?void 0:C.id)||"",fundedCount:0,targetCount:10}]}),M(v=>({...v,[u]:0}))},h=(u,v,C)=>r(b=>b.map(J=>J.id===u?{...J,[v]:C}:J)),j=u=>{window.confirm("Delete this item?")&&r(v=>v.filter(C=>C.id!==u))},W="#C4A882",A={background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.14)",color:"#F5EFE0",padding:"4px 8px",borderRadius:"3px",fontSize:"11px",fontFamily:"system-ui,sans-serif",width:"100%",boxSizing:"border-box"},L={background:"#0a140a",border:"1px solid rgba(255,255,255,0.14)",color:"#F5EFE0",padding:"3px 6px",borderRadius:"3px",fontSize:"10px",fontFamily:"system-ui,sans-serif"},D={color:"rgba(255,255,255,0.38)",fontSize:"7.5px",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"3px",display:"block"},oe=(u="#C4A882")=>({padding:"4px 10px",background:`${u}18`,border:`1px solid ${u}55`,color:u,borderRadius:"3px",cursor:"pointer",fontSize:"9px",letterSpacing:"0.1em",fontFamily:"system-ui,sans-serif"}),fe=Math.min(1,x.balance/x.goal);return i.jsxs("div",{style:{display:"flex",height:"100vh",background:"#080e08",fontFamily:"system-ui,sans-serif",color:"#F5EFE0",overflow:"hidden"},children:[i.jsxs("div",{style:{width:520,minWidth:520,display:"flex",flexDirection:"column",borderRight:"1px solid rgba(255,255,255,0.08)",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"12px 16px 10px",borderBottom:"1px solid rgba(255,255,255,0.08)",background:"rgba(0,0,0,0.35)",flexShrink:0},children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.3em",textTransform:"uppercase",marginBottom:"2px"},children:"New Doggerland  Admin"}),i.jsx("div",{style:{color:"#F5EFE0",fontSize:"15px",letterSpacing:"0.05em",marginBottom:"8px"},children:"Skill Tree Management"}),i.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:Fn,style:oe(ne?"#7FFF7F":Ie?"#FFAA44":W),children:ne||(Ie?"Save State ":"Save State")}),i.jsx("button",{onClick:kt,style:oe("#7B5EA7"),children:"Export state.json "}),ue&&i.jsxs("span",{style:{color:"rgba(255,255,255,0.28)",fontSize:"8px",alignSelf:"center"},children:["exported ",ue.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),i.jsx("button",{onClick:()=>{f(gg(e)),we(!0)},style:oe("#2F7B8C"),children:"Auto Layout"}),i.jsx("button",{onClick:()=>{f(C=>{const b={};return Object.entries(C).forEach(([J,K])=>{b[J]={x:Math.round(K.x/150)*150,y:Math.round(K.y/70)*70}}),b}),we(!0)},style:oe("#5A7B3F"),children:"Snap All to Grid"}),i.jsxs("button",{onClick:()=>$(u=>!u),style:{...oe(I?"#4ABB4A":"#555"),background:I?"rgba(74,187,74,0.15)":"rgba(255,255,255,0.05)"},children:[I?"":""," Grid + Columns"]}),i.jsx("button",{onClick:Yn,disabled:!Q.current,style:{...oe("#8B7355"),opacity:Q.current?1:.38,cursor:Q.current?"pointer":"not-allowed"},title:Q.current?"Revert all state to the loaded state.json":"No state.json loaded",children:"Reset to JSON"})]})]}),i.jsx("div",{style:{display:"flex",borderBottom:"1px solid rgba(255,255,255,0.07)",background:"rgba(0,0,0,0.2)",flexShrink:0},children:xg.map(u=>i.jsx("button",{onClick:()=>g(u),style:{padding:"8px 13px",fontSize:"9.5px",letterSpacing:"0.08em",cursor:"pointer",border:"none",fontFamily:"system-ui,sans-serif",background:d===u?"rgba(196,168,130,0.1)":"transparent",color:d===u?"#C4A882":"rgba(255,255,255,0.32)",borderBottom:d===u?"2px solid #C4A882":"2px solid transparent"},children:u},u))}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px 12px"},children:[d==="Nodes"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",gap:"6px"},children:[i.jsx("div",{style:{display:"flex",gap:"4px"},children:["all","0","1","2","3","4"].map(u=>i.jsx("button",{onClick:()=>B(u),style:{padding:"2px 7px",fontSize:"8.5px",border:`1px solid ${H===u?"#C4A882":"rgba(255,255,255,0.12)"}`,borderRadius:"3px",background:H===u?"rgba(196,168,130,0.15)":"transparent",color:H===u?"#C4A882":"rgba(255,255,255,0.35)",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:u==="all"?"All":`P${u}`},u))}),i.jsx("button",{onClick:To,style:oe("#4A7C59"),children:"+ Add Node"})]}),[...e].filter(u=>H==="all"||String(u.phase)===H).sort((u,v)=>u.phase-v.phase||(u.cost??0)-(v.cost??0)).map(u=>{const v=At[u.category]||At.community,C=F===u.id;return i.jsxs("div",{ref:b=>O.current[u.id]=b,style:{marginBottom:"3px",border:`1px solid ${C?v.color:"rgba(255,255,255,0.07)"}`,borderRadius:"4px",overflow:"hidden"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",cursor:"pointer",background:C?"rgba(255,255,255,0.03)":"transparent"},onClick:()=>R(C?null:u.id),children:[i.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:v.color,flexShrink:0}}),i.jsx("span",{style:{flex:1,fontSize:"11px"},children:u.label}),i.jsx("span",{style:{fontSize:"9px",color:"rgba(255,255,255,0.3)"},children:Tl(u.cost)}),i.jsx("span",{style:{fontSize:"8px",padding:"1px 6px",borderRadius:"8px",background:(on[y[u.id]]||on.locked).bg,color:(on[y[u.id]]||on.locked).color},children:(on[y[u.id]]||on.locked).label}),i.jsx("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"9px"},children:C?"":""})]}),C&&i.jsxs("div",{style:{padding:"10px 10px",borderTop:"1px solid rgba(255,255,255,0.06)",background:"rgba(0,0,0,0.18)"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"8px"},children:[i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Label"}),i.jsx("input",{style:A,value:u.label,onChange:b=>_e(u.id,"label",b.target.value)})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Status"}),i.jsx("select",{style:{...L,width:"100%"},value:y[u.id],onChange:b=>_e(u.id,"status",b.target.value),children:fg.map(b=>i.jsx("option",{value:b,children:(on[b]||on.locked).label},b))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Category"}),i.jsx("select",{style:{...L,width:"100%"},value:u.category,onChange:b=>_e(u.id,"category",b.target.value),children:Object.entries(s).map(([b,J])=>i.jsx("option",{value:b,children:J.label},b))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Phase"}),i.jsx("input",{style:A,type:"number",value:u.phase,onChange:b=>_e(u.id,"phase",parseInt(b.target.value)||0)})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Cost ($)"}),i.jsx("input",{style:A,type:"number",value:u.cost??"",placeholder:"blank = no cost",onChange:b=>_e(u.id,"cost",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Cost Monthly ($/mo)"}),i.jsx("input",{style:A,type:"number",value:u.costMonthly??"",placeholder:"recurring",onChange:b=>_e(u.id,"costMonthly",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Cost Yearly ($/yr)"}),i.jsx("input",{style:A,type:"number",value:u.costYearly??"",placeholder:"annual",onChange:b=>_e(u.id,"costYearly",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Min Projected Income ($/yr)"}),i.jsx("input",{style:A,type:"number",value:u.minProjectedIncome??"",placeholder:"none",onChange:b=>_e(u.id,"minProjectedIncome",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[i.jsx("input",{type:"checkbox",checked:u.emphasis||!1,onChange:b=>_e(u.id,"emphasis",b.target.checked)}),i.jsx("span",{style:{...D,marginBottom:0},children:"Emphasize (highlight)"})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"General Fund Min ($)"}),i.jsx("input",{style:A,type:"number",value:u.generalFundMin??"",placeholder:"none",onChange:b=>_e(u.id,"generalFundMin",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Income Min ($/yr)"}),i.jsx("input",{style:A,type:"number",value:u.incomeMin??"",placeholder:"none",onChange:b=>_e(u.id,"incomeMin",b.target.value===""?null:Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Income Max ($/yr)"}),i.jsx("input",{style:A,type:"number",value:u.incomeMax??"",placeholder:"none",onChange:b=>_e(u.id,"incomeMax",b.target.value===""?null:Number(b.target.value))})]})]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("span",{style:D,children:"Description"}),i.jsx("textarea",{style:{...A,height:46,resize:"vertical"},value:u.description,onChange:b=>_e(u.id,"description",b.target.value)})]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("span",{style:D,children:"Donor incentive"}),i.jsx("input",{style:A,value:u.perk||"",onChange:b=>_e(u.id,"perk",b.target.value),placeholder:"e.g. Your family name on the cornerstone"})]}),i.jsxs("div",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"checkbox",id:`pe-${u.id}`,checked:!!u.phaseEssential,onChange:b=>_e(u.id,"phaseEssential",b.target.checked),style:{accentColor:"#C4A882",cursor:"pointer"}}),i.jsx("label",{htmlFor:`pe-${u.id}`,style:{color:"rgba(255,255,255,0.55)",fontSize:"9px",cursor:"pointer",letterSpacing:"0.08em"},children:"Phase-progression essential - next phase locked until this is funded"})]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[i.jsx("span",{style:D,children:"Sponsor Item Requirements"}),i.jsx("button",{onClick:()=>Mt(u.id),style:{...oe("#2F7B8C"),fontSize:"8px",padding:"2px 7px"},children:"+ Add"})]}),(u.repeatableReqs||[]).map((b,J)=>i.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",marginBottom:"4px"},children:[i.jsx("select",{style:{...L,flex:1},value:b.repeatableId,onChange:K=>En(u.id,J,"repeatableId",K.target.value),children:n.map(K=>i.jsxs("option",{value:K.id,children:[K.icon," ",K.label]},K.id))}),i.jsx("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"9px",flexShrink:0},children:"min"}),i.jsx("input",{type:"number",style:{...A,width:50},value:b.minCount,onChange:K=>En(u.id,J,"minCount",K.target.value)}),i.jsx("button",{onClick:()=>pl(u.id,J),style:{color:"rgba(255,80,80,0.7)",background:"none",border:"none",cursor:"pointer",fontSize:"15px",lineHeight:1,flexShrink:0},children:""})]},J)),(u.repeatableReqs||[]).length===0&&i.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"9px"},children:"None - add item count requirements here"})]}),i.jsxs("div",{style:{paddingTop:"6px",borderTop:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"8px"},children:["ID: ",u.id]}),i.jsxs("div",{style:{display:"flex",gap:"6px"},children:[i.jsx("button",{onClick:()=>Vn(u.id),style:oe("#2F7B8C"),children:"Duplicate"}),i.jsx("button",{onClick:()=>Io(u.id),style:oe("rgba(255,80,80,0.8)"),children:"Delete"})]})]})]})]},u.id)})]}),d==="Edges"&&i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"8px"},children:"Add Edge"}),i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px",marginBottom:"8px"},children:"Item on the left depends on item on the right to be built/funded first"}),i.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginBottom:"14px",flexWrap:"wrap"},children:[i.jsxs("select",{style:{...L,flex:1},value:re,onChange:u=>Ee(u.target.value),children:[i.jsx("option",{value:"",children:"This item"}),[...e].sort((u,v)=>u.label.localeCompare(v.label)).map(u=>i.jsx("option",{value:u.id,children:u.label},u.id))]}),i.jsx("span",{style:{color:"rgba(255,200,80,0.5)",fontSize:"11px",flexShrink:0},children:"depends on"}),i.jsxs("select",{style:{...L,flex:1},value:te,onChange:u=>q(u.target.value),children:[i.jsx("option",{value:"",children:"This prerequisite"}),[...e].filter(u=>u.id!==re).sort((u,v)=>u.label.localeCompare(v.label)).map(u=>i.jsx("option",{value:u.id,children:u.label},u.id))]}),i.jsx("button",{onClick:No,style:oe("#4A7C59"),children:"Add"})]}),Y&&i.jsx("div",{style:{marginBottom:"10px",padding:"6px 9px",background:"rgba(255,200,80,0.07)",border:"1px solid rgba(255,200,80,0.25)",borderRadius:"3px",color:"rgba(255,200,80,0.85)",fontSize:"9px",lineHeight:1.5},children:Y}),i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"6px",marginTop:"16px"},children:"Insert Between"}),i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px",marginBottom:"8px"},children:"Pick an existing edge, then pick the node to splice in. The original edge is replaced by two new ones."}),i.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginBottom:"14px",flexWrap:"wrap"},children:[i.jsxs("select",{style:{...L,flex:2},value:he,onChange:u=>E(u.target.value),children:[i.jsx("option",{value:"",children:"Existing edge"}),[...Mn].sort((u,v)=>u.toLabel.localeCompare(v.toLabel)).map(u=>i.jsxs("option",{value:`${u.fromId}|${u.toId}`,children:[u.toLabel,"  ",u.fromLabel]},`${u.fromId}|${u.toId}`))]}),i.jsx("span",{style:{color:"rgba(255,200,80,0.5)",fontSize:"11px",flexShrink:0},children:"insert"}),i.jsxs("select",{style:{...L,flex:2},value:_,onChange:u=>T(u.target.value),children:[i.jsx("option",{value:"",children:"Node to splice in"}),[...e].filter(u=>{if(!he)return!0;const[v,C]=he.split("|");return u.id!==v&&u.id!==C}).sort((u,v)=>u.label.localeCompare(v.label)).map(u=>i.jsx("option",{value:u.id,children:u.label},u.id))]}),i.jsx("button",{onClick:Oo,style:oe("#7B5EA7"),children:"Insert"})]}),i.jsxs("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"6px"},children:["All Edges (",Mn.length,")"]}),i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8px",marginBottom:"8px"},children:"Left item requires right item to be built/funded first"}),Mn.map((u,v)=>{const C=P===`edge:${u.fromId}-${u.toId}`,b=`${u.fromId}|${u.toId}`,J=Z[b]||"",K=[...e].sort((le,Re)=>le.label.localeCompare(Re.label)),Ne=(le,Re)=>{if(!Re||Re===(le==="to"?u.toId:u.fromId))return;const We=le==="from"?Re:u.fromId,Se=le==="to"?Re:u.toId;if(We===Se)return;t(pt=>pt.map(De=>De.id===u.toId?{...De,dependencies:De.dependencies.filter(se=>se!==u.fromId)}:De)),setTimeout(()=>t(pt=>pt.map(De=>De.id===Se&&!De.dependencies.includes(We)?{...De,dependencies:[...De.dependencies,We]}:De)),10);const Ue=`${We}|${Se}`;J&&Ye(pt=>{const De={...pt};return delete De[b],De[Ue]=J,De}),we(!0)};return i.jsxs("div",{style:{marginBottom:"3px",background:C?"rgba(255,215,0,0.07)":"rgba(255,255,255,0.015)",border:C?"1px solid rgba(255,215,0,0.3)":"1px solid transparent",borderRadius:"3px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"5px 8px"},children:[i.jsx("select",{style:{...L,flex:1},value:u.toId,onChange:le=>Ne("to",le.target.value),children:K.map(le=>i.jsx("option",{value:le.id,children:le.label},le.id))}),i.jsx("span",{style:{color:"rgba(255,200,80,0.45)",fontSize:"9px",flexShrink:0},children:"depends on"}),i.jsx("select",{style:{...L,flex:1},value:u.fromId,onChange:le=>Ne("from",le.target.value),children:K.filter(le=>le.id!==u.toId).map(le=>i.jsx("option",{value:le.id,children:le.label},le.id))}),i.jsx("button",{onClick:()=>Do(u.fromId,u.toId),style:{color:"rgba(255,80,80,0.6)",background:"none",border:"none",cursor:"pointer",fontSize:"15px",lineHeight:1,padding:"0 3px",flexShrink:0},children:""})]}),i.jsx("div",{style:{padding:"0 8px 6px"},children:i.jsx("input",{style:{...A,fontSize:"8.5px",color:"rgba(255,255,255,0.5)",fontStyle:J?"normal":"italic"},value:J,placeholder:"Rationale (optional - shown in public detail panel when populated)",onChange:le=>Ye(Re=>({...Re,[b]:le.target.value}))})})]},`${u.fromId}-${u.toId}`)})]}),d==="Repeatables"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[i.jsxs("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"9.5px"},children:[n.length," items"]}),i.jsx("button",{onClick:gl,style:oe("#4A7C59"),children:"+ Add Item"})]}),n.map(u=>(At[u.category]||At.community,i.jsxs("div",{style:{marginBottom:"6px",border:"1px solid rgba(255,255,255,0.07)",borderRadius:"4px"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"30px 1fr 22px",gap:"6px",alignItems:"center",padding:"7px 9px 4px",background:"rgba(255,255,255,0.02)",borderRadius:"4px 4px 0 0"},children:[i.jsx("input",{style:{...A,padding:"2px 3px",fontSize:"14px",textAlign:"center"},value:u.icon,onChange:v=>h(u.id,"icon",v.target.value),title:"Icon"}),i.jsxs("div",{children:[i.jsx("input",{style:{...A,marginBottom:"3px"},value:u.label,onChange:v=>h(u.id,"label",v.target.value),placeholder:"Label"}),i.jsx("select",{style:{...L,width:"100%",fontSize:"9px"},value:u.requiredNode,onChange:v=>h(u.id,"requiredNode",v.target.value),children:e.map(v=>i.jsx("option",{value:v.id,children:v.label.slice(0,28)},v.id))})]}),i.jsx("button",{onClick:()=>j(u.id),style:{color:"rgba(255,80,80,0.6)",background:"none",border:"none",cursor:"pointer",fontSize:"16px",alignSelf:"start",paddingTop:"2px"},children:""})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"6px",padding:"4px 9px 6px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Cost $"}),i.jsx("input",{style:A,type:"number",value:u.cost,onChange:v=>h(u.id,"cost",Number(v.target.value))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Category"}),i.jsx("select",{style:{...L,width:"100%"},value:u.category,onChange:v=>h(u.id,"category",v.target.value),children:Object.keys(s).map(v=>i.jsx("option",{value:v,children:v},v))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Funded"}),i.jsx("input",{style:A,type:"number",value:m[u.id]||0,onChange:v=>M(C=>({...C,[u.id]:parseInt(v.target.value)||0}))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Target (max)"}),i.jsx("input",{style:A,type:"number",value:u.targetCount??"",placeholder:"",onChange:v=>h(u.id,"targetCount",v.target.value===""?null:parseInt(v.target.value)||1)})]})]}),i.jsxs("div",{style:{padding:"6px 9px 8px",background:"rgba(0,0,0,0.15)",borderRadius:"0 0 4px 4px"},children:[i.jsx("span",{style:D,children:"Item description"}),i.jsx("textarea",{style:{...A,height:38,resize:"none",marginBottom:"6px",fontSize:"9.5px"},value:u.description,onChange:v=>h(u.id,"description",v.target.value),placeholder:"What is this item and where does it go?"}),i.jsx("span",{style:D,children:"Donor incentive"}),i.jsx("input",{style:{...A,fontSize:"9.5px"},value:u.perk,onChange:v=>h(u.id,"perk",v.target.value),placeholder:"e.g. First to sit at this bench"})]})]},u.id)))]}),d==="Categories"&&i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"10px"},children:"Manage Categories"}),i.jsx("div",{style:{marginBottom:"12px",color:"rgba(255,255,255,0.4)",fontSize:"8px"},children:"Note: Removing a category does not delete nodes - they'll need reassignment."}),Object.entries(s).map(([u,v])=>i.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px",padding:"8px",background:"rgba(255,255,255,0.03)",borderRadius:"4px",border:`1px solid ${v.color}33`},children:[i.jsx("div",{style:{width:20,height:20,background:v.color,borderRadius:"3px",flexShrink:0}}),i.jsx("div",{style:{flex:1},children:i.jsx("input",{style:{...A,marginBottom:0},value:v.label,placeholder:"Category label",onChange:C=>{a(b=>({...b,[u]:{...b[u],label:C.target.value}})),we(!0)}})}),i.jsx("input",{type:"color",value:v.color,style:{width:40,height:28,border:"none",background:"transparent",cursor:"pointer"},onChange:C=>{a(b=>({...b,[u]:{...b[u],color:C.target.value}})),we(!0)}}),i.jsxs("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px",minWidth:60},children:[e.filter(C=>C.category===u).length," nodes"]}),u!=="start"&&i.jsx("button",{onClick:()=>{confirm(`Remove category "${v.label}"? Nodes will keep this category key but won't display properly until reassigned.`)&&(a(C=>{const b={...C};return delete b[u],b}),we(!0))},style:{...oe("#8B4A2F"),padding:"4px 8px",fontSize:"8px"},children:"Remove"})]},u)),i.jsx("button",{onClick:()=>{const u=`cat_${Date.now()}`,v=Math.max(...Object.values(s).map(C=>C.order),-1);a(C=>({...C,[u]:{label:"New Category",color:"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),order:v+1}})),we(!0)},style:{...oe("#4ABB4A"),marginTop:"8px"},children:"+ Add Category"})]}),d==="General Fund"&&i.jsxs("div",{children:[i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"10px"},children:"Fund Status"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"14px"},children:[i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Current Balance ($)"}),i.jsx("input",{style:A,type:"number",value:x.balance,onChange:u=>p(v=>({...v,balance:Number(u.target.value)}))})]}),i.jsxs("div",{children:[i.jsx("span",{style:D,children:"Goal ($)"}),i.jsx("input",{style:A,type:"number",value:x.goal,onChange:u=>p(v=>({...v,goal:Number(u.target.value)}))})]})]}),i.jsx("div",{style:{height:10,background:"rgba(255,255,255,0.07)",borderRadius:"5px",overflow:"hidden",marginBottom:"6px"},children:i.jsx("div",{style:{height:"100%",width:`${fe*100}%`,background:"linear-gradient(90deg,#4ABB4A,#7FFF7F)",borderRadius:"5px",transition:"width .4s"}})}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[i.jsx("span",{style:{color:"#7FFF7F",fontSize:"10px"},children:Tl(x.balance)}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"9px"},children:[Math.round(fe*100),"% of ",Tl(x.goal)]})]}),i.jsx("div",{style:{color:"#C4A882",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase",marginBottom:"8px"},children:"Nodes with Fund Requirements"}),e.filter(u=>u.generalFundMin).map(u=>{const v=x.balance>=u.generalFundMin;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"6px 8px",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[i.jsx("span",{style:{flex:1,fontSize:"10.5px",color:"rgba(255,255,255,0.58)"},children:u.label}),i.jsx("span",{style:{fontSize:"10px",color:v?"#7FFF7F":"rgba(255,200,80,0.85)",fontWeight:"bold"},children:Tl(u.generalFundMin)}),i.jsx("span",{style:{fontSize:"9px",color:v?"rgba(127,255,127,0.5)":"rgba(255,200,80,0.4)"},children:v?" met":"not yet"})]},u.id)}),e.filter(u=>u.generalFundMin).length===0&&i.jsx("div",{style:{color:"rgba(255,255,255,0.22)",fontSize:"10px"},children:"No nodes have fund requirements. Edit a node and set a General Fund Min."})]})]})]}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"9px 14px",borderBottom:"1px solid rgba(255,255,255,0.07)",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"8.5px",letterSpacing:"0.2em",textTransform:"uppercase"},children:"Position Editor"}),i.jsxs("button",{onClick:()=>Et(u=>!u),style:{padding:"2px 8px",fontSize:"7.5px",border:`1px solid ${Pe?"rgba(196,168,130,0.4)":"rgba(255,255,255,0.12)"}`,borderRadius:"3px",background:Pe?"rgba(196,168,130,0.1)":"transparent",color:Pe?"#C4A882":"rgba(255,255,255,0.3)",cursor:"pointer",fontFamily:"system-ui,sans-serif"},children:["Phase lines ",Pe?"on":"off"]}),Bt.size>1&&i.jsxs("span",{style:{color:"rgba(136,204,255,0.7)",fontSize:"7.5px",letterSpacing:"0.08em"},children:[Bt.size," selected - drag any to move group"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[Ie&&i.jsx("span",{style:{color:"rgba(255,200,80,0.8)",fontSize:"8px",letterSpacing:"0.08em"},children:" unsaved positions"}),i.jsxs("span",{style:{color:"rgba(255,255,255,0.22)",fontSize:"8.5px"},children:[e.length," nodes  ",Mn.length," edges  ",n.length," sponsor items"]})]})]}),i.jsx("div",{style:{flex:1,overflow:"hidden",padding:"8px"},children:i.jsx(mg,{nodes:e,nodeStatuses:y,positions:c,onPositionsChange:u=>{f(u),we(!0)},onNodeSelect:V,onEdgeSelect:ce,selectedId:P,showPhaseSep:Pe,phaseSeps:Ke||[],onPhaseSepsChange:$e,onNodePhaseChange:nn,showGrid:I,gridSize:ee,selectedNodes:Bt,onSelectedNodesChange:dt})})]})]})}const pi="New_Doggerland_Consolidated_Governance.pdf",Sg="linear-gradient(160deg,#060c06 0%,#0c160c 50%,#060a06 100%)",Rn="#C4A882",is="#F5EFE0",mu="#7FFF7F",sn="rgba(196,168,130,0.25)";function bg(e,t){`${e.section} ${e.subsection} ${e.text}`.toLowerCase();let n=0;for(const r of t){e.section.toLowerCase().includes(r)&&(n+=4),e.subsection.toLowerCase().includes(r)&&(n+=3);const l=new RegExp(r,"gi"),o=(e.text.match(l)||[]).length;n+=o}return n}function fi(e,t){if(!t.length)return e;const n=new RegExp(`(${t.map(r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi");return e.replace(n,`<mark style="background:rgba(127,255,127,0.35);color:${is};border-radius:2px;padding:0 2px">$1</mark>`)}function _g(e,t,n=220){if(!t.length)return e.slice(0,n)+(e.length>n?"":"");const r=new RegExp(t.map(a=>a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"i"),l=e.search(r);if(l<0)return e.slice(0,n)+(e.length>n?"":"");const o=Math.max(0,l-80),s=Math.min(e.length,o+n);return(o>0?"":"")+e.slice(o,s)+(s<e.length?"":"")}function jg(){const[e,t]=S.useState([]),[n,r]=S.useState(""),[l,o]=S.useState(null),[s,a]=S.useState(1),[c,f]=S.useState(!1),y=S.useRef(null),w=S.useRef(null);S.useEffect(()=>{fetch("gov_search_index.json").then(x=>x.json()).then(x=>t(x.filter(p=>p.section))).catch(()=>{})},[]),S.useEffect(()=>{var x;(x=w.current)==null||x.focus()},[]);const m=S.useMemo(()=>n.trim().toLowerCase().split(/\s+/).filter(x=>x.length>1),[n]),M=S.useMemo(()=>m.length?e.map(x=>({...x,score:bg(x,m)})).filter(x=>x.score>0).sort((x,p)=>p.score-x.score).slice(0,60):e.slice(0,40),[e,m]),z=S.useCallback(x=>{if(o(x),a(x.page),y.current){const p=pi;y.current.src=`${p}#page=${x.page}`}},[]),k=`${pi}#page=${s}`;return i.jsxs("div",{style:{width:"100%",height:"100vh",background:Sg,fontFamily:"Georgia,serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[i.jsxs("div",{style:{background:"linear-gradient(180deg,rgba(0,0,0,0.95) 0%,rgba(0,0,0,0.6) 100%)",borderBottom:`1px solid ${sn}`,padding:"8px 16px",display:"flex",alignItems:"center",gap:14,flexShrink:0,zIndex:10},children:[i.jsx("img",{src:"https://newdoggerland.org/ND001.png",alt:"ND",style:{width:42,height:42,objectFit:"contain",opacity:.92,filter:"drop-shadow(0 0 6px rgba(255,215,0,0.3))"}}),i.jsxs("div",{children:[i.jsx("div",{style:{color:Rn,fontSize:8,letterSpacing:"0.38em",textTransform:"uppercase"},children:"New Doggerland"}),i.jsx("div",{style:{color:is,fontSize:15,letterSpacing:"0.06em"},children:"Governance Document Discovery"})]}),i.jsx("div",{style:{flex:1}}),i.jsx("button",{onClick:()=>{window.location.hash=""},style:{background:"rgba(196,168,130,0.1)",border:`1px solid ${sn}`,color:Rn,borderRadius:4,padding:"6px 14px",cursor:"pointer",fontSize:12,fontFamily:"Georgia,serif",letterSpacing:"0.04em"},children:" Skill Tree"})]}),i.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[i.jsxs("div",{style:{width:340,minWidth:260,flexShrink:0,display:"flex",flexDirection:"column",borderRight:`1px solid ${sn}`,background:"rgba(0,0,0,0.35)",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"12px 12px 8px",borderBottom:`1px solid ${sn}`,flexShrink:0},children:[i.jsxs("div",{style:{position:"relative"},children:[i.jsx("span",{style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"rgba(196,168,130,0.5)",fontSize:14,pointerEvents:"none"},children:""}),i.jsx("input",{ref:w,value:n,onChange:x=>r(x.target.value),placeholder:"Search governance",style:{width:"100%",boxSizing:"border-box",background:"rgba(255,255,255,0.05)",border:`1px solid ${sn}`,borderRadius:4,padding:"8px 10px 8px 30px",color:is,fontSize:13,fontFamily:"Georgia,serif",outline:"none"}}),n&&i.jsx("button",{onClick:()=>r(""),style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255,255,255,0.35)",cursor:"pointer",fontSize:16,lineHeight:1,padding:0},children:""})]}),i.jsx("div",{style:{color:"rgba(196,168,130,0.45)",fontSize:10,marginTop:5,letterSpacing:"0.05em"},children:m.length?`${M.length} result${M.length!==1?"s":""}`:`${e.length} sections indexed`})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"6px 0"},children:[M.map(x=>{const p=(l==null?void 0:l.id)===x.id,d=_g(x.text,m);return i.jsxs("div",{onClick:()=>z(x),style:{padding:"10px 14px",margin:"2px 6px",borderRadius:4,cursor:"pointer",background:p?"rgba(127,255,127,0.08)":"rgba(255,255,255,0.02)",border:`1px solid ${p?"rgba(127,255,127,0.35)":"rgba(255,255,255,0.05)"}`,transition:"background 0.15s, border-color 0.15s"},children:[i.jsx("div",{style:{color:p?mu:Rn,fontSize:11,fontWeight:"bold",letterSpacing:"0.04em",marginBottom:2,textTransform:"uppercase"},dangerouslySetInnerHTML:{__html:fi(x.section,m)}}),x.subsection&&i.jsx("div",{style:{color:"rgba(245,239,224,0.6)",fontSize:11,marginBottom:4},dangerouslySetInnerHTML:{__html:fi(x.subsection,m)}}),i.jsx("div",{style:{color:"rgba(245,239,224,0.5)",fontSize:11,lineHeight:1.5},dangerouslySetInnerHTML:{__html:fi(d,m)}}),i.jsxs("div",{style:{marginTop:5,display:"inline-block",background:"rgba(196,168,130,0.1)",border:`1px solid ${sn}`,borderRadius:3,padding:"1px 6px",color:"rgba(196,168,130,0.6)",fontSize:10,letterSpacing:"0.05em"},children:["p. ",x.page]})]},x.id)}),M.length===0&&m.length>0&&i.jsxs("div",{style:{color:"rgba(245,239,224,0.3)",fontSize:12,padding:"20px 14px",textAlign:"center"},children:['No results for "',n,'"']})]})]}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[l&&i.jsxs("div",{style:{padding:"6px 16px",background:"rgba(0,0,0,0.4)",borderBottom:`1px solid ${sn}`,display:"flex",alignItems:"center",gap:10,flexShrink:0},children:[i.jsx("div",{style:{color:mu,fontSize:11,fontWeight:"bold",letterSpacing:"0.04em",textTransform:"uppercase"},children:l.section}),l.subsection&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{color:"rgba(196,168,130,0.4)",fontSize:11},children:""}),i.jsx("div",{style:{color:Rn,fontSize:11},children:l.subsection})]}),i.jsx("div",{style:{flex:1}}),i.jsxs("div",{style:{background:"rgba(196,168,130,0.1)",border:`1px solid ${sn}`,borderRadius:3,padding:"2px 8px",color:"rgba(196,168,130,0.6)",fontSize:11},children:["Page ",l.page]})]}),i.jsxs("div",{style:{position:"relative",flex:1,overflow:"hidden"},children:[i.jsx("iframe",{ref:y,src:k,title:"Governance Document",onLoad:()=>f(!0),style:{width:"100%",height:"100%",border:"none",display:"block"}}),!c&&i.jsxs("div",{style:{position:"absolute",inset:0,background:"rgba(6,12,6,0.92)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:12,pointerEvents:"none"},children:[i.jsx("div",{style:{color:Rn,fontSize:22,opacity:.35},children:""}),i.jsxs("div",{style:{color:"rgba(245,239,224,0.4)",fontSize:13,textAlign:"center",maxWidth:320},children:["Place ",i.jsx("code",{style:{color:Rn},children:pi}),i.jsx("br",{}),"in the same folder as ",i.jsx("code",{style:{color:Rn},children:"index.html"})]})]})]})]})]})]})}function Cg(){const[e,t]=S.useState(window.location.hash);return S.useEffect(()=>{const n=()=>t(window.location.hash);return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),e}function Fg(){const e=Cg();return e==="#/admin"||e.startsWith("#/admin")?i.jsx(kg,{}):e==="#/governance"||e.startsWith("#/governance")?i.jsx(jg,{}):i.jsx(pg,{})}Md(document.getElementById("root")).render(i.jsx(S.StrictMode,{children:i.jsx(Fg,{})}));
